2025-03-22 20:51:05.017 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-22 20:51:05.084 +02:00 [INF] User profile is available. Using 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-22 20:51:05.094 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-03-22 20:51:05.134 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-22 20:51:05.507 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-03-22 20:51:05.510 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-03-22 20:51:05.576 +02:00 [DBG] The property 'AppUser.AddressId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:51:05.577 +02:00 [DBG] The property 'Order.DeliveryMethodId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:51:05.579 +02:00 [DBG] The property 'OrderItem.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:51:05.579 +02:00 [DBG] The property 'PaymentSummary.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:51:05.580 +02:00 [DBG] The property 'ProductItemOrdered.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:51:05.581 +02:00 [DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:51:05.624 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 20:51:05.640 +02:00 [DBG] Creating DbConnection.
2025-03-22 20:51:05.663 +02:00 [DBG] Created DbConnection. (21ms).
2025-03-22 20:51:05.664 +02:00 [DBG] Migrating using database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.672 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.756 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.759 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:51:05.764 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (4ms).
2025-03-22 20:51:05.766 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-03-22 20:51:05.770 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:51:05.792 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:51:05.795 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.799 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 20:51:05.800 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.801 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.803 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-22 20:51:05.805 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:51:05.806 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:51:05.807 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-03-22 20:51:05.808 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:51:05.823 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:51:05.877 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:51:05.881 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:51:05.883 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:51:05.884 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:51:05.885 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-03-22 20:51:05.886 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:51:05.890 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:51:05.892 +02:00 [DBG] Committing transaction.
2025-03-22 20:51:05.894 +02:00 [DBG] Committed transaction.
2025-03-22 20:51:05.896 +02:00 [DBG] Disposing transaction.
2025-03-22 20:51:05.899 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:51:05.901 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:51:05.903 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:51:05.904 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 20:51:05.904 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:51:05.905 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:51:05.907 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:51:05.908 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:51:05.910 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:51:05.910 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-03-22 20:51:05.914 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:51:05.917 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:51:05.920 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:51:05.920 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:51:05.921 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:51:05.922 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:51:05.931 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:51:05.935 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.937 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 20:51:05.940 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-22 20:51:05.941 +02:00 [DBG] Committing transaction.
2025-03-22 20:51:05.944 +02:00 [DBG] Committed transaction.
2025-03-22 20:51:05.945 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:51:05.945 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:51:05.947 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-03-22 20:51:05.949 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:51:05.952 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:51:05.953 +02:00 [DBG] Disposing transaction.
2025-03-22 20:51:05.954 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:05.955 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:51:05.975 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any(x => x.UserName == "admin@test.com")'
2025-03-22 20:51:06.059 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com')) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com'), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:51:06.078 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.079 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.080 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:51:06.081 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:51:06.082 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:51:06.083 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:51:06.088 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:51:06.092 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.093 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 20:51:06.094 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.095 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:51:06.096 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any()'
2025-03-22 20:51:06.098 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:51:06.100 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.101 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.101 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:51:06.102 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:51:06.102 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:51:06.103 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:51:06.106 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:51:06.107 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.108 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 20:51:06.108 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.109 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:51:06.110 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()
    .Any()'
2025-03-22 20:51:06.116 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:51:06.117 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.118 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.119 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:51:06.119 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:51:06.120 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:51:06.121 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:51:06.124 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:51:06.126 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.127 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 20:51:06.128 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.128 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:51:06.130 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 20:51:06.131 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:51:06.132 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 20:51:06.134 +02:00 [DBG] Hosting starting
2025-03-22 20:51:06.140 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-5e699438-21c5-42be-8ead-438fe0a56227.xml'.
2025-03-22 20:51:06.150 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-cf66b8ce-b2c4-4a86-909b-e29c58198c63.xml'.
2025-03-22 20:51:06.160 +02:00 [DBG] Found key {5e699438-21c5-42be-8ead-438fe0a56227}.
2025-03-22 20:51:06.163 +02:00 [DBG] Found key {cf66b8ce-b2c4-4a86-909b-e29c58198c63}.
2025-03-22 20:51:06.167 +02:00 [DBG] Considering key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} with expiration date 2025-06-14 13:37:44Z as default key.
2025-03-22 20:51:06.169 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:51:06.170 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-22 20:51:06.171 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:51:06.173 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-22 20:51:06.175 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-22 20:51:06.178 +02:00 [DBG] Using key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} as the default key.
2025-03-22 20:51:06.179 +02:00 [DBG] Key ring with default key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} was loaded during application startup.
2025-03-22 20:51:06.206 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-03-22 20:51:06.207 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-22 20:51:06.239 +02:00 [INF] Now listening on: http://localhost:5000
2025-03-22 20:51:06.239 +02:00 [INF] Now listening on: https://localhost:5001
2025-03-22 20:51:06.240 +02:00 [DBG] Loaded hosting startup assembly API
2025-03-22 20:51:06.240 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-22 20:51:06.241 +02:00 [INF] Hosting environment: Development
2025-03-22 20:51:06.241 +02:00 [INF] Content root path: C:\Users\M\Desktop\skinet\api
2025-03-22 20:51:06.243 +02:00 [DBG] Hosting started
2025-03-22 20:51:11.639 +02:00 [DBG] Connection id "0HNB9EA1U75NS" accepted.
2025-03-22 20:51:11.641 +02:00 [DBG] Connection id "0HNB9EA1U75NS" started.
2025-03-22 20:51:11.660 +02:00 [DBG] Connection 0HNB9EA1U75NS established using the following protocol: "Tls13"
2025-03-22 20:51:11.686 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ - null null
2025-03-22 20:51:11.699 +02:00 [DBG] 1 candidate(s) found for the request path '/'
2025-03-22 20:51:11.700 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/'
2025-03-22 20:51:11.703 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 20:51:11.708 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:11.714 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.715 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.717 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 20:51:11.724 +02:00 [INF] HTTP GET / responded 301 in 18.9591 ms
2025-03-22 20:51:11.728 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ - 301 0 null 42.4024ms
2025-03-22 20:51:11.735 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - null null
2025-03-22 20:51:11.737 +02:00 [DBG] 1 candidate(s) found for the request path '/index.html'
2025-03-22 20:51:11.739 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.html' for the request path '/index.html'
2025-03-22 20:51:11.741 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.html'
2025-03-22 20:51:11.742 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:11.743 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:11.744 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.745 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.747 +02:00 [DBG] The request path /index.html does not match an existing file
2025-03-22 20:51:11.767 +02:00 [INF] HTTP GET /index.html responded 200 in 24.8202 ms
2025-03-22 20:51:11.768 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - 200 null text/html;charset=utf-8 33.5395ms
2025-03-22 20:51:11.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui.css - null null
2025-03-22 20:51:11.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.css - null null
2025-03-22 20:51:11.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - null null
2025-03-22 20:51:11.789 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - null null
2025-03-22 20:51:11.789 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.js - null null
2025-03-22 20:51:11.790 +02:00 [DBG] 1 candidate(s) found for the request path '/swagger-ui.css'
2025-03-22 20:51:11.791 +02:00 [DBG] 1 candidate(s) found for the request path '/index.css'
2025-03-22 20:51:11.792 +02:00 [DBG] 1 candidate(s) found for the request path '/swagger-ui-bundle.js'
2025-03-22 20:51:11.793 +02:00 [DBG] 1 candidate(s) found for the request path '/swagger-ui-standalone-preset.js'
2025-03-22 20:51:11.794 +02:00 [DBG] 1 candidate(s) found for the request path '/index.js'
2025-03-22 20:51:11.795 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'swagger-ui.css' for the request path '/swagger-ui.css'
2025-03-22 20:51:11.795 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.css' for the request path '/index.css'
2025-03-22 20:51:11.796 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'swagger-ui-bundle.js' for the request path '/swagger-ui-bundle.js'
2025-03-22 20:51:11.797 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'swagger-ui-standalone-preset.js' for the request path '/swagger-ui-standalone-preset.js'
2025-03-22 20:51:11.797 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.js' for the request path '/index.js'
2025-03-22 20:51:11.799 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/swagger-ui.css'
2025-03-22 20:51:11.800 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.css'
2025-03-22 20:51:11.801 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/swagger-ui-bundle.js'
2025-03-22 20:51:11.802 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/swagger-ui-standalone-preset.js'
2025-03-22 20:51:11.803 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.js'
2025-03-22 20:51:11.804 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:11.805 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:11.806 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:11.806 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:11.807 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:11.808 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:11.808 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:11.808 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:11.809 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:11.809 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:11.810 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.810 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.811 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.811 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.812 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.812 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.813 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.813 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.814 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.815 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:11.815 +02:00 [DBG] The request path /swagger-ui.css does not match an existing file
2025-03-22 20:51:11.816 +02:00 [DBG] The request path /index.css does not match an existing file
2025-03-22 20:51:11.816 +02:00 [DBG] The request path /swagger-ui-bundle.js does not match an existing file
2025-03-22 20:51:11.817 +02:00 [DBG] The request path /swagger-ui-standalone-preset.js does not match an existing file
2025-03-22 20:51:11.817 +02:00 [DBG] The request path /index.js does not match an existing file
2025-03-22 20:51:11.820 +02:00 [INF] HTTP GET /index.js responded 200 in 11.0832 ms
2025-03-22 20:51:11.821 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.js - 200 null application/javascript;charset=utf-8 32.1153ms
2025-03-22 20:51:11.822 +02:00 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-03-22 20:51:11.824 +02:00 [INF] HTTP GET /index.css responded 200 in 15.7696 ms
2025-03-22 20:51:11.825 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.css - 200 202 text/css 36.4882ms
2025-03-22 20:51:11.831 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-03-22 20:51:11.831 +02:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-03-22 20:51:11.832 +02:00 [INF] HTTP GET /swagger-ui.css responded 200 in 24.9838 ms
2025-03-22 20:51:11.833 +02:00 [INF] HTTP GET /swagger-ui-standalone-preset.js responded 200 in 23.8545 ms
2025-03-22 20:51:11.834 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui.css - 200 154948 text/css 46.1365ms
2025-03-22 20:51:11.834 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-standalone-preset.js - 200 229223 text/javascript 45.3603ms
2025-03-22 20:51:11.839 +02:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-03-22 20:51:11.840 +02:00 [INF] HTTP GET /swagger-ui-bundle.js responded 200 in 31.6879 ms
2025-03-22 20:51:11.841 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger-ui-bundle.js - 200 1466324 text/javascript 52.7632ms
2025-03-22 20:51:12.015 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-03-22 20:51:12.017 +02:00 [DBG] 1 candidate(s) found for the request path '/swagger/v1/swagger.json'
2025-03-22 20:51:12.019 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'swagger/v1/swagger.json' for the request path '/swagger/v1/swagger.json'
2025-03-22 20:51:12.020 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/swagger/v1/swagger.json'
2025-03-22 20:51:12.021 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:12.022 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:12.022 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:12.023 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:12.024 +02:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2025-03-22 20:51:12.027 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-03-22 20:51:12.031 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-03-22 20:51:12.032 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon-32x32.png - null null
2025-03-22 20:51:12.034 +02:00 [DBG] 1 candidate(s) found for the request path '/favicon-32x32.png'
2025-03-22 20:51:12.035 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'favicon-32x32.png' for the request path '/favicon-32x32.png'
2025-03-22 20:51:12.036 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/favicon-32x32.png'
2025-03-22 20:51:12.037 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:51:12.037 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:12.039 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:12.039 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:12.040 +02:00 [DBG] The request path /favicon-32x32.png does not match an existing file
2025-03-22 20:51:12.041 +02:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-03-22 20:51:12.041 +02:00 [INF] HTTP GET /favicon-32x32.png responded 200 in 3.8941 ms
2025-03-22 20:51:12.042 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon-32x32.png - 200 628 image/png 10.0065ms
2025-03-22 20:51:12.084 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 62.3393 ms
2025-03-22 20:51:12.085 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 70.1166ms
2025-03-22 20:51:35.788 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/Account/user-info - null null
2025-03-22 20:51:35.792 +02:00 [DBG] 2 candidate(s) found for the request path '/api/Account/user-info'
2025-03-22 20:51:35.799 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.GetUserInfo (API)' with route pattern 'api/Account/user-info' is valid for the request path '/api/Account/user-info'
2025-03-22 20:51:35.807 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/Account/user-info'
2025-03-22 20:51:35.832 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 20:51:35.848 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:51:35.852 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:35.854 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:51:35.856 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 20:51:35.857 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 20:51:35.862 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 20:51:35.895 +02:00 [INF] Route matched with {action = "GetUserInfo", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUserInfo() on controller API.Controllers.AccountController (API).
2025-03-22 20:51:35.917 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 20:51:35.924 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 20:51:35.928 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 20:51:35.939 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 20:51:35.941 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 20:51:35.959 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 20:51:35.972 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 20:51:35.978 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-22 20:51:35.990 +02:00 [INF] Executed action API.Controllers.AccountController.GetUserInfo (API) in 28.8606ms
2025-03-22 20:51:35.996 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 20:51:35.997 +02:00 [INF] HTTP GET /api/Account/user-info responded 204 in 148.9855 ms
2025-03-22 20:51:36.001 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/Account/user-info - 204 null null 213.0899ms
2025-03-22 20:51:52.306 +02:00 [INF] Application is shutting down...
2025-03-22 20:51:52.308 +02:00 [DBG] Hosting stopping
2025-03-22 20:51:52.316 +02:00 [DBG] Connection id "0HNB9EA1U75NS" is closing.
2025-03-22 20:51:52.317 +02:00 [DBG] Connection id "0HNB9EA1U75NS" is closed. The last processed stream ID was 19.
2025-03-22 20:51:52.319 +02:00 [DBG] Connection id "0HNB9EA1U75NS" received FIN.
2025-03-22 20:51:52.320 +02:00 [DBG] The connection queue processing loop for 0HNB9EA1U75NS completed.
2025-03-22 20:51:52.321 +02:00 [DBG] Connection id "0HNB9EA1U75NS" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 20:51:52.328 +02:00 [DBG] Connection id "0HNB9EA1U75NS" stopped.
2025-03-22 20:51:52.331 +02:00 [DBG] Hosting stopped
2025-03-22 20:53:01.692 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-22 20:53:01.767 +02:00 [INF] User profile is available. Using 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-22 20:53:01.784 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-03-22 20:53:01.820 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-22 20:53:02.093 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-03-22 20:53:02.095 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-03-22 20:53:02.174 +02:00 [DBG] The property 'AppUser.AddressId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:53:02.175 +02:00 [DBG] The property 'Order.DeliveryMethodId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:53:02.176 +02:00 [DBG] The property 'OrderItem.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:53:02.178 +02:00 [DBG] The property 'PaymentSummary.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:53:02.179 +02:00 [DBG] The property 'ProductItemOrdered.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:53:02.180 +02:00 [DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:53:02.242 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 20:53:02.255 +02:00 [DBG] Creating DbConnection.
2025-03-22 20:53:02.279 +02:00 [DBG] Created DbConnection. (22ms).
2025-03-22 20:53:02.282 +02:00 [DBG] Migrating using database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.286 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.366 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.370 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:53:02.375 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (3ms).
2025-03-22 20:53:02.378 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (7ms).
2025-03-22 20:53:02.381 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:53:02.405 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:53:02.408 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.412 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 20:53:02.413 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.415 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.417 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-22 20:53:02.419 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:53:02.420 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:53:02.421 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:53:02.423 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:53:02.438 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:53:02.504 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:53:02.507 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:53:02.508 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:53:02.509 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 20:53:02.510 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:53:02.510 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:53:02.513 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:53:02.517 +02:00 [DBG] Committing transaction.
2025-03-22 20:53:02.520 +02:00 [DBG] Committed transaction.
2025-03-22 20:53:02.522 +02:00 [DBG] Disposing transaction.
2025-03-22 20:53:02.525 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:53:02.530 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:53:02.533 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:53:02.534 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 20:53:02.534 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:53:02.536 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:53:02.538 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:53:02.541 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:53:02.541 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:53:02.542 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:53:02.544 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:53:02.548 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:53:02.552 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:53:02.553 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:53:02.554 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:53:02.555 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:53:02.562 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:53:02.566 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.568 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 4ms reading results.
2025-03-22 20:53:02.571 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-22 20:53:02.572 +02:00 [DBG] Committing transaction.
2025-03-22 20:53:02.573 +02:00 [DBG] Committed transaction.
2025-03-22 20:53:02.574 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:53:02.574 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:53:02.575 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:53:02.576 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:53:02.579 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:53:02.581 +02:00 [DBG] Disposing transaction.
2025-03-22 20:53:02.583 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.584 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:53:02.613 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any(x => x.UserName == "admin@test.com")'
2025-03-22 20:53:02.705 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com')) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com'), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:53:02.723 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.725 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.726 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:53:02.727 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:53:02.728 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 20:53:02.729 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:53:02.732 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:53:02.737 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.738 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 20:53:02.740 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.740 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:53:02.743 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any()'
2025-03-22 20:53:02.745 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:53:02.747 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.748 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.749 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:53:02.750 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:53:02.751 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 20:53:02.751 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:53:02.754 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:53:02.755 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.755 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 20:53:02.756 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.757 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:53:02.758 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()
    .Any()'
2025-03-22 20:53:02.764 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:53:02.766 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.767 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.768 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:53:02.768 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:53:02.769 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:53:02.770 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:53:02.771 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:53:02.773 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.774 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 20:53:02.775 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.776 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:53:02.777 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 20:53:02.779 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:53:02.780 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 20:53:02.783 +02:00 [DBG] Hosting starting
2025-03-22 20:53:02.788 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-5e699438-21c5-42be-8ead-438fe0a56227.xml'.
2025-03-22 20:53:02.789 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-cf66b8ce-b2c4-4a86-909b-e29c58198c63.xml'.
2025-03-22 20:53:02.792 +02:00 [DBG] Found key {5e699438-21c5-42be-8ead-438fe0a56227}.
2025-03-22 20:53:02.795 +02:00 [DBG] Found key {cf66b8ce-b2c4-4a86-909b-e29c58198c63}.
2025-03-22 20:53:02.798 +02:00 [DBG] Considering key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} with expiration date 2025-06-14 13:37:44Z as default key.
2025-03-22 20:53:02.801 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:53:02.802 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-22 20:53:02.803 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:53:02.805 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-22 20:53:02.811 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-22 20:53:02.815 +02:00 [DBG] Using key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} as the default key.
2025-03-22 20:53:02.816 +02:00 [DBG] Key ring with default key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} was loaded during application startup.
2025-03-22 20:53:02.840 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-03-22 20:53:02.841 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-22 20:53:02.879 +02:00 [INF] Now listening on: http://localhost:5000
2025-03-22 20:53:02.882 +02:00 [INF] Now listening on: https://localhost:5001
2025-03-22 20:53:02.883 +02:00 [DBG] Loaded hosting startup assembly API
2025-03-22 20:53:02.884 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-22 20:53:02.884 +02:00 [INF] Hosting environment: Development
2025-03-22 20:53:02.886 +02:00 [INF] Content root path: C:\Users\M\Desktop\skinet\api
2025-03-22 20:53:02.889 +02:00 [DBG] Hosting started
2025-03-22 20:53:04.824 +02:00 [DBG] Connection id "0HNB9EB3LKAQ1" accepted.
2025-03-22 20:53:04.825 +02:00 [DBG] Connection id "0HNB9EB3LKAQ1" started.
2025-03-22 20:53:04.853 +02:00 [DBG] Connection 0HNB9EB3LKAQ1 established using the following protocol: "Tls13"
2025-03-22 20:53:04.884 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - null null
2025-03-22 20:53:04.897 +02:00 [DBG] 1 candidate(s) found for the request path '/index.html'
2025-03-22 20:53:04.901 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.html' for the request path '/index.html'
2025-03-22 20:53:04.904 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.html'
2025-03-22 20:53:04.907 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:53:04.912 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:53:04.916 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:53:04.917 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:53:04.919 +02:00 [DBG] The request path /index.html does not match an existing file
2025-03-22 20:53:04.944 +02:00 [INF] HTTP GET /index.html responded 200 in 34.5359 ms
2025-03-22 20:53:04.948 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - 200 null text/html;charset=utf-8 64.8962ms
2025-03-22 20:53:04.982 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.js - null null
2025-03-22 20:53:04.984 +02:00 [DBG] 1 candidate(s) found for the request path '/index.js'
2025-03-22 20:53:04.985 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.js' for the request path '/index.js'
2025-03-22 20:53:04.987 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.js'
2025-03-22 20:53:04.989 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:53:04.991 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:53:04.993 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:53:04.993 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:53:04.994 +02:00 [DBG] The request path /index.js does not match an existing file
2025-03-22 20:53:04.996 +02:00 [INF] HTTP GET /index.js responded 200 in 5.7699 ms
2025-03-22 20:53:04.997 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.js - 200 null application/javascript;charset=utf-8 14.7099ms
2025-03-22 20:53:05.155 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-03-22 20:53:05.156 +02:00 [DBG] 1 candidate(s) found for the request path '/swagger/v1/swagger.json'
2025-03-22 20:53:05.157 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'swagger/v1/swagger.json' for the request path '/swagger/v1/swagger.json'
2025-03-22 20:53:05.158 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/swagger/v1/swagger.json'
2025-03-22 20:53:05.159 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:53:05.160 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:53:05.161 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:53:05.162 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:53:05.163 +02:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2025-03-22 20:53:05.167 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-03-22 20:53:05.171 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-03-22 20:53:05.222 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 63.0707 ms
2025-03-22 20:53:05.226 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 71.5095ms
2025-03-22 20:54:33.501 +02:00 [INF] Application is shutting down...
2025-03-22 20:54:33.502 +02:00 [DBG] Hosting stopping
2025-03-22 20:54:33.511 +02:00 [DBG] Connection id "0HNB9EB3LKAQ1" is closing.
2025-03-22 20:54:33.513 +02:00 [DBG] Connection id "0HNB9EB3LKAQ1" is closed. The last processed stream ID was 5.
2025-03-22 20:54:33.515 +02:00 [DBG] The connection queue processing loop for 0HNB9EB3LKAQ1 completed.
2025-03-22 20:54:33.517 +02:00 [DBG] Connection id "0HNB9EB3LKAQ1" received FIN.
2025-03-22 20:54:33.517 +02:00 [DBG] Connection id "0HNB9EB3LKAQ1" stopped.
2025-03-22 20:54:33.518 +02:00 [DBG] Connection id "0HNB9EB3LKAQ1" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 20:54:33.522 +02:00 [DBG] Hosting stopped
2025-03-22 20:54:38.421 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-22 20:54:38.489 +02:00 [INF] User profile is available. Using 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-22 20:54:38.496 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-03-22 20:54:38.536 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-22 20:54:38.740 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-03-22 20:54:38.741 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-03-22 20:54:38.807 +02:00 [DBG] The property 'AppUser.AddressId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:54:38.809 +02:00 [DBG] The property 'Order.DeliveryMethodId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:54:38.810 +02:00 [DBG] The property 'OrderItem.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:54:38.810 +02:00 [DBG] The property 'PaymentSummary.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:54:38.811 +02:00 [DBG] The property 'ProductItemOrdered.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:54:38.812 +02:00 [DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:54:38.854 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 20:54:38.862 +02:00 [DBG] Creating DbConnection.
2025-03-22 20:54:38.876 +02:00 [DBG] Created DbConnection. (13ms).
2025-03-22 20:54:38.878 +02:00 [DBG] Migrating using database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:38.884 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:38.956 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:38.959 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:54:38.962 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:54:38.963 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (4ms).
2025-03-22 20:54:38.967 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:54:38.990 +02:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:54:38.992 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:38.996 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 20:54:38.997 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:38.998 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:38.999 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-22 20:54:39.002 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:54:39.002 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:54:39.004 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-03-22 20:54:39.005 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:54:39.023 +02:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:54:39.089 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:54:39.093 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:54:39.095 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:54:39.095 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 20:54:39.096 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:54:39.097 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:54:39.099 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:54:39.102 +02:00 [DBG] Committing transaction.
2025-03-22 20:54:39.105 +02:00 [DBG] Committed transaction.
2025-03-22 20:54:39.109 +02:00 [DBG] Disposing transaction.
2025-03-22 20:54:39.121 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:54:39.123 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:54:39.126 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:54:39.128 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:54:39.129 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-03-22 20:54:39.130 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:54:39.132 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:54:39.134 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:54:39.135 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:54:39.136 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-03-22 20:54:39.137 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:54:39.138 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:54:39.141 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:54:39.142 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:54:39.143 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 20:54:39.144 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:54:39.147 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:54:39.150 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.154 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 4ms reading results.
2025-03-22 20:54:39.156 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-22 20:54:39.158 +02:00 [DBG] Committing transaction.
2025-03-22 20:54:39.159 +02:00 [DBG] Committed transaction.
2025-03-22 20:54:39.160 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:54:39.162 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:54:39.163 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-03-22 20:54:39.164 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:54:39.167 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:54:39.168 +02:00 [DBG] Disposing transaction.
2025-03-22 20:54:39.169 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.169 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:54:39.186 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any(x => x.UserName == "admin@test.com")'
2025-03-22 20:54:39.262 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com')) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com'), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:54:39.280 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.282 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.283 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:54:39.284 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:54:39.285 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:54:39.286 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:54:39.289 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:54:39.293 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.294 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 20:54:39.295 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.296 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:54:39.297 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any()'
2025-03-22 20:54:39.300 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:54:39.301 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.302 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.303 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:54:39.303 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:54:39.304 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:54:39.305 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:54:39.307 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:54:39.308 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.309 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 20:54:39.310 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.311 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:54:39.312 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()
    .Any()'
2025-03-22 20:54:39.331 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:54:39.334 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.335 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.336 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:54:39.337 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:54:39.338 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:54:39.338 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:54:39.342 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:54:39.343 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.344 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 20:54:39.345 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.346 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:54:39.347 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 20:54:39.349 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:54:39.350 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 20:54:39.352 +02:00 [DBG] Hosting starting
2025-03-22 20:54:39.357 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-5e699438-21c5-42be-8ead-438fe0a56227.xml'.
2025-03-22 20:54:39.359 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-cf66b8ce-b2c4-4a86-909b-e29c58198c63.xml'.
2025-03-22 20:54:39.362 +02:00 [DBG] Found key {5e699438-21c5-42be-8ead-438fe0a56227}.
2025-03-22 20:54:39.364 +02:00 [DBG] Found key {cf66b8ce-b2c4-4a86-909b-e29c58198c63}.
2025-03-22 20:54:39.367 +02:00 [DBG] Considering key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} with expiration date 2025-06-14 13:37:44Z as default key.
2025-03-22 20:54:39.369 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:54:39.372 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-22 20:54:39.373 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:54:39.375 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-22 20:54:39.377 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-22 20:54:39.380 +02:00 [DBG] Using key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} as the default key.
2025-03-22 20:54:39.381 +02:00 [DBG] Key ring with default key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} was loaded during application startup.
2025-03-22 20:54:39.400 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-03-22 20:54:39.401 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-22 20:54:39.422 +02:00 [INF] Now listening on: http://localhost:5000
2025-03-22 20:54:39.423 +02:00 [INF] Now listening on: https://localhost:5001
2025-03-22 20:54:39.424 +02:00 [DBG] Loaded hosting startup assembly API
2025-03-22 20:54:39.424 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-22 20:54:39.425 +02:00 [INF] Hosting environment: Development
2025-03-22 20:54:39.426 +02:00 [INF] Content root path: C:\Users\M\Desktop\skinet\api
2025-03-22 20:54:39.427 +02:00 [DBG] Hosting started
2025-03-22 20:54:44.091 +02:00 [DBG] Connection id "0HNB9EC18AB11" accepted.
2025-03-22 20:54:44.092 +02:00 [DBG] Connection id "0HNB9EC18AB11" started.
2025-03-22 20:54:44.109 +02:00 [DBG] Connection 0HNB9EC18AB11 established using the following protocol: "Tls13"
2025-03-22 20:54:44.128 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - null null
2025-03-22 20:54:44.140 +02:00 [DBG] 1 candidate(s) found for the request path '/index.html'
2025-03-22 20:54:44.142 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.html' for the request path '/index.html'
2025-03-22 20:54:44.144 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.html'
2025-03-22 20:54:44.145 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:54:44.150 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:54:44.159 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:44.160 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:44.162 +02:00 [DBG] The request path /index.html does not match an existing file
2025-03-22 20:54:44.190 +02:00 [ERR] HTTP GET /index.html responded 500 in 42.4429 ms
2025-03-22 20:54:44.195 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - 500 null application/json 67.6076ms
2025-03-22 20:54:44.211 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - null null
2025-03-22 20:54:44.212 +02:00 [DBG] 1 candidate(s) found for the request path '/favicon.ico'
2025-03-22 20:54:44.213 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'favicon.ico' for the request path '/favicon.ico'
2025-03-22 20:54:44.215 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/favicon.ico'
2025-03-22 20:54:44.216 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:54:44.219 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:54:44.220 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:44.221 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:44.221 +02:00 [DBG] The request path /favicon.ico does not match an existing file
2025-03-22 20:54:44.223 +02:00 [ERR] HTTP GET /favicon.ico responded 500 in 6.5410 ms
2025-03-22 20:54:44.225 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - 500 null application/json 14.2429ms
2025-03-22 20:54:50.319 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - null null
2025-03-22 20:54:50.324 +02:00 [DBG] 1 candidate(s) found for the request path '/index.html'
2025-03-22 20:54:50.326 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.html' for the request path '/index.html'
2025-03-22 20:54:50.330 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.html'
2025-03-22 20:54:50.331 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:54:50.333 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:54:50.336 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:50.336 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:50.337 +02:00 [DBG] The request path /index.html does not match an existing file
2025-03-22 20:54:50.339 +02:00 [ERR] HTTP GET /index.html responded 500 in 7.0909 ms
2025-03-22 20:54:50.353 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - 500 null application/json 33.8549ms
2025-03-22 20:54:50.372 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/favicon.ico - null null
2025-03-22 20:54:50.387 +02:00 [DBG] 1 candidate(s) found for the request path '/favicon.ico'
2025-03-22 20:54:50.390 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'favicon.ico' for the request path '/favicon.ico'
2025-03-22 20:54:50.393 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/favicon.ico'
2025-03-22 20:54:50.395 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:54:50.398 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:54:50.399 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:50.401 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:54:50.404 +02:00 [DBG] The request path /favicon.ico does not match an existing file
2025-03-22 20:54:50.410 +02:00 [ERR] HTTP GET /favicon.ico responded 500 in 12.4877 ms
2025-03-22 20:54:50.414 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/favicon.ico - 500 null application/json 42.7704ms
2025-03-22 20:56:25.303 +02:00 [INF] Application is shutting down...
2025-03-22 20:56:25.303 +02:00 [DBG] Hosting stopping
2025-03-22 20:56:25.306 +02:00 [DBG] Connection id "0HNB9EC18AB11" is closing.
2025-03-22 20:56:25.307 +02:00 [DBG] Connection id "0HNB9EC18AB11" is closed. The last processed stream ID was 7.
2025-03-22 20:56:25.308 +02:00 [DBG] The connection queue processing loop for 0HNB9EC18AB11 completed.
2025-03-22 20:56:25.310 +02:00 [DBG] Connection id "0HNB9EC18AB11" received FIN.
2025-03-22 20:56:25.310 +02:00 [DBG] Connection id "0HNB9EC18AB11" stopped.
2025-03-22 20:56:25.311 +02:00 [DBG] Connection id "0HNB9EC18AB11" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 20:56:25.313 +02:00 [DBG] Hosting stopped
2025-03-22 20:56:31.682 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-22 20:56:31.766 +02:00 [INF] User profile is available. Using 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-22 20:56:31.772 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-03-22 20:56:31.811 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-22 20:56:32.263 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-03-22 20:56:32.265 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-03-22 20:56:32.347 +02:00 [DBG] The property 'AppUser.AddressId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:56:32.348 +02:00 [DBG] The property 'Order.DeliveryMethodId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:56:32.349 +02:00 [DBG] The property 'OrderItem.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:56:32.350 +02:00 [DBG] The property 'PaymentSummary.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:56:32.351 +02:00 [DBG] The property 'ProductItemOrdered.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:56:32.351 +02:00 [DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 20:56:32.396 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 20:56:32.403 +02:00 [DBG] Creating DbConnection.
2025-03-22 20:56:32.417 +02:00 [DBG] Created DbConnection. (13ms).
2025-03-22 20:56:32.418 +02:00 [DBG] Migrating using database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.428 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.491 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.494 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:56:32.497 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:56:32.499 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-03-22 20:56:32.503 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:56:32.521 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:56:32.524 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.528 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 20:56:32.529 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.530 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.532 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-22 20:56:32.534 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:56:32.535 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:56:32.535 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:56:32.536 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:56:32.548 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 20:56:32.599 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:56:32.608 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:56:32.609 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:56:32.609 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 20:56:32.611 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:56:32.611 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:56:32.615 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 20:56:32.617 +02:00 [DBG] Committing transaction.
2025-03-22 20:56:32.621 +02:00 [DBG] Committed transaction.
2025-03-22 20:56:32.623 +02:00 [DBG] Disposing transaction.
2025-03-22 20:56:32.626 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 20:56:32.632 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 20:56:32.634 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 20:56:32.635 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 20:56:32.635 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 20:56:32.636 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:56:32.639 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 20:56:32.640 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:56:32.640 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:56:32.641 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:56:32.642 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:56:32.648 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 20:56:32.651 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:56:32.651 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:56:32.652 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:56:32.653 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:56:32.659 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 20:56:32.663 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.664 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 20:56:32.666 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-22 20:56:32.667 +02:00 [DBG] Committing transaction.
2025-03-22 20:56:32.668 +02:00 [DBG] Committed transaction.
2025-03-22 20:56:32.669 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 20:56:32.670 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 20:56:32.670 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 20:56:32.671 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:56:32.674 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 20:56:32.676 +02:00 [DBG] Disposing transaction.
2025-03-22 20:56:32.677 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.678 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:56:32.695 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any(x => x.UserName == "admin@test.com")'
2025-03-22 20:56:32.777 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com')) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com'), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:56:32.798 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.800 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.801 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:56:32.801 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:56:32.802 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:56:32.804 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:56:32.808 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:56:32.810 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.811 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 20:56:32.812 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.813 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:56:32.815 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any()'
2025-03-22 20:56:32.817 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:56:32.819 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.820 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.820 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:56:32.821 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:56:32.821 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 20:56:32.822 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:56:32.825 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:56:32.826 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.827 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 20:56:32.828 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.829 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 20:56:32.830 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()
    .Any()'
2025-03-22 20:56:32.837 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 20:56:32.840 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.841 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.842 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 20:56:32.843 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 20:56:32.844 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 20:56:32.845 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:56:32.848 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 20:56:32.851 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.853 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 20:56:32.855 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.858 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (3ms).
2025-03-22 20:56:32.861 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 20:56:32.864 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 20:56:32.866 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-03-22 20:56:32.871 +02:00 [DBG] Hosting starting
2025-03-22 20:56:32.877 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-5e699438-21c5-42be-8ead-438fe0a56227.xml'.
2025-03-22 20:56:32.881 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-cf66b8ce-b2c4-4a86-909b-e29c58198c63.xml'.
2025-03-22 20:56:32.910 +02:00 [DBG] Found key {5e699438-21c5-42be-8ead-438fe0a56227}.
2025-03-22 20:56:32.912 +02:00 [DBG] Found key {cf66b8ce-b2c4-4a86-909b-e29c58198c63}.
2025-03-22 20:56:32.916 +02:00 [DBG] Considering key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} with expiration date 2025-06-14 13:37:44Z as default key.
2025-03-22 20:56:32.919 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:56:32.920 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-22 20:56:32.921 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 20:56:32.923 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-22 20:56:32.932 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-22 20:56:32.935 +02:00 [DBG] Using key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} as the default key.
2025-03-22 20:56:32.936 +02:00 [DBG] Key ring with default key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} was loaded during application startup.
2025-03-22 20:56:32.957 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-03-22 20:56:32.958 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-22 20:56:32.990 +02:00 [INF] Now listening on: http://localhost:5000
2025-03-22 20:56:32.992 +02:00 [INF] Now listening on: https://localhost:5001
2025-03-22 20:56:32.993 +02:00 [DBG] Loaded hosting startup assembly API
2025-03-22 20:56:32.993 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-22 20:56:32.994 +02:00 [INF] Hosting environment: Development
2025-03-22 20:56:32.994 +02:00 [INF] Content root path: C:\Users\M\Desktop\skinet\api
2025-03-22 20:56:32.996 +02:00 [DBG] Hosting started
2025-03-22 20:56:34.681 +02:00 [DBG] Connection id "0HNB9ED26VGOP" accepted.
2025-03-22 20:56:34.683 +02:00 [DBG] Connection id "0HNB9ED26VGOP" started.
2025-03-22 20:56:34.700 +02:00 [DBG] Connection 0HNB9ED26VGOP established using the following protocol: "Tls13"
2025-03-22 20:56:34.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.html - null null
2025-03-22 20:56:34.732 +02:00 [DBG] 1 candidate(s) found for the request path '/index.html'
2025-03-22 20:56:34.734 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.html' for the request path '/index.html'
2025-03-22 20:56:34.736 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.html'
2025-03-22 20:56:34.737 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:56:34.742 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:56:34.747 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:56:34.747 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:56:34.750 +02:00 [DBG] The request path /index.html does not match an existing file
2025-03-22 20:56:34.778 +02:00 [INF] HTTP GET /index.html responded 200 in 39.3394 ms
2025-03-22 20:56:34.783 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.html - 200 null text/html;charset=utf-8 63.6232ms
2025-03-22 20:56:34.791 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/index.js - null null
2025-03-22 20:56:34.793 +02:00 [DBG] 1 candidate(s) found for the request path '/index.js'
2025-03-22 20:56:34.794 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'index.js' for the request path '/index.js'
2025-03-22 20:56:34.795 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/index.js'
2025-03-22 20:56:34.796 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:56:34.798 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:56:34.799 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:56:34.799 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:56:34.800 +02:00 [DBG] The request path /index.js does not match an existing file
2025-03-22 20:56:34.801 +02:00 [INF] HTTP GET /index.js responded 200 in 4.4495 ms
2025-03-22 20:56:34.802 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/index.js - 200 null application/javascript;charset=utf-8 11.045ms
2025-03-22 20:56:34.928 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - null null
2025-03-22 20:56:34.930 +02:00 [DBG] 1 candidate(s) found for the request path '/swagger/v1/swagger.json'
2025-03-22 20:56:34.930 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' was rejected by constraint 'path':'Microsoft.AspNetCore.Routing.Constraints.NonFileNameRouteConstraint' with value 'swagger/v1/swagger.json' for the request path '/swagger/v1/swagger.json'
2025-03-22 20:56:34.932 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is not valid for the request path '/swagger/v1/swagger.json'
2025-03-22 20:56:34.932 +02:00 [DBG] Request did not match any endpoints
2025-03-22 20:56:34.935 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 20:56:34.936 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:56:34.937 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 20:56:34.938 +02:00 [DBG] The request path /swagger/v1/swagger.json does not match an existing file
2025-03-22 20:56:34.944 +02:00 [DBG] Executing API description provider 'EndpointMetadataApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-03-22 20:56:34.948 +02:00 [DBG] Executing API description provider 'DefaultApiDescriptionProvider' from assembly Microsoft.AspNetCore.Mvc.ApiExplorer v9.0.0.0.
2025-03-22 20:56:35.002 +02:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 67.4482 ms
2025-03-22 20:56:35.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 75.2371ms
2025-03-22 20:56:48.396 +02:00 [INF] Application is shutting down...
2025-03-22 20:56:48.397 +02:00 [DBG] Hosting stopping
2025-03-22 20:56:48.402 +02:00 [DBG] Connection id "0HNB9ED26VGOP" is closing.
2025-03-22 20:56:48.403 +02:00 [DBG] Connection id "0HNB9ED26VGOP" is closed. The last processed stream ID was 5.
2025-03-22 20:56:48.404 +02:00 [DBG] Connection id "0HNB9ED26VGOP" received FIN.
2025-03-22 20:56:48.404 +02:00 [DBG] The connection queue processing loop for 0HNB9ED26VGOP completed.
2025-03-22 20:56:48.404 +02:00 [DBG] Connection id "0HNB9ED26VGOP" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 20:56:48.414 +02:00 [DBG] Connection id "0HNB9ED26VGOP" stopped.
2025-03-22 20:56:48.415 +02:00 [DBG] Hosting stopped
2025-03-22 21:06:55.552 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-22 21:06:55.624 +02:00 [INF] User profile is available. Using 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-22 21:06:55.631 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-03-22 21:06:55.672 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-22 21:06:55.895 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-03-22 21:06:55.897 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-03-22 21:06:55.964 +02:00 [DBG] The property 'AppUser.AddressId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:06:55.965 +02:00 [DBG] The property 'Order.DeliveryMethodId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:06:55.967 +02:00 [DBG] The property 'OrderItem.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:06:55.967 +02:00 [DBG] The property 'PaymentSummary.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:06:55.968 +02:00 [DBG] The property 'ProductItemOrdered.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:06:55.969 +02:00 [DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:06:56.013 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:06:56.021 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:06:56.036 +02:00 [DBG] Created DbConnection. (13ms).
2025-03-22 21:06:56.037 +02:00 [DBG] Migrating using database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.042 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.115 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.119 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 21:06:56.122 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-03-22 21:06:56.124 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (5ms).
2025-03-22 21:06:56.128 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:06:56.150 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:06:56.153 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.162 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (4ms).
2025-03-22 21:06:56.164 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.165 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.167 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-22 21:06:56.170 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 21:06:56.171 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 21:06:56.172 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 21:06:56.173 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 21:06:56.186 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 21:06:56.238 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 21:06:56.243 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 21:06:56.245 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 21:06:56.246 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 21:06:56.247 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (2ms).
2025-03-22 21:06:56.248 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 21:06:56.251 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 21:06:56.254 +02:00 [DBG] Committing transaction.
2025-03-22 21:06:56.258 +02:00 [DBG] Committed transaction.
2025-03-22 21:06:56.259 +02:00 [DBG] Disposing transaction.
2025-03-22 21:06:56.263 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 21:06:56.265 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 21:06:56.268 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 21:06:56.271 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-03-22 21:06:56.272 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (3ms).
2025-03-22 21:06:56.273 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:06:56.278 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:06:56.279 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 21:06:56.280 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 21:06:56.281 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 21:06:56.282 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 21:06:56.284 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 21:06:56.287 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:06:56.288 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:06:56.289 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:06:56.289 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 21:06:56.296 +02:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 21:06:56.300 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.301 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:06:56.304 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-22 21:06:56.305 +02:00 [DBG] Committing transaction.
2025-03-22 21:06:56.308 +02:00 [DBG] Committed transaction.
2025-03-22 21:06:56.309 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 21:06:56.310 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 21:06:56.311 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 21:06:56.312 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 21:06:56.315 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 21:06:56.316 +02:00 [DBG] Disposing transaction.
2025-03-22 21:06:56.317 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.318 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:06:56.335 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any(x => x.UserName == "admin@test.com")'
2025-03-22 21:06:56.417 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com')) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com'), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 21:06:56.437 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.438 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.440 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:06:56.441 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:06:56.442 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:06:56.443 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:06:56.445 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:06:56.447 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.449 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:06:56.450 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.451 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:06:56.452 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any()'
2025-03-22 21:06:56.465 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 21:06:56.467 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.468 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.470 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:06:56.470 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:06:56.471 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:06:56.472 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:06:56.476 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:06:56.477 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.478 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:06:56.478 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.480 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:06:56.481 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()
    .Any()'
2025-03-22 21:06:56.482 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 21:06:56.484 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.485 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.486 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:06:56.487 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:06:56.488 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:06:56.488 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:06:56.492 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:06:56.493 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.494 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:06:56.494 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.495 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:06:56.497 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:06:56.498 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:06:56.500 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:06:56.503 +02:00 [DBG] Hosting starting
2025-03-22 21:06:56.508 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-5e699438-21c5-42be-8ead-438fe0a56227.xml'.
2025-03-22 21:06:56.509 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-cf66b8ce-b2c4-4a86-909b-e29c58198c63.xml'.
2025-03-22 21:06:56.512 +02:00 [DBG] Found key {5e699438-21c5-42be-8ead-438fe0a56227}.
2025-03-22 21:06:56.514 +02:00 [DBG] Found key {cf66b8ce-b2c4-4a86-909b-e29c58198c63}.
2025-03-22 21:06:56.517 +02:00 [DBG] Considering key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} with expiration date 2025-06-14 13:37:44Z as default key.
2025-03-22 21:06:56.519 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 21:06:56.520 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-22 21:06:56.521 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 21:06:56.523 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-22 21:06:56.525 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-22 21:06:56.528 +02:00 [DBG] Using key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} as the default key.
2025-03-22 21:06:56.529 +02:00 [DBG] Key ring with default key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} was loaded during application startup.
2025-03-22 21:06:56.530 +02:00 [DBG] Middleware loaded
2025-03-22 21:06:56.532 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-03-22 21:06:56.533 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-03-22 21:06:56.554 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-03-22 21:06:56.555 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-22 21:06:56.556 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-03-22 21:06:56.578 +02:00 [INF] Now listening on: http://localhost:5000
2025-03-22 21:06:56.579 +02:00 [INF] Now listening on: https://localhost:5001
2025-03-22 21:06:56.580 +02:00 [DBG] Loaded hosting startup assembly API
2025-03-22 21:06:56.580 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-22 21:06:56.581 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-22 21:06:56.581 +02:00 [INF] Hosting environment: Development
2025-03-22 21:06:56.581 +02:00 [INF] Content root path: C:\Users\M\Desktop\skinet\api
2025-03-22 21:06:56.583 +02:00 [DBG] Hosting started
2025-03-22 21:09:47.273 +02:00 [DBG] Connection id "0HNB9EKEDND2A" received FIN.
2025-03-22 21:09:47.281 +02:00 [DBG] Connection id "0HNB9EKEDND2A" accepted.
2025-03-22 21:09:47.283 +02:00 [DBG] Connection id "0HNB9EKEDND2A" started.
2025-03-22 21:09:47.291 +02:00 [DBG] Connection id "0HNB9EKEDND2B" accepted.
2025-03-22 21:09:47.292 +02:00 [DBG] Connection id "0HNB9EKEDND2B" started.
2025-03-22 21:09:47.296 +02:00 [DBG] Failed to authenticate HTTPS connection.
System.IO.IOException: Received an unexpected EOF or 0 bytes from the transport stream.
   at System.Net.Security.SslStream.ReceiveHandshakeFrameAsync[TIOAdapter](CancellationToken cancellationToken)
   at System.Net.Security.SslStream.ForceAuthenticationAsync[TIOAdapter](Boolean receiveFirst, Byte[] reAuthenticationData, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Server.Kestrel.Https.Internal.HttpsConnectionMiddleware.OnConnectionAsync(ConnectionContext context)
2025-03-22 21:09:47.333 +02:00 [DBG] Connection id "0HNB9EKEDND2A" stopped.
2025-03-22 21:09:47.334 +02:00 [DBG] Connection id "0HNB9EKEDND2A" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 21:09:47.336 +02:00 [DBG] Connection 0HNB9EKEDND2B established using the following protocol: "Tls13"
2025-03-22 21:09:47.353 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/register - application/json 57
2025-03-22 21:09:47.367 +02:00 [DBG] 1 candidate(s) found for the request path '/register'
2025-03-22 21:09:47.368 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/register'
2025-03-22 21:09:47.371 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:09:47.378 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:09:47.386 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:09:47.387 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:09:47.389 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:09:47.396 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:09:47.397 +02:00 [INF] Executing endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:09:47.402 +02:00 [INF] Route matched with {action = "Index", controller = "Fallback"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller API.Controllers.FallbackController (API).
2025-03-22 21:09:47.404 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:09:47.405 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:09:47.406 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-03-22 21:09:47.407 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:09:47.408 +02:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2025-03-22 21:09:47.409 +02:00 [DBG] Executing controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:09:47.410 +02:00 [DBG] Executed controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:09:47.414 +02:00 [INF] Executed action API.Controllers.FallbackController.Index (API) in 4.3232ms
2025-03-22 21:09:47.417 +02:00 [INF] Executed endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:09:47.456 +02:00 [ERR] HTTP POST /register responded 500 in 82.1988 ms
2025-03-22 21:09:47.458 +02:00 [DBG] Connection id "0HNB9EKEDND2B" completed keep alive response.
2025-03-22 21:09:47.459 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/register - 500 null application/json 107.3221ms
2025-03-22 21:09:47.462 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000001": started reading request body.
2025-03-22 21:09:47.463 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000001": done reading request body.
2025-03-22 21:09:53.519 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/register - application/json 57
2025-03-22 21:09:53.521 +02:00 [DBG] 1 candidate(s) found for the request path '/register'
2025-03-22 21:09:53.522 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/register'
2025-03-22 21:09:53.524 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:09:53.525 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:09:53.526 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:09:53.527 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:09:53.528 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:09:53.528 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:09:53.529 +02:00 [INF] Executing endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:09:53.529 +02:00 [INF] Route matched with {action = "Index", controller = "Fallback"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller API.Controllers.FallbackController (API).
2025-03-22 21:09:53.530 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:09:53.532 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:09:53.532 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-03-22 21:09:53.533 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:09:53.534 +02:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2025-03-22 21:09:53.535 +02:00 [DBG] Executing controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:09:53.536 +02:00 [DBG] Executed controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:09:53.537 +02:00 [INF] Executed action API.Controllers.FallbackController.Index (API) in 1.9294ms
2025-03-22 21:09:53.538 +02:00 [INF] Executed endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:09:53.555 +02:00 [ERR] HTTP POST /register responded 500 in 30.3492 ms
2025-03-22 21:09:53.556 +02:00 [DBG] Connection id "0HNB9EKEDND2B" completed keep alive response.
2025-03-22 21:09:53.557 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/register - 500 null application/json 37.887ms
2025-03-22 21:09:53.559 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000002": started reading request body.
2025-03-22 21:09:53.559 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000002": done reading request body.
2025-03-22 21:10:39.708 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/register - application/json 57
2025-03-22 21:10:39.709 +02:00 [DBG] 1 candidate(s) found for the request path '/register'
2025-03-22 21:10:39.710 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/register'
2025-03-22 21:10:39.711 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:10:39.712 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:10:39.714 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:10:39.715 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:10:39.715 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:10:39.716 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:10:39.716 +02:00 [INF] Executing endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:10:39.717 +02:00 [INF] Route matched with {action = "Index", controller = "Fallback"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller API.Controllers.FallbackController (API).
2025-03-22 21:10:39.718 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:10:39.719 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:10:39.720 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-03-22 21:10:39.721 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:10:39.722 +02:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2025-03-22 21:10:39.723 +02:00 [DBG] Executing controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:10:39.724 +02:00 [DBG] Executed controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:10:39.725 +02:00 [INF] Executed action API.Controllers.FallbackController.Index (API) in 2.1523ms
2025-03-22 21:10:39.725 +02:00 [INF] Executed endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:10:39.736 +02:00 [ERR] HTTP POST /register responded 500 in 24.4446 ms
2025-03-22 21:10:39.737 +02:00 [DBG] Connection id "0HNB9EKEDND2B" completed keep alive response.
2025-03-22 21:10:39.738 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/register - 500 null application/json 29.7996ms
2025-03-22 21:10:39.739 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000003": started reading request body.
2025-03-22 21:10:39.740 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000003": done reading request body.
2025-03-22 21:10:46.668 +02:00 [INF] Request starting HTTP/1.1 POST https://localhost:5001/register - application/json 54
2025-03-22 21:10:46.671 +02:00 [DBG] 1 candidate(s) found for the request path '/register'
2025-03-22 21:10:46.674 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/register'
2025-03-22 21:10:46.676 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:10:46.677 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:10:46.678 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:10:46.681 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:10:46.683 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:10:46.683 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:10:46.685 +02:00 [INF] Executing endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:10:46.686 +02:00 [INF] Route matched with {action = "Index", controller = "Fallback"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index() on controller API.Controllers.FallbackController (API).
2025-03-22 21:10:46.689 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:10:46.690 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:10:46.694 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.Filters.ControllerActionFilter (Order: -2147483648)","Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)"]
2025-03-22 21:10:46.695 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:10:46.700 +02:00 [DBG] Execution plan of result filters (in the following order): ["None"]
2025-03-22 21:10:46.700 +02:00 [DBG] Executing controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:10:46.702 +02:00 [DBG] Executed controller factory for controller API.Controllers.FallbackController (API)
2025-03-22 21:10:46.703 +02:00 [INF] Executed action API.Controllers.FallbackController.Index (API) in 2.9576ms
2025-03-22 21:10:46.704 +02:00 [INF] Executed endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:10:46.716 +02:00 [ERR] HTTP POST /register responded 500 in 39.2314 ms
2025-03-22 21:10:46.717 +02:00 [DBG] Connection id "0HNB9EKEDND2B" completed keep alive response.
2025-03-22 21:10:46.719 +02:00 [INF] Request finished HTTP/1.1 POST https://localhost:5001/register - 500 null application/json 51.1489ms
2025-03-22 21:10:46.721 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000004": started reading request body.
2025-03-22 21:10:46.722 +02:00 [DBG] Connection id "0HNB9EKEDND2B", Request id "0HNB9EKEDND2B:00000004": done reading request body.
2025-03-22 21:13:05.078 +02:00 [DBG] Connection id "0HNB9EKEDND2C" accepted.
2025-03-22 21:13:05.084 +02:00 [DBG] Connection id "0HNB9EKEDND2C" started.
2025-03-22 21:13:05.087 +02:00 [DBG] Connection 0HNB9EKEDND2C established using the following protocol: "Tls13"
2025-03-22 21:13:05.096 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/account/user-info - null null
2025-03-22 21:13:05.098 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/user-info'
2025-03-22 21:13:05.101 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.GetUserInfo (API)' with route pattern 'api/Account/user-info' is valid for the request path '/api/account/user-info'
2025-03-22 21:13:05.102 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/user-info'
2025-03-22 21:13:05.103 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:13:05.104 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:13:05.104 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:13:05.105 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:13:05.106 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:13:05.107 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:13:05.107 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:13:05.110 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:13:05.110 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:13:05.114 +02:00 [INF] Route matched with {action = "GetUserInfo", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUserInfo() on controller API.Controllers.AccountController (API).
2025-03-22 21:13:05.115 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:13:05.116 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:13:05.117 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:13:05.118 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:13:05.119 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:13:05.119 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:13:05.123 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:13:05.124 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-22 21:13:05.125 +02:00 [INF] Executed action API.Controllers.AccountController.GetUserInfo (API) in 5.6022ms
2025-03-22 21:13:05.126 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:13:05.126 +02:00 [INF] HTTP GET /api/account/user-info responded 204 in 22.8378 ms
2025-03-22 21:13:05.128 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/account/user-info - 204 null null 32.1644ms
2025-03-22 21:13:37.032 +02:00 [DBG] Connection id "0HNB9EKEDND2D" accepted.
2025-03-22 21:13:37.038 +02:00 [DBG] Connection id "0HNB9EKEDND2D" started.
2025-03-22 21:13:37.044 +02:00 [DBG] Connection 0HNB9EKEDND2D established using the following protocol: "Tls13"
2025-03-22 21:13:37.049 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/account/register - null null
2025-03-22 21:13:37.056 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/register'
2025-03-22 21:13:37.058 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Register (API)' with route pattern 'api/Account/register' is valid for the request path '/api/account/register'
2025-03-22 21:13:37.060 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/register'
2025-03-22 21:13:37.062 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:13:37.063 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:13:37.065 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:13:37.067 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:13:37.068 +02:00 [INF] HTTP OPTIONS /api/account/register responded 204 in 5.0128 ms
2025-03-22 21:13:37.071 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/account/register - 204 null null 25.1468ms
2025-03-22 21:13:37.073 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/account/register - application/json 105
2025-03-22 21:13:37.082 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/register'
2025-03-22 21:13:37.086 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Register (API)' with route pattern 'api/Account/register' is valid for the request path '/api/account/register'
2025-03-22 21:13:37.098 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/register'
2025-03-22 21:13:37.103 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.Register (API)'
2025-03-22 21:13:37.106 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:13:37.107 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:13:37.109 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:13:37.113 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:13:37.114 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:13:37.116 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:13:37.117 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:13:37.119 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.Register (API)'
2025-03-22 21:13:37.129 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(API.DTOs.RegisterDto) on controller API.Controllers.AccountController (API).
2025-03-22 21:13:37.131 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:13:37.131 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:13:37.132 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:13:37.134 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:13:37.136 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:13:37.137 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:13:37.140 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:13:37.146 +02:00 [DBG] Attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto' ...
2025-03-22 21:13:37.148 +02:00 [DBG] Attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto' using the name '' in request data ...
2025-03-22 21:13:37.156 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:13:37.160 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000003": started reading request body.
2025-03-22 21:13:37.161 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000003": done reading request body.
2025-03-22 21:13:37.165 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'API.DTOs.RegisterDto'
2025-03-22 21:13:37.168 +02:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto'.
2025-03-22 21:13:37.169 +02:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto'.
2025-03-22 21:13:37.169 +02:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'API.DTOs.RegisterDto' ...
2025-03-22 21:13:37.175 +02:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'API.DTOs.RegisterDto'.
2025-03-22 21:14:30.143 +02:00 [DBG] User password validation failed: PasswordRequiresDigit.
2025-03-22 21:14:41.019 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:14:41.021 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:14:41.021 +02:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml"]'.
2025-03-22 21:14:41.023 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2025-03-22 21:14:41.024 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-03-22 21:14:41.037 +02:00 [INF] Executed action API.Controllers.AccountController.Register (API) in 63900.1112ms
2025-03-22 21:14:41.038 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.Register (API)'
2025-03-22 21:14:53.634 +02:00 [INF] HTTP POST /api/account/register responded 400 in 76528.1535 ms
2025-03-22 21:14:53.635 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/account/register - 400 null application/problem+json; charset=utf-8 76562.2134ms
2025-03-22 21:15:09.258 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/account/register - null null
2025-03-22 21:15:09.261 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/register'
2025-03-22 21:15:09.261 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Register (API)' with route pattern 'api/Account/register' is valid for the request path '/api/account/register'
2025-03-22 21:15:09.262 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/register'
2025-03-22 21:15:09.265 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:15:09.267 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:15:09.276 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:15:09.281 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:15:09.286 +02:00 [INF] HTTP OPTIONS /api/account/register responded 204 in 18.8649 ms
2025-03-22 21:15:09.293 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/account/register - 204 null null 34.5081ms
2025-03-22 21:15:09.296 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/account/register - application/json 108
2025-03-22 21:15:09.307 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/register'
2025-03-22 21:15:09.309 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Register (API)' with route pattern 'api/Account/register' is valid for the request path '/api/account/register'
2025-03-22 21:15:09.315 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/register'
2025-03-22 21:15:09.321 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.Register (API)'
2025-03-22 21:15:09.325 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:15:09.329 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:15:09.334 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:15:09.337 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:15:09.339 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:15:09.342 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:15:09.345 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:15:09.346 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.Register (API)'
2025-03-22 21:15:09.350 +02:00 [INF] Route matched with {action = "Register", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Register(API.DTOs.RegisterDto) on controller API.Controllers.AccountController (API).
2025-03-22 21:15:09.358 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:15:09.365 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:15:09.371 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:15:09.375 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:15:09.381 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:15:09.384 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:15:09.409 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:15:09.413 +02:00 [DBG] Attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto' ...
2025-03-22 21:15:09.414 +02:00 [DBG] Attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto' using the name '' in request data ...
2025-03-22 21:15:09.416 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:15:09.417 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000005": started reading request body.
2025-03-22 21:15:09.419 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000005": done reading request body.
2025-03-22 21:15:09.420 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'API.DTOs.RegisterDto'
2025-03-22 21:15:09.421 +02:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto'.
2025-03-22 21:15:09.422 +02:00 [DBG] Done attempting to bind parameter 'registerDto' of type 'API.DTOs.RegisterDto'.
2025-03-22 21:15:09.423 +02:00 [DBG] Attempting to validate the bound parameter 'registerDto' of type 'API.DTOs.RegisterDto' ...
2025-03-22 21:15:09.425 +02:00 [DBG] Done attempting to validate the bound parameter 'registerDto' of type 'API.DTOs.RegisterDto'.
2025-03-22 21:15:33.784 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:15:33.788 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-03-22 21:15:33.812 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: AppUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<FirstName>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<LastName>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(9) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(9);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:15:33.819 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:15:33.820 +02:00 [DBG] Created DbConnection. (0ms).
2025-03-22 21:15:33.820 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.841 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.842 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:15:33.843 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:15:33.845 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:15:33.846 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:15:33.858 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:15:33.860 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.861 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:15:33.862 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.862 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:15:33.897 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:15:33.899 +02:00 [DBG] SaveChanges starting for 'StoreContext'.
2025-03-22 21:15:33.900 +02:00 [DBG] DetectChanges starting for 'StoreContext'.
2025-03-22 21:15:33.907 +02:00 [DBG] DetectChanges completed for 'StoreContext'.
2025-03-22 21:15:33.932 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.933 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.935 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:15:33.935 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:15:33.936 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:15:33.936 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AddressId], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-03-22 21:15:33.948 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (Size = 4000), @p7='?' (Size = 4000), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTimeOffset), @p10='?' (Size = 256), @p11='?' (Size = 256), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [AddressId], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-03-22 21:15:33.951 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.952 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:15:33.953 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:33.956 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (3ms).
2025-03-22 21:15:33.960 +02:00 [DBG] An entity of type 'AppUser' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:15:33.962 +02:00 [DBG] SaveChanges completed for 'StoreContext' with 1 entities written to the database.
2025-03-22 21:15:39.813 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-22 21:15:39.814 +02:00 [INF] Executed action API.Controllers.AccountController.Register (API) in 30430.2164ms
2025-03-22 21:15:39.816 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.Register (API)'
2025-03-22 21:15:42.648 +02:00 [INF] HTTP POST /api/account/register responded 200 in 33323.6052 ms
2025-03-22 21:15:42.650 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:15:42.652 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:15:42.653 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 21:15:42.654 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/account/register - 200 0 null 33357.4751ms
2025-03-22 21:15:50.676 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - null null
2025-03-22 21:15:50.677 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:15:50.677 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:15:50.678 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:15:50.679 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:16:04.510 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:04.511 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:04.517 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:16:04.519 +02:00 [INF] HTTP OPTIONS /api/login responded 204 in 13839.4502 ms
2025-03-22 21:16:04.520 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - 204 null null 13843.6277ms
2025-03-22 21:16:04.523 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/login?useCookies=true - application/json 62
2025-03-22 21:16:04.526 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:16:04.527 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:16:04.528 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:16:04.530 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/login'
2025-03-22 21:16:04.531 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:04.532 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:04.532 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:04.533 +02:00 [INF] Identity.Application was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:16:04.534 +02:00 [INF] Identity.BearerAndApplication was not authenticated. Failure message: Unprotect ticket failed
2025-03-22 21:16:04.534 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:04.535 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:04.537 +02:00 [INF] Executing endpoint 'HTTP: POST api/login'
2025-03-22 21:16:04.538 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000007": started reading request body.
2025-03-22 21:16:04.539 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000007": done reading request body.
2025-03-22 21:16:04.569 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:04.576 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:04.578 +02:00 [DBG] Created DbConnection. (1ms).
2025-03-22 21:16:04.578 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.579 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.580 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:04.580 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:04.581 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:04.581 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:16:04.586 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:16:04.590 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:04.591 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.591 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:16:04.592 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.593 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:04.645 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2025-03-22 21:16:04.660 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Claim>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        IdentityUserClaim<string> entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            IdentityUserClaim<string> instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(IdentityUserClaim<string>);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: IdentityUserClaim<string>.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (IdentityUserClaim<string>)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: IdentityUserClaim<string> | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: IdentityUserClaim<string> | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>")]: 
                        {
                            return 
                            {
                                IdentityUserClaim<string> instance;
                                instance = new IdentityUserClaim<string>();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClaimType>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ClaimValue>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<UserId>k__BackingField = dataReader.GetString(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: IdentityUserClaim<string> | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(IdentityUserClaim<string>)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity.ToClaim();
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:04.665 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.665 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.666 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:04.668 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:04.668 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:16:04.669 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:16:04.673 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:16:04.674 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.676 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:16:04.678 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.681 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (3ms).
2025-03-22 21:16:04.688 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-03-22 21:16:04.695 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:04.698 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.699 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.700 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:04.701 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:04.702 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:04.702 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:16:04.706 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:16:04.708 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.709 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:16:04.709 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.710 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:04.714 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-03-22 21:16:04.717 +02:00 [INF] Executed endpoint 'HTTP: POST api/login'
2025-03-22 21:16:04.717 +02:00 [INF] HTTP POST /api/login responded 200 in 186.7199 ms
2025-03-22 21:16:04.718 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:04.719 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:04.719 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 21:16:04.720 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/login?useCookies=true - 200 0 null 197.5127ms
2025-03-22 21:16:05.406 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null null
2025-03-22 21:16:05.407 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/account/user-info - null null
2025-03-22 21:16:05.408 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:05.409 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/user-info'
2025-03-22 21:16:05.411 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.GetUserInfo (API)' with route pattern 'api/Account/user-info' is valid for the request path '/api/account/user-info'
2025-03-22 21:16:05.412 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/user-info'
2025-03-22 21:16:05.410 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:05.413 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:16:05.414 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:12.931 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:12.953 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:12.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products/brands - null null
2025-03-22 21:16:12.955 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:12.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products/types - null null
2025-03-22 21:16:12.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - null null
2025-03-22 21:16:12.993 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:12.996 +02:00 [DBG] 2 candidate(s) found for the request path '/api/products/brands'
2025-03-22 21:16:13.003 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetBrands (API)' with route pattern 'api/Products/brands' is valid for the request path '/api/products/brands'
2025-03-22 21:16:13.000 +02:00 [DBG] 2 candidate(s) found for the request path '/api/products/types'
2025-03-22 21:16:13.002 +02:00 [DBG] 3 candidate(s) found for the request path '/api/products'
2025-03-22 21:16:13.006 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.CreateProduct (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:16:12.997 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:13.005 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products/brands'
2025-03-22 21:16:13.005 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetTypes (API)' with route pattern 'api/Products/types' is valid for the request path '/api/products/types'
2025-03-22 21:16:13.009 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products/types'
2025-03-22 21:16:13.007 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetProducts (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:16:13.008 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetBrands (API)'
2025-03-22 21:16:13.002 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:13.010 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetTypes (API)'
2025-03-22 21:16:13.010 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:13.011 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products'
2025-03-22 21:16:13.012 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:13.012 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:16:13.013 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:13.014 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:13.013 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:13.014 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:16:13.015 +02:00 [INF] HTTP OPTIONS /hub/notifications/negotiate responded 204 in 21.5183 ms
2025-03-22 21:16:13.015 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:13.016 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:13.017 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.018 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 204 null null 7612.4355ms
2025-03-22 21:16:13.017 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:13.021 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:13.022 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null 0
2025-03-22 21:16:13.022 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:13.023 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.024 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:13.026 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:13.026 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:13.027 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:13.027 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:16:13.028 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:13.029 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:13.030 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:13.030 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.031 +02:00 [INF] Route matched with {action = "GetUserInfo", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUserInfo() on controller API.Controllers.AccountController (API).
2025-03-22 21:16:13.032 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:13.032 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.033 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:13.033 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.034 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:13.034 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:13.035 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.035 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:13.036 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetBrands (API)'
2025-03-22 21:16:13.037 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:13.038 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.038 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetTypes (API)'
2025-03-22 21:16:13.039 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:13.040 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:16:13.040 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.041 +02:00 [INF] Route matched with {action = "GetBrands", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[System.String]]] GetBrands() on controller API.Controllers.ProductsController (API).
2025-03-22 21:16:13.042 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:13.043 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:13.044 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:16:13.044 +02:00 [INF] Route matched with {action = "GetTypes", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[System.String]]] GetTypes() on controller API.Controllers.ProductsController (API).
2025-03-22 21:16:13.045 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:13.046 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:13.046 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:13.048 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:13.049 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:13.050 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:13.051 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:16:13.051 +02:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Product]]] GetProducts(Core.Specifications.ProductSpecParams) on controller API.Controllers.ProductsController (API).
2025-03-22 21:16:13.052 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:13.052 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:16:13.053 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:13.054 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:16:13.055 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:13.056 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:16:13.057 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:13.059 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:13.062 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:16:13.060 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:13.064 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:13.061 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:13.059 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:13.063 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:13.060 +02:00 [DBG] Authorization was successful.
2025-03-22 21:16:13.065 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:13.066 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:13.071 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:13.069 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.070 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:13.068 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:13.072 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.073 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:13.073 +02:00 [INF] Executing endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:13.076 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:13.077 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:16:13.078 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' using the name '' in request data ...
2025-03-22 21:16:13.081 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Brands' in request data ...
2025-03-22 21:16:13.082 +02:00 [DBG] Could not find a value in the request with name 'Brands' for binding property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:13.082 +02:00 [DBG] New connection iXJDNDk78acFBJi67deWMA created.
2025-03-22 21:16:13.083 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:13.084 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Types' in request data ...
2025-03-22 21:16:13.084 +02:00 [DBG] Sending negotiation response.
2025-03-22 21:16:13.085 +02:00 [DBG] Could not find a value in the request with name 'Types' for binding property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:13.086 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:13.086 +02:00 [INF] Executed endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:13.087 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Address)
    .FirstOrDefault(x => x.Email == __GetEmail_0)'
2025-03-22 21:16:13.089 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String' using the name 'Sort' in request data ...
2025-03-22 21:16:13.090 +02:00 [INF] HTTP POST /hub/notifications/negotiate responded 200 in 51.5284 ms
2025-03-22 21:16:13.093 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String'.
2025-03-22 21:16:13.095 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 200 316 application/json 72.8979ms
2025-03-22 21:16:13.095 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String' using the name 'Search' in request data ...
2025-03-22 21:16:13.097 +02:00 [DBG] Including navigation: 'AppUser.Address'.
2025-03-22 21:16:13.098 +02:00 [DBG] Could not find a value in the request with name 'Search' for binding property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:16:13.098 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=OATEn1JNUfJUxeajvSzhbw - null null
2025-03-22 21:16:13.101 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:16:13.102 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications'
2025-03-22 21:16:13.103 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 21:16:13.105 +02:00 [DBG] Endpoint '/hub/notifications' with route pattern '/hub/notifications' is valid for the request path '/hub/notifications'
2025-03-22 21:16:13.107 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications'
2025-03-22 21:16:13.106 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 21:16:13.108 +02:00 [DBG] Request matched endpoint '/hub/notifications'
2025-03-22 21:16:13.109 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:13.109 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 21:16:13.110 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:13.110 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 21:16:13.111 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:13.112 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:16:13.112 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:16:13.112 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:13.114 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:13.113 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:16:13.114 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
                1 -> Dictionary<IProperty, int> { [Property: Address.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Address.City (string) Required, 19], [Property: Address.Country (string) Required, 20], [Property: Address.Line1 (string) Required, 21], [Property: Address.Line2 (string), 22], [Property: Address.PostalCode (string) Required, 23], [Property: Address.State (string) Required, 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a0.Id, a0.City, a0.Country, a0.Line1, a0.Line2, a0.PostalCode, a0.State
            FROM AspNetUsers AS a
            LEFT JOIN Addresses AS a0 ON a.AddressId == a0.Id
            WHERE a.Email == @__GetEmail_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
                1 -> Dictionary<IProperty, int> { [Property: Address.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Address.City (string) Required, 19], [Property: Address.Country (string) Required, 20], [Property: Address.Line1 (string) Required, 21], [Property: Address.Line2 (string), 22], [Property: Address.PostalCode (string) Required, 23], [Property: Address.State (string) Required, 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a0.Id, a0.City, a0.Country, a0.Line1, a0.Line2, a0.PostalCode, a0.State
            FROM AspNetUsers AS a
            LEFT JOIN Addresses AS a0 ON a.AddressId == a0.Id
            WHERE a.Email == @__GetEmail_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            Address entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: AppUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<FirstName>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<LastName>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(9) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(9);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Address instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Address);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Address.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.Address").FindPrimaryKey()], 
                    keyValues: new object[]{ dataReader.IsDBNull(18) ? default(object) : (object)dataReader.GetInt32(18) }, 
                    throwOnNullKey: False, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Address)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Address | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Core.Entities.Address")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Address | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Core.Entities.Address")]: 
                            {
                                return 
                                {
                                    Address instance;
                                    instance = new Address();
                                    instance.<Id>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                    instance.<City>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                    instance.<Country>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Line1>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                    instance.<Line2>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                    instance.<PostalCode>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                    instance.<State>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Address | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Core.Entities.Address")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Address)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<AppUser, AppUser, Address>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: AppUser.Address (Address) ToPrincipal Address | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Core.Entities.AppUser").FindNavigation("Address")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{7}, namelessParameter{8}) => 
                {
                    return namelessParameter{7}.<Address>k__BackingField = namelessParameter{8};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:16:13.114 +02:00 [DBG] Authorization was successful.
2025-03-22 21:16:13.116 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:16:13.119 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.121 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:13.123 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:13.124 +02:00 [DBG] Created DbConnection. (2ms).
2025-03-22 21:16:13.124 +02:00 [INF] Executing endpoint '/hub/notifications'
2025-03-22 21:16:13.125 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.126 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.127 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:13.127 +02:00 [DBG] Establishing new connection.
2025-03-22 21:16:13.128 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:13.129 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:16:13.130 +02:00 [DBG] Executing DbCommand [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:16:13.131 +02:00 [DBG] OnConnectedAsync started.
2025-03-22 21:16:13.164 +02:00 [INF] Executed DbCommand (33ms) [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:16:13.164 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-03-22 21:16:13.165 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.168 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2025-03-22 21:16:13.170 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.170 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-03-22 21:16:13.171 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 6ms reading results.
2025-03-22 21:16:13.172 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.173 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:13.175 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:16:13.177 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:16:13.177 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:16:13.178 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:16:13.178 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:16:13.179 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`5[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[API.DTOs.AddressDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-22 21:16:13.181 +02:00 [INF] Executed action API.Controllers.AccountController.GetUserInfo (API) in 130.1896ms
2025-03-22 21:16:13.181 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:16:13.644 +02:00 [INF] HTTP GET /api/account/user-info responded 200 in 8229.7813 ms
2025-03-22 21:16:13.645 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:13.646 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.646 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 21:16:13.647 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/account/user-info - 200 null application/json; charset=utf-8 8240.5004ms
2025-03-22 21:16:13.837 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:13.837 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:13.838 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:13.839 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(x => x.Type)
    .Distinct()'
2025-03-22 21:16:13.839 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Select(x => x.Brand)
    .Distinct()'
2025-03-22 21:16:13.842 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(x => True)
    .OrderBy(x => x.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2025-03-22 21:16:13.843 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT DISTINCT p.Type
        FROM Products AS p) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT DISTINCT p.Type
        FROM Products AS p, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:13.843 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT DISTINCT p.Brand
        FROM Products AS p) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT DISTINCT p.Brand
        FROM Products AS p, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.GetString(0);
        return value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:13.845 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:13.846 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:13.846 +02:00 [DBG] Created DbConnection. (1ms).
2025-03-22 21:16:13.846 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Brand (string) Required, 1], [Property: Product.Description (string) Required, 2], [Property: Product.Name (string) Required, 3], [Property: Product.PictureUrl (string) Required, 4], [Property: Product.Price (decimal) Required, 5], [Property: Product.QuantityInStock (int) Required, 6], [Property: Product.Type (string) Required, 7] }
        SELECT p.Id, p.Brand, p.Description, p.Name, p.PictureUrl, p.Price, p.QuantityInStock, p.Type
        FROM Products AS p
        ORDER BY p.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Brand (string) Required, 1], [Property: Product.Description (string) Required, 2], [Property: Product.Name (string) Required, 3], [Property: Product.PictureUrl (string) Required, 4], [Property: Product.Price (decimal) Required, 5], [Property: Product.QuantityInStock (int) Required, 6], [Property: Product.Type (string) Required, 7] }
        SELECT p.Id, p.Brand, p.Description, p.Name, p.PictureUrl, p.Price, p.QuantityInStock, p.Type
        FROM Products AS p
        ORDER BY p.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Brand>k__BackingField = dataReader.GetString(1);
                                instance.<Description>k__BackingField = dataReader.GetString(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<PictureUrl>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                instance.<QuantityInStock>k__BackingField = dataReader.GetInt32(6);
                                instance.<Type>k__BackingField = dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:13.846 +02:00 [DBG] Created DbConnection. (0ms).
2025-03-22 21:16:13.847 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.850 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.850 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:13.850 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.853 +02:00 [DBG] Created DbConnection. (3ms).
2025-03-22 21:16:13.854 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:13.855 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.856 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:13.857 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:16:13.858 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[Type]
FROM [Products] AS [p]
2025-03-22 21:16:13.861 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[Type]
FROM [Products] AS [p]
2025-03-22 21:16:13.862 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.862 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.863 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:13.864 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:16:13.865 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:13.866 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:16:13.866 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.867 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[Brand]
FROM [Products] AS [p]
2025-03-22 21:16:13.868 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 21:16:13.869 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.872 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT [p].[Brand]
FROM [Products] AS [p]
2025-03-22 21:16:13.872 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:13.873 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.874 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:13.875 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:16:13.876 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:16:13.876 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:16:13.876 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.878 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
ORDER BY [p].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-22 21:16:13.879 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:16:13.879 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 21:16:13.881 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:16:13.882 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:16:13.882 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:16:13.882 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
ORDER BY [p].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-22 21:16:13.882 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:16:13.883 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:16:13.885 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-22 21:16:13.886 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:16:13.887 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.887 +02:00 [INF] Executed action API.Controllers.ProductsController.GetTypes (API) in 822.2329ms
2025-03-22 21:16:13.887 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:16:13.889 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetTypes (API)'
2025-03-22 21:16:13.889 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:16:13.890 +02:00 [INF] HTTP GET /api/products/types responded 200 in 876.8816 ms
2025-03-22 21:16:13.890 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-22 21:16:13.891 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:13.892 +02:00 [INF] Executed action API.Controllers.ProductsController.GetBrands (API) in 826.2934ms
2025-03-22 21:16:13.892 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.893 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetBrands (API)'
2025-03-22 21:16:13.894 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:16:13.894 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.894 +02:00 [INF] HTTP GET /api/products/brands responded 200 in 882.5073 ms
2025-03-22 21:16:13.896 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products/types - 200 null application/json; charset=utf-8 942.5751ms
2025-03-22 21:16:13.896 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.897 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:13.899 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.900 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.901 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.901 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:16:13.902 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.903 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products/brands - 200 null application/json; charset=utf-8 914.8112ms
2025-03-22 21:16:13.904 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.906 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.906 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.907 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:13.908 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.909 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 24ms reading results.
2025-03-22 21:16:13.910 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.911 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:13.914 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(x => True)
    .Count()'
2025-03-22 21:16:13.919 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:16:13.924 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.925 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.926 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:13.926 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:13.927 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:13.927 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-03-22 21:16:13.930 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-03-22 21:16:13.932 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.933 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:16:13.934 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.935 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:13.942 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:16:13.943 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:16:13.943 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:16:13.944 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:16:13.944 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:16:13.945 +02:00 [INF] Executing OkObjectResult, writing value of type 'API.RequestHelpers.Pagination`1[[Core.Entities.Product, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-22 21:16:13.946 +02:00 [INF] Executed action API.Controllers.ProductsController.GetProducts (API) in 873.3604ms
2025-03-22 21:16:13.947 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:16:13.947 +02:00 [INF] HTTP GET /api/products responded 200 in 930.1072 ms
2025-03-22 21:16:13.948 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:13.949 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:13.950 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 21:16:13.950 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - 200 null application/json; charset=utf-8 997.2666ms
2025-03-22 21:16:21.861 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/cart - null null
2025-03-22 21:16:21.868 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:16:21.869 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:16:21.871 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:16:21.872 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:16:21.876 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:16:21.878 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:16:21.879 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:21.881 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:21.882 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:16:21.883 +02:00 [INF] HTTP OPTIONS /api/cart responded 204 in 3.8484 ms
2025-03-22 21:16:21.884 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/cart - 204 null null 22.9916ms
2025-03-22 21:16:21.887 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/cart - application/json 196
2025-03-22 21:16:21.892 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:16:21.893 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:16:21.896 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:16:21.898 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:16:21.900 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:16:21.902 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:16:21.906 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:21.908 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:21.910 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:21.913 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:21.925 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:21.927 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:21.930 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:21.933 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:16:21.938 +02:00 [INF] Route matched with {action = "UpdateCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] UpdateCart(Core.Entities.ShoppingCart) on controller API.Controllers.CartController (API).
2025-03-22 21:16:21.942 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:21.943 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:21.943 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:16:21.945 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:21.948 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:21.951 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:16:21.954 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:16:21.957 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:16:21.961 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' using the name '' in request data ...
2025-03-22 21:16:21.980 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:16:21.988 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000015": started reading request body.
2025-03-22 21:16:21.990 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000015": done reading request body.
2025-03-22 21:16:21.996 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Core.Entities.ShoppingCart'
2025-03-22 21:16:22.001 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:16:22.003 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:16:22.005 +02:00 [DBG] Attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:16:22.013 +02:00 [DBG] Done attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:16:22.025 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:16:22.031 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:16:22.032 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:16:22.035 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:16:22.036 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:16:22.037 +02:00 [INF] Executing ObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:16:22.040 +02:00 [INF] Executed action API.Controllers.CartController.UpdateCart (API) in 88.9686ms
2025-03-22 21:16:22.042 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:16:22.043 +02:00 [INF] HTTP POST /api/cart responded 200 in 137.1579 ms
2025-03-22 21:16:22.044 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/cart - 200 null application/json; charset=utf-8 157.1318ms
2025-03-22 21:16:24.875 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/account/logout - null null
2025-03-22 21:16:24.877 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 21:16:24.878 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 21:16:24.885 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 21:16:24.887 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:16:24.896 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:24.899 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:24.902 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:16:24.904 +02:00 [INF] HTTP OPTIONS /api/account/logout responded 204 in 8.2111 ms
2025-03-22 21:16:24.906 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/account/logout - 204 null null 31.0521ms
2025-03-22 21:16:24.910 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/account/logout - application/json 2
2025-03-22 21:16:24.916 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 21:16:24.918 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 21:16:24.922 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 21:16:24.925 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:16:32.610 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:32.613 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:32.614 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:32.618 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:32.620 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:32.625 +02:00 [DBG] Authorization was successful.
2025-03-22 21:16:32.627 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:32.634 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:32.639 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:16:32.649 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout() on controller API.Controllers.AccountController (API).
2025-03-22 21:16:32.656 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:32.661 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:32.663 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:16:32.666 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:32.668 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:32.670 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:16:32.672 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:16:32.675 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-03-22 21:16:32.677 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-03-22 21:16:32.678 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-03-22 21:16:32.680 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-22 21:16:32.680 +02:00 [INF] Executed action API.Controllers.AccountController.Logout (API) in 9.934ms
2025-03-22 21:16:32.687 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:16:32.688 +02:00 [INF] HTTP POST /api/account/logout responded 204 in 7761.0820 ms
2025-03-22 21:16:32.694 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/account/logout - 204 null null 7784.9766ms
2025-03-22 21:16:32.699 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000017": started reading request body.
2025-03-22 21:16:32.701 +02:00 [DBG] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000017": done reading request body.
2025-03-22 21:16:33.409 +02:00 [DBG] OnConnectedAsync ending.
2025-03-22 21:16:33.414 +02:00 [DBG] Waiting for the client to close the socket.
2025-03-22 21:16:33.418 +02:00 [DBG] Socket closed.
2025-03-22 21:16:33.428 +02:00 [DBG] Removing connection OATEn1JNUfJUxeajvSzhbw from the list of connections.
2025-03-22 21:16:33.433 +02:00 [INF] Executed endpoint '/hub/notifications'
2025-03-22 21:16:33.435 +02:00 [INF] HTTP CONNECT /hub/notifications responded 200 in 20326.0840 ms
2025-03-22 21:16:33.438 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=OATEn1JNUfJUxeajvSzhbw - 200 null null 20340.1282ms
2025-03-22 21:16:33.453 +02:00 [INF] Connection id "0HNB9EKEDND2C", Request id "0HNB9EKEDND2C:00000013": the application completed without reading the entire request body.
2025-03-22 21:16:48.928 +02:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-03-22 21:16:48.996 +02:00 [INF] User profile is available. Using 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-03-22 21:16:49.003 +02:00 [DBG] Registered SignalR Protocol: json, implemented by Microsoft.AspNetCore.SignalR.Protocol.JsonHubProtocol.
2025-03-22 21:16:49.048 +02:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-03-22 21:16:49.285 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserRole<string>' as the properties are already covered by the index {'UserId', 'RoleId'}.
2025-03-22 21:16:49.288 +02:00 [DBG] The index {'UserId'} was not created on entity type 'IdentityUserToken<string>' as the properties are already covered by the index {'UserId', 'LoginProvider', 'Name'}.
2025-03-22 21:16:49.366 +02:00 [DBG] The property 'AppUser.AddressId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:16:49.368 +02:00 [DBG] The property 'Order.DeliveryMethodId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:16:49.369 +02:00 [DBG] The property 'OrderItem.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:16:49.370 +02:00 [DBG] The property 'PaymentSummary.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:16:49.371 +02:00 [DBG] The property 'ProductItemOrdered.OrderItemId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:16:49.373 +02:00 [DBG] The property 'ShippingAddress.OrderId' was created in shadow state because there are no eligible CLR members with a matching name.
2025-03-22 21:16:49.419 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:49.426 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:49.440 +02:00 [DBG] Created DbConnection. (13ms).
2025-03-22 21:16:49.442 +02:00 [DBG] Migrating using database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.446 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.512 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.515 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 21:16:49.519 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (2ms).
2025-03-22 21:16:49.521 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (6ms).
2025-03-22 21:16:49.524 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:16:49.545 +02:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:16:49.549 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.554 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (3ms).
2025-03-22 21:16:49.555 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.557 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.559 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-03-22 21:16:49.562 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 21:16:49.562 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 21:16:49.563 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 21:16:49.564 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 21:16:49.585 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-03-22 21:16:49.642 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 21:16:49.646 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 21:16:49.648 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 21:16:49.648 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 21:16:49.649 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 21:16:49.650 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 21:16:49.656 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-03-22 21:16:49.658 +02:00 [DBG] Committing transaction.
2025-03-22 21:16:49.661 +02:00 [DBG] Committed transaction.
2025-03-22 21:16:49.663 +02:00 [DBG] Disposing transaction.
2025-03-22 21:16:49.667 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 21:16:49.669 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 21:16:49.671 +02:00 [DBG] Creating DbCommand for 'ExecuteNonQuery'.
2025-03-22 21:16:49.672 +02:00 [DBG] Created DbCommand for 'ExecuteNonQuery' (0ms).
2025-03-22 21:16:49.672 +02:00 [DBG] Initialized DbCommand for 'ExecuteNonQuery' (1ms).
2025-03-22 21:16:49.674 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:16:49.676 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-03-22 21:16:49.678 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 21:16:49.679 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 21:16:49.680 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (1ms).
2025-03-22 21:16:49.680 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 21:16:49.683 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-03-22 21:16:49.685 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:49.686 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:49.687 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:49.688 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 21:16:49.691 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-03-22 21:16:49.695 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.696 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:16:49.699 +02:00 [INF] No migrations were applied. The database is already up to date.
2025-03-22 21:16:49.700 +02:00 [DBG] Committing transaction.
2025-03-22 21:16:49.701 +02:00 [DBG] Committed transaction.
2025-03-22 21:16:49.702 +02:00 [DBG] Creating DbCommand for 'ExecuteScalar'.
2025-03-22 21:16:49.703 +02:00 [DBG] Created DbCommand for 'ExecuteScalar' (0ms).
2025-03-22 21:16:49.705 +02:00 [DBG] Initialized DbCommand for 'ExecuteScalar' (2ms).
2025-03-22 21:16:49.706 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 21:16:49.711 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-03-22 21:16:49.712 +02:00 [DBG] Disposing transaction.
2025-03-22 21:16:49.713 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.714 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:49.734 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Any(x => x.UserName == "admin@test.com")'
2025-03-22 21:16:49.821 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com')) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM AspNetUsers AS a
            WHERE a.UserName == N'admin@test.com'), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 21:16:49.848 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.849 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.850 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:49.851 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:49.852 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:49.853 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:16:49.857 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetUsers] AS [a]
        WHERE [a].[UserName] = N'admin@test.com') THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:16:49.860 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.861 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:16:49.862 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.863 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:49.866 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Any()'
2025-03-22 21:16:49.868 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM Products AS p), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 21:16:49.871 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.872 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.873 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:49.874 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:49.875 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:49.875 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:16:49.879 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Products] AS [p]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:16:49.880 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.881 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:16:49.882 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.883 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:49.884 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()
    .Any()'
2025-03-22 21:16:49.886 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<bool>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d)) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT EXISTS (
            SELECT 1
            FROM DeliveryMethods AS d), 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        bool? value1;
        value1 = dataReader.IsDBNull(0) ? default(bool?) : (bool?)dataReader.GetBoolean(0);
        return (bool)value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)
    .Single()'
2025-03-22 21:16:49.888 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.889 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.890 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:49.891 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:49.892 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:16:49.893 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:16:49.895 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [DeliveryMethods] AS [d]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-03-22 21:16:49.897 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.898 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:16:49.899 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.900 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:49.902 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:49.904 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:49.905 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:16:49.908 +02:00 [DBG] Hosting starting
2025-03-22 21:16:49.913 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-5e699438-21c5-42be-8ead-438fe0a56227.xml'.
2025-03-22 21:16:49.914 +02:00 [DBG] Reading data from file 'C:\Users\M\AppData\Local\ASP.NET\DataProtection-Keys\key-cf66b8ce-b2c4-4a86-909b-e29c58198c63.xml'.
2025-03-22 21:16:49.919 +02:00 [DBG] Found key {5e699438-21c5-42be-8ead-438fe0a56227}.
2025-03-22 21:16:49.922 +02:00 [DBG] Found key {cf66b8ce-b2c4-4a86-909b-e29c58198c63}.
2025-03-22 21:16:49.925 +02:00 [DBG] Considering key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} with expiration date 2025-06-14 13:37:44Z as default key.
2025-03-22 21:16:49.927 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 21:16:49.928 +02:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-03-22 21:16:49.929 +02:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=9.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-03-22 21:16:49.931 +02:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-03-22 21:16:49.934 +02:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-03-22 21:16:49.936 +02:00 [DBG] Using key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} as the default key.
2025-03-22 21:16:49.937 +02:00 [DBG] Key ring with default key {cf66b8ce-b2c4-4a86-909b-e29c58198c63} was loaded during application startup.
2025-03-22 21:16:49.939 +02:00 [DBG] Middleware loaded
2025-03-22 21:16:49.940 +02:00 [DBG] Middleware loaded. Script /_framework/aspnetcore-browser-refresh.js (16481 B).
2025-03-22 21:16:49.941 +02:00 [DBG] Middleware loaded. Script /_framework/blazor-hotreload.js (799 B).
2025-03-22 21:16:49.961 +02:00 [DBG] Middleware configuration started with options: {AllowedHosts = *, AllowEmptyHosts = True, IncludeFailureMessage = True}
2025-03-22 21:16:49.962 +02:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-03-22 21:16:49.963 +02:00 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES=debug, __ASPNETCORE_BROWSER_TOOLS=true
2025-03-22 21:16:49.985 +02:00 [INF] Now listening on: http://localhost:5000
2025-03-22 21:16:49.986 +02:00 [INF] Now listening on: https://localhost:5001
2025-03-22 21:16:49.987 +02:00 [DBG] Loaded hosting startup assembly API
2025-03-22 21:16:49.988 +02:00 [DBG] Loaded hosting startup assembly Microsoft.AspNetCore.Watch.BrowserRefresh
2025-03-22 21:16:49.989 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-03-22 21:16:49.989 +02:00 [INF] Hosting environment: Development
2025-03-22 21:16:49.990 +02:00 [INF] Content root path: C:\Users\M\Desktop\skinet\api
2025-03-22 21:16:49.992 +02:00 [DBG] Hosting started
2025-03-22 21:16:58.039 +02:00 [DBG] Connection id "0HNB9EOEPQMHJ" accepted.
2025-03-22 21:16:58.041 +02:00 [DBG] Connection id "0HNB9EOEPQMHJ" started.
2025-03-22 21:16:58.081 +02:00 [DBG] Connection 0HNB9EOEPQMHJ established using the following protocol: "Tls13"
2025-03-22 21:16:58.126 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - null null
2025-03-22 21:16:58.155 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:16:58.158 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:16:58.160 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:16:58.164 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:16:58.175 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:58.183 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:58.186 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:16:58.192 +02:00 [INF] HTTP OPTIONS /api/login responded 204 in 22.0622 ms
2025-03-22 21:16:58.206 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - 204 null null 81.7921ms
2025-03-22 21:16:58.210 +02:00 [DBG] Connection id "0HNB9EOEPQMHK" accepted.
2025-03-22 21:16:58.218 +02:00 [DBG] Connection id "0HNB9EOEPQMHK" started.
2025-03-22 21:16:58.223 +02:00 [DBG] Connection 0HNB9EOEPQMHK established using the following protocol: "Tls13"
2025-03-22 21:16:58.228 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/login?useCookies=true - application/json 48
2025-03-22 21:16:58.236 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:16:58.238 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:16:58.241 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:16:58.243 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/login'
2025-03-22 21:16:58.248 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:58.250 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:58.257 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:58.264 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 21:16:58.266 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 21:16:58.269 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:58.278 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:58.280 +02:00 [INF] Executing endpoint 'HTTP: POST api/login'
2025-03-22 21:16:58.284 +02:00 [DBG] Connection id "0HNB9EOEPQMHK", Request id "0HNB9EOEPQMHK:00000001": started reading request body.
2025-03-22 21:16:58.287 +02:00 [DBG] Connection id "0HNB9EOEPQMHK", Request id "0HNB9EOEPQMHK:00000001": done reading request body.
2025-03-22 21:16:58.310 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:58.321 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(u => u.NormalizedUserName == __normalizedUserName_0)'
2025-03-22 21:16:58.363 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.NormalizedUserName == @__normalizedUserName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: AppUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<FirstName>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<LastName>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(9) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(9);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:16:58.387 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:58.388 +02:00 [DBG] Created DbConnection. (1ms).
2025-03-22 21:16:58.389 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.390 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.392 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:58.393 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:58.396 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-03-22 21:16:58.401 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:16:58.425 +02:00 [INF] Executed DbCommand (25ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:16:58.445 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:58.478 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.481 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 54ms reading results.
2025-03-22 21:16:58.483 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.484 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:16:58.584 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserClaim<string>>()
    .Where(uc => uc.UserId.Equals(__user_Id_0))
    .Select(c => c.ToClaim())'
2025-03-22 21:16:58.611 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Claim>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: IdentityUserClaim<string>.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: IdentityUserClaim<string>.ClaimType (string), 1], [Property: IdentityUserClaim<string>.ClaimValue (string), 2], [Property: IdentityUserClaim<string>.UserId (string) Required FK Index, 3] }
        SELECT a.Id, a.ClaimType, a.ClaimValue, a.UserId
        FROM AspNetUserClaims AS a
        WHERE a.UserId == @__user_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        IdentityUserClaim<string> entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            IdentityUserClaim<string> instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(IdentityUserClaim<string>);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: IdentityUserClaim<string>.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (IdentityUserClaim<string>)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: IdentityUserClaim<string> | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: IdentityUserClaim<string> | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>")]: 
                        {
                            return 
                            {
                                IdentityUserClaim<string> instance;
                                instance = new IdentityUserClaim<string>();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<ClaimType>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                instance.<ClaimValue>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                instance.<UserId>k__BackingField = dataReader.GetString(3);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: IdentityUserClaim<string> | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityUserClaim<string>")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(IdentityUserClaim<string>)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity.ToClaim();
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:58.621 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.622 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.625 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:58.626 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:58.626 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:58.627 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:16:58.636 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:16:58.640 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.641 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:16:58.642 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.643 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:58.652 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityUserRole<string>>()
    .Join(
        inner: DbSet<IdentityRole>(), 
        outerKeySelector: userRole => userRole.RoleId, 
        innerKeySelector: role => role.Id, 
        resultSelector: (userRole, role) => new { 
            userRole = userRole, 
            role = role
         })
    .Where(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.userRole.UserId.Equals(__userId_0))
    .Select(<>h__TransparentIdentifier0 => <>h__TransparentIdentifier0.role.Name)'
2025-03-22 21:16:58.664 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<string>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> 0
        SELECT a0.Name
        FROM AspNetUserRoles AS a
        INNER JOIN AspNetRoles AS a0 ON a.RoleId == a0.Id
        WHERE a.UserId == @__userId_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        return value1;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:58.667 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.672 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.675 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:58.676 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:58.676 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:58.679 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:16:58.684 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:16:58.687 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.688 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:16:58.689 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.689 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:58.692 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRole>()
    .FirstOrDefault(r => r.NormalizedName == __normalizedName_0)'
2025-03-22 21:16:58.695 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<IdentityRole>(
    asyncEnumerable: SingleQueryingEnumerable.Create<IdentityRole>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: IdentityRole.Id (string) Required PK AfterSave:Throw, 0], [Property: IdentityRole.ConcurrencyStamp (string) Concurrency, 1], [Property: IdentityRole.Name (string) MaxLength(256), 2], [Property: IdentityRole.NormalizedName (string) Index MaxLength(256), 3] }
            SELECT TOP(1) a.Id, a.ConcurrencyStamp, a.Name, a.NormalizedName
            FROM AspNetRoles AS a
            WHERE a.NormalizedName == @__normalizedName_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            IdentityRole entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                IdentityRole instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(IdentityRole);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: IdentityRole.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityRole").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (IdentityRole)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: IdentityRole | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityRole")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: IdentityRole | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityRole")]: 
                            {
                                return 
                                {
                                    IdentityRole instance;
                                    instance = new IdentityRole();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
                                    instance.<Name>k__BackingField = dataReader.IsDBNull(2) ? default(string) : dataReader.GetString(2);
                                    instance.<NormalizedName>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: IdentityRole | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Microsoft.AspNetCore.Identity.IdentityRole")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(IdentityRole)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:16:58.700 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.701 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.701 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:58.702 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:58.703 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:58.704 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-03-22 21:16:58.708 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-03-22 21:16:58.713 +02:00 [DBG] Context 'StoreContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:58.717 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.719 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 9ms reading results.
2025-03-22 21:16:58.721 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.722 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:16:58.725 +02:00 [DBG] Compiling query expression: 
'DbSet<IdentityRoleClaim<string>>()
    .Where(rc => rc.RoleId.Equals(__role_Id_0))
    .Select(c => new Claim(
        c.ClaimType, 
        c.ClaimValue
    ))'
2025-03-22 21:16:58.728 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Claim>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> 0
            1 -> 1
        SELECT a.ClaimType, a.ClaimValue
        FROM AspNetRoleClaims AS a
        WHERE a.RoleId == @__role_Id_0, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        string value1;
        string value2;
        value1 = dataReader.IsDBNull(0) ? default(string) : dataReader.GetString(0);
        value2 = dataReader.IsDBNull(1) ? default(string) : dataReader.GetString(1);
        return new Claim(
            value1, 
            value2
        );
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:16:58.730 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.732 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.733 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:58.734 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:16:58.735 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:16:58.735 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-03-22 21:16:58.738 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-03-22 21:16:58.741 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.742 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:16:58.743 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.744 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:16:58.748 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-03-22 21:16:58.750 +02:00 [INF] Executed endpoint 'HTTP: POST api/login'
2025-03-22 21:16:58.753 +02:00 [INF] HTTP POST /api/login responded 200 in 505.5962 ms
2025-03-22 21:16:58.759 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:58.762 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:58.764 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:16:58.765 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/login?useCookies=true - 200 0 null 536.9543ms
2025-03-22 21:16:59.268 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/account/user-info - null null
2025-03-22 21:16:59.270 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/user-info'
2025-03-22 21:16:59.271 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.GetUserInfo (API)' with route pattern 'api/Account/user-info' is valid for the request path '/api/account/user-info'
2025-03-22 21:16:59.268 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null null
2025-03-22 21:16:59.276 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/user-info'
2025-03-22 21:16:59.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - null null
2025-03-22 21:16:59.283 +02:00 [DBG] 3 candidate(s) found for the request path '/api/products'
2025-03-22 21:16:59.281 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:16:59.279 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:59.291 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:59.293 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:59.288 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:59.295 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:59.297 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:59.285 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.CreateProduct (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:16:59.300 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetProducts (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:16:59.301 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products'
2025-03-22 21:16:59.303 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:16:59.304 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:59.304 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:59.298 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:59.307 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:59.310 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:16:59.311 +02:00 [INF] HTTP OPTIONS /hub/notifications/negotiate responded 204 in 13.0249 ms
2025-03-22 21:16:59.305 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:59.312 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:59.313 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 204 null null 45.0917ms
2025-03-22 21:16:59.315 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null 0
2025-03-22 21:16:59.323 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:59.324 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:59.325 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:59.327 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:16:59.331 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:59.329 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:59.333 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:59.352 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:59.334 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.325 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:59.358 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:59.360 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.353 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:59.361 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.363 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:16:59.365 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.372 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:16:59.379 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:59.381 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:59.385 +02:00 [DBG] Authorization was successful.
2025-03-22 21:16:59.387 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.388 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.388 +02:00 [INF] Route matched with {action = "GetUserInfo", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUserInfo() on controller API.Controllers.AccountController (API).
2025-03-22 21:16:59.389 +02:00 [INF] Executing endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:59.389 +02:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Product]]] GetProducts(Core.Specifications.ProductSpecParams) on controller API.Controllers.ProductsController (API).
2025-03-22 21:16:59.396 +02:00 [DBG] New connection 0BeLWQ1x4yTMbTnm9HFtGQ created.
2025-03-22 21:16:59.392 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:59.401 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:59.402 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:16:59.396 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:16:59.404 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:16:59.405 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:16:59.403 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:59.407 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:16:59.400 +02:00 [DBG] Sending negotiation response.
2025-03-22 21:16:59.414 +02:00 [INF] Executed endpoint '/hub/notifications/negotiate'
2025-03-22 21:16:59.414 +02:00 [INF] HTTP POST /hub/notifications/negotiate responded 200 in 80.9568 ms
2025-03-22 21:16:59.410 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:59.416 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 200 316 application/json 101.0903ms
2025-03-22 21:16:59.410 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:16:59.422 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:59.423 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:16:59.418 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:16:59.427 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:16:59.426 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:16:59.420 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=nxvfNHwyOybMuXzteTgckw - null null
2025-03-22 21:16:59.484 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications'
2025-03-22 21:16:59.483 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' using the name '' in request data ...
2025-03-22 21:16:59.485 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:16:59.488 +02:00 [DBG] Endpoint '/hub/notifications' with route pattern '/hub/notifications' is valid for the request path '/hub/notifications'
2025-03-22 21:16:59.492 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Brands' in request data ...
2025-03-22 21:16:59.497 +02:00 [DBG] Could not find a value in the request with name 'Brands' for binding property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:59.494 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications'
2025-03-22 21:16:59.498 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .Include(x => x.Address)
    .FirstOrDefault(x => x.Email == __GetEmail_0)'
2025-03-22 21:16:59.500 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:59.509 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Types' in request data ...
2025-03-22 21:16:59.501 +02:00 [DBG] Request matched endpoint '/hub/notifications'
2025-03-22 21:16:59.517 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:16:59.518 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:16:59.519 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:16:59.522 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:16:59.513 +02:00 [DBG] Including navigation: 'AppUser.Address'.
2025-03-22 21:16:59.516 +02:00 [DBG] Could not find a value in the request with name 'Types' for binding property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:59.525 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:16:59.529 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String' using the name 'Sort' in request data ...
2025-03-22 21:16:59.530 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String'.
2025-03-22 21:16:59.523 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:16:59.543 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String' using the name 'Search' in request data ...
2025-03-22 21:16:59.544 +02:00 [DBG] Authorization was successful.
2025-03-22 21:16:59.545 +02:00 [DBG] Could not find a value in the request with name 'Search' for binding property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:16:59.547 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:16:59.546 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.548 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 21:16:59.550 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:16:59.552 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 21:16:59.553 +02:00 [INF] Executing endpoint '/hub/notifications'
2025-03-22 21:16:59.554 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 21:16:59.556 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 21:16:59.556 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
                1 -> Dictionary<IProperty, int> { [Property: Address.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Address.City (string) Required, 19], [Property: Address.Country (string) Required, 20], [Property: Address.Line1 (string) Required, 21], [Property: Address.Line2 (string), 22], [Property: Address.PostalCode (string) Required, 23], [Property: Address.State (string) Required, 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a0.Id, a0.City, a0.Country, a0.Line1, a0.Line2, a0.PostalCode, a0.State
            FROM AspNetUsers AS a
            LEFT JOIN Addresses AS a0 ON a.AddressId == a0.Id
            WHERE a.Email == @__GetEmail_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
                1 -> Dictionary<IProperty, int> { [Property: Address.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 18], [Property: Address.City (string) Required, 19], [Property: Address.Country (string) Required, 20], [Property: Address.Line1 (string) Required, 21], [Property: Address.Line2 (string), 22], [Property: Address.PostalCode (string) Required, 23], [Property: Address.State (string) Required, 24] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName, a0.Id, a0.City, a0.Country, a0.Line1, a0.Line2, a0.PostalCode, a0.State
            FROM AspNetUsers AS a
            LEFT JOIN Addresses AS a0 ON a.AddressId == a0.Id
            WHERE a.Email == @__GetEmail_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            Address entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: AppUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<FirstName>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<LastName>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(9) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(9);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Address instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Address);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Address.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.Address").FindPrimaryKey()], 
                    keyValues: new object[]{ dataReader.IsDBNull(18) ? default(object) : (object)dataReader.GetInt32(18) }, 
                    throwOnNullKey: False, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Address)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Address | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Core.Entities.Address")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Address | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Core.Entities.Address")]: 
                            {
                                return 
                                {
                                    Address instance;
                                    instance = new Address();
                                    instance.<Id>k__BackingField = dataReader.IsDBNull(18) ? default(int) : dataReader.GetInt32(18);
                                    instance.<City>k__BackingField = dataReader.IsDBNull(19) ? default(string) : dataReader.GetString(19);
                                    instance.<Country>k__BackingField = dataReader.IsDBNull(20) ? default(string) : dataReader.GetString(20);
                                    instance.<Line1>k__BackingField = dataReader.IsDBNull(21) ? default(string) : dataReader.GetString(21);
                                    instance.<Line2>k__BackingField = dataReader.IsDBNull(22) ? default(string) : dataReader.GetString(22);
                                    instance.<PostalCode>k__BackingField = dataReader.IsDBNull(23) ? default(string) : dataReader.GetString(23);
                                    instance.<State>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Address | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Core.Entities.Address")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Address)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<AppUser, AppUser, Address>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: AppUser.Address (Address) ToPrincipal Address | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Core.Entities.AppUser").FindNavigation("Address")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{7}, namelessParameter{8}) => 
                {
                    return namelessParameter{7}.<Address>k__BackingField = namelessParameter{8};
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:16:59.557 +02:00 [DBG] Establishing new connection.
2025-03-22 21:16:59.557 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:16:59.572 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:16:59.573 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:16:59.576 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:16:59.578 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-03-22 21:16:59.579 +02:00 [DBG] OnConnectedAsync started.
2025-03-22 21:16:59.584 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:16:59.586 +02:00 [DBG] Created DbConnection. (9ms).
2025-03-22 21:16:59.596 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2025-03-22 21:16:59.600 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:59.604 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:59.625 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:16:59.627 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:16:59.628 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:16:59.602 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-03-22 21:16:59.631 +02:00 [DBG] Executing DbCommand [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:16:59.644 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:16:59.649 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:16:59.656 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:59.663 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 14ms reading results.
2025-03-22 21:16:59.665 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:59.675 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (9ms).
2025-03-22 21:16:59.686 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:16:59.710 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:16:59.711 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:16:59.712 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:16:59.716 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:16:59.718 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`5[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[API.DTOs.AddressDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-22 21:16:59.726 +02:00 [DBG] Request was short circuited at action filter 'API.RequestHelpers.CacheAttribute'.
2025-03-22 21:16:59.732 +02:00 [INF] Executed action API.Controllers.AccountController.GetUserInfo (API) in 313.1319ms
2025-03-22 21:16:59.735 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:16:59.737 +02:00 [INF] HTTP GET /api/account/user-info responded 200 in 449.7319 ms
2025-03-22 21:16:59.738 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:16:59.735 +02:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-03-22 21:16:59.742 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:16:59.743 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:16:59.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/account/user-info - 200 null application/json; charset=utf-8 477.8361ms
2025-03-22 21:16:59.744 +02:00 [INF] Executed action API.Controllers.ProductsController.GetProducts (API) in 322.288ms
2025-03-22 21:16:59.749 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:16:59.750 +02:00 [INF] HTTP GET /api/products responded 200 in 445.6681 ms
2025-03-22 21:16:59.751 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - 200 2998 application/json 471.7016ms
2025-03-22 21:17:09.573 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/account/logout - null null
2025-03-22 21:17:09.578 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 21:17:09.585 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 21:17:09.597 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 21:17:09.602 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:17:09.605 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:17:09.608 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:17:09.610 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:17:09.612 +02:00 [INF] HTTP OPTIONS /api/account/logout responded 204 in 6.8706 ms
2025-03-22 21:17:09.614 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/account/logout - 204 null null 41.3629ms
2025-03-22 21:17:09.616 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/account/logout - application/json 2
2025-03-22 21:17:09.621 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 21:17:09.621 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 21:17:09.629 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 21:17:09.634 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:17:09.636 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:17:09.640 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:17:09.641 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:17:09.644 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:17:09.647 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:17:09.649 +02:00 [DBG] Authorization was successful.
2025-03-22 21:17:09.650 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:17:09.651 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:17:09.652 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:17:09.657 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout() on controller API.Controllers.AccountController (API).
2025-03-22 21:17:09.659 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:17:09.660 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:17:09.662 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:17:09.664 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:17:09.666 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:17:09.667 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:17:09.667 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:17:09.670 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-03-22 21:17:09.672 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-03-22 21:17:09.673 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-03-22 21:17:09.674 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-22 21:17:09.675 +02:00 [INF] Executed action API.Controllers.AccountController.Logout (API) in 8.0439ms
2025-03-22 21:17:09.675 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:17:09.676 +02:00 [INF] HTTP POST /api/account/logout responded 204 in 39.5836 ms
2025-03-22 21:17:09.678 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/account/logout - 204 null null 62.2349ms
2025-03-22 21:17:09.680 +02:00 [DBG] Connection id "0HNB9EOEPQMHK", Request id "0HNB9EOEPQMHK:0000000B": started reading request body.
2025-03-22 21:17:09.680 +02:00 [DBG] Connection id "0HNB9EOEPQMHK", Request id "0HNB9EOEPQMHK:0000000B": done reading request body.
2025-03-22 21:17:10.190 +02:00 [DBG] Waiting for the application to finish sending data.
2025-03-22 21:17:10.196 +02:00 [DBG] OnConnectedAsync ending.
2025-03-22 21:17:10.200 +02:00 [DBG] Socket closed.
2025-03-22 21:17:10.202 +02:00 [DBG] Removing connection nxvfNHwyOybMuXzteTgckw from the list of connections.
2025-03-22 21:17:10.206 +02:00 [INF] Executed endpoint '/hub/notifications'
2025-03-22 21:17:10.208 +02:00 [INF] HTTP CONNECT /hub/notifications responded 200 in 10691.1524 ms
2025-03-22 21:17:10.210 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=nxvfNHwyOybMuXzteTgckw - 200 null null 10789.4834ms
2025-03-22 21:17:10.214 +02:00 [INF] Connection id "0HNB9EOEPQMHK", Request id "0HNB9EOEPQMHK:00000009": the application completed without reading the entire request body.
2025-03-22 21:19:21.837 +02:00 [DBG] Connection id "0HNB9EOEPQMHJ" is closing.
2025-03-22 21:19:21.839 +02:00 [DBG] Connection id "0HNB9EOEPQMHJ" is closed. The last processed stream ID was 5.
2025-03-22 21:19:21.843 +02:00 [DBG] The connection queue processing loop for 0HNB9EOEPQMHJ completed.
2025-03-22 21:19:21.841 +02:00 [DBG] Connection id "0HNB9EOEPQMHJ" received FIN.
2025-03-22 21:19:21.848 +02:00 [DBG] Connection id "0HNB9EOEPQMHJ" stopped.
2025-03-22 21:19:21.850 +02:00 [DBG] Connection id "0HNB9EOEPQMHJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 21:19:22.837 +02:00 [DBG] Connection id "0HNB9EOEPQMHK" is closing.
2025-03-22 21:19:22.839 +02:00 [DBG] Connection id "0HNB9EOEPQMHK" is closed. The last processed stream ID was 11.
2025-03-22 21:19:22.840 +02:00 [DBG] The connection queue processing loop for 0HNB9EOEPQMHK completed.
2025-03-22 21:19:22.846 +02:00 [DBG] Connection id "0HNB9EOEPQMHK" stopped.
2025-03-22 21:19:22.843 +02:00 [DBG] Connection id "0HNB9EOEPQMHK" received FIN.
2025-03-22 21:19:22.848 +02:00 [DBG] Connection id "0HNB9EOEPQMHK" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 21:40:02.693 +02:00 [DBG] Connection id "0HNB9EOEPQMHL" accepted.
2025-03-22 21:40:02.694 +02:00 [DBG] Connection id "0HNB9EOEPQMHL" started.
2025-03-22 21:40:02.700 +02:00 [DBG] Connection 0HNB9EOEPQMHL established using the following protocol: "Tls13"
2025-03-22 21:40:02.707 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - null null
2025-03-22 21:40:02.708 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:40:02.711 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:40:02.712 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:40:02.713 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:02.713 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:02.715 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:02.718 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:02.720 +02:00 [INF] HTTP OPTIONS /api/login responded 204 in 6.5271 ms
2025-03-22 21:40:02.721 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - 204 null null 13.772ms
2025-03-22 21:40:02.723 +02:00 [DBG] Connection id "0HNB9EOEPQMHM" accepted.
2025-03-22 21:40:02.725 +02:00 [DBG] Connection id "0HNB9EOEPQMHM" started.
2025-03-22 21:40:02.729 +02:00 [DBG] Connection 0HNB9EOEPQMHM established using the following protocol: "Tls13"
2025-03-22 21:40:02.731 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/login?useCookies=true - application/json 48
2025-03-22 21:40:02.733 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:40:02.735 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:40:02.736 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:40:02.736 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/login'
2025-03-22 21:40:02.737 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:02.738 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:02.738 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:02.739 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 21:40:02.739 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 21:40:02.740 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:02.741 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:02.741 +02:00 [INF] Executing endpoint 'HTTP: POST api/login'
2025-03-22 21:40:02.743 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000001": started reading request body.
2025-03-22 21:40:02.744 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000001": done reading request body.
2025-03-22 21:40:02.745 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:02.748 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:02.748 +02:00 [DBG] Created DbConnection. (0ms).
2025-03-22 21:40:02.749 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.762 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.766 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:02.767 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:02.769 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:40:02.772 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:40:02.776 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:40:02.779 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:02.780 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.782 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:40:02.783 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.784 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:40:02.823 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.824 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.825 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:02.826 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:40:02.827 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:02.828 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:40:02.832 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:40:02.833 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.834 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:40:02.834 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.836 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:40:02.839 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.840 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.841 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:02.841 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:40:02.844 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:40:02.845 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:40:02.849 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:40:02.850 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.850 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 21:40:02.851 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.853 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:40:02.854 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.855 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.856 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:02.857 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:02.858 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:02.858 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-03-22 21:40:02.862 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedName_0
2025-03-22 21:40:02.865 +02:00 [DBG] Context 'StoreContext' started tracking 'IdentityRole' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:02.866 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.867 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:40:02.868 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.870 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:40:02.871 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.872 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.873 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:02.873 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:40:02.874 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:02.877 +02:00 [DBG] Executing DbCommand [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-03-22 21:40:02.879 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__role_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[ClaimType], [a].[ClaimValue]
FROM [AspNetRoleClaims] AS [a]
WHERE [a].[RoleId] = @__role_Id_0
2025-03-22 21:40:02.882 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.883 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:40:02.884 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.885 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:40:02.886 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-03-22 21:40:02.886 +02:00 [INF] Executed endpoint 'HTTP: POST api/login'
2025-03-22 21:40:02.887 +02:00 [INF] HTTP POST /api/login responded 200 in 150.0885 ms
2025-03-22 21:40:02.888 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:02.889 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:02.890 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:40:02.891 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/login?useCookies=true - 200 0 null 159.8699ms
2025-03-22 21:40:03.394 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null null
2025-03-22 21:40:03.395 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/account/user-info - null null
2025-03-22 21:40:03.398 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - null null
2025-03-22 21:40:03.401 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:03.405 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/user-info'
2025-03-22 21:40:03.415 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.GetUserInfo (API)' with route pattern 'api/Account/user-info' is valid for the request path '/api/account/user-info'
2025-03-22 21:40:03.409 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:03.429 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:03.418 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/user-info'
2025-03-22 21:40:03.408 +02:00 [DBG] 3 candidate(s) found for the request path '/api/products'
2025-03-22 21:40:03.433 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:03.447 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:40:03.453 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.CreateProduct (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:40:03.454 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:03.461 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:03.460 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetProducts (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:40:03.454 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:03.466 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:03.470 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products'
2025-03-22 21:40:03.478 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:03.475 +02:00 [INF] HTTP OPTIONS /hub/notifications/negotiate responded 204 in 21.6522 ms
2025-03-22 21:40:03.474 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:03.482 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:03.488 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 204 null null 93.7999ms
2025-03-22 21:40:03.489 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:03.490 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null 0
2025-03-22 21:40:03.492 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:03.504 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:03.507 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:03.507 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:03.508 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:03.511 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:03.515 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:03.518 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:03.517 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:03.516 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.520 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.523 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:03.523 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.524 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.525 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:03.527 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:40:03.528 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:03.529 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:03.531 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:03.532 +02:00 [INF] Route matched with {action = "GetUserInfo", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUserInfo() on controller API.Controllers.AccountController (API).
2025-03-22 21:40:03.533 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:03.534 +02:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Product]]] GetProducts(Core.Specifications.ProductSpecParams) on controller API.Controllers.ProductsController (API).
2025-03-22 21:40:03.534 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:03.535 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:03.537 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:03.539 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:03.543 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:03.541 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:03.546 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:40:03.545 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:03.540 +02:00 [DBG] Authorization was successful.
2025-03-22 21:40:03.548 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:03.550 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:03.550 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.552 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:03.553 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:40:03.557 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:40:03.555 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:40:03.567 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:40:03.569 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:40:03.554 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.566 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:03.570 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' using the name '' in request data ...
2025-03-22 21:40:03.571 +02:00 [INF] Executing endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:03.574 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:03.578 +02:00 [DBG] Created DbConnection. (4ms).
2025-03-22 21:40:03.576 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Brands' in request data ...
2025-03-22 21:40:03.592 +02:00 [DBG] Could not find a value in the request with name 'Brands' for binding property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:03.594 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:03.576 +02:00 [DBG] New connection fdFm2ARaFnlcNh0kFVgqDg created.
2025-03-22 21:40:03.589 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.604 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.605 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:03.606 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:40:03.603 +02:00 [DBG] Sending negotiation response.
2025-03-22 21:40:03.611 +02:00 [INF] Executed endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:03.612 +02:00 [INF] HTTP POST /hub/notifications/negotiate responded 200 in 86.7762 ms
2025-03-22 21:40:03.613 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 200 316 application/json 123.488ms
2025-03-22 21:40:03.609 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-03-22 21:40:03.602 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Types' in request data ...
2025-03-22 21:40:03.619 +02:00 [DBG] Could not find a value in the request with name 'Types' for binding property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:03.621 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:03.620 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=Io7QwRLulDhUKTPjGGVnPg - null null
2025-03-22 21:40:03.640 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications'
2025-03-22 21:40:03.649 +02:00 [DBG] Endpoint '/hub/notifications' with route pattern '/hub/notifications' is valid for the request path '/hub/notifications'
2025-03-22 21:40:03.619 +02:00 [DBG] Executing DbCommand [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:40:03.633 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String' using the name 'Sort' in request data ...
2025-03-22 21:40:03.653 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications'
2025-03-22 21:40:03.658 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:40:03.663 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.664 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.657 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String'.
2025-03-22 21:40:03.658 +02:00 [DBG] Request matched endpoint '/hub/notifications'
2025-03-22 21:40:03.668 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:03.665 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:40:03.669 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:03.670 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:03.671 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:03.665 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String' using the name 'Search' in request data ...
2025-03-22 21:40:03.675 +02:00 [DBG] Could not find a value in the request with name 'Search' for binding property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:40:03.676 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:40:03.677 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 21:40:03.678 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 21:40:03.669 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.679 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (9ms).
2025-03-22 21:40:03.682 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:03.683 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:03.678 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 21:40:03.686 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 21:40:03.687 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:03.688 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:03.690 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:40:03.691 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:03.684 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:03.694 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:03.695 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:03.696 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`5[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[API.DTOs.AddressDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-22 21:40:03.672 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:03.701 +02:00 [DBG] Authorization was successful.
2025-03-22 21:40:03.702 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.708 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:03.708 +02:00 [INF] Executing endpoint '/hub/notifications'
2025-03-22 21:40:03.710 +02:00 [DBG] Establishing new connection.
2025-03-22 21:40:03.710 +02:00 [INF] Executed action API.Controllers.AccountController.GetUserInfo (API) in 157.1984ms
2025-03-22 21:40:03.721 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:40:03.711 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-03-22 21:40:03.722 +02:00 [INF] HTTP GET /api/account/user-info responded 200 in 267.3430 ms
2025-03-22 21:40:03.724 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:03.715 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:03.711 +02:00 [DBG] OnConnectedAsync started.
2025-03-22 21:40:03.729 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2025-03-22 21:40:03.731 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-03-22 21:40:03.731 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.733 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-03-22 21:40:03.734 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/account/user-info - 200 null application/json; charset=utf-8 338.5814ms
2025-03-22 21:40:03.737 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(x => True)
    .OrderBy(x => x.Name)
    .Skip(__p_0)
    .Take(__p_1)'
2025-03-22 21:40:03.764 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Product>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Brand (string) Required, 1], [Property: Product.Description (string) Required, 2], [Property: Product.Name (string) Required, 3], [Property: Product.PictureUrl (string) Required, 4], [Property: Product.Price (decimal) Required, 5], [Property: Product.QuantityInStock (int) Required, 6], [Property: Product.Type (string) Required, 7] }
        SELECT p.Id, p.Brand, p.Description, p.Name, p.PictureUrl, p.Price, p.QuantityInStock, p.Type
        FROM Products AS p
        ORDER BY p.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Brand (string) Required, 1], [Property: Product.Description (string) Required, 2], [Property: Product.Name (string) Required, 3], [Property: Product.PictureUrl (string) Required, 4], [Property: Product.Price (decimal) Required, 5], [Property: Product.QuantityInStock (int) Required, 6], [Property: Product.Type (string) Required, 7] }
        SELECT p.Id, p.Brand, p.Description, p.Name, p.PictureUrl, p.Price, p.QuantityInStock, p.Type
        FROM Products AS p
        ORDER BY p.Name ASC
        OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        Product entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            Product instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(Product);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: Product.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.Product").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (Product)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.Product")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.Product")]: 
                        {
                            return 
                            {
                                Product instance;
                                instance = new Product();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<Brand>k__BackingField = dataReader.GetString(1);
                                instance.<Description>k__BackingField = dataReader.GetString(2);
                                instance.<Name>k__BackingField = dataReader.GetString(3);
                                instance.<PictureUrl>k__BackingField = dataReader.GetString(4);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                instance.<QuantityInStock>k__BackingField = dataReader.GetInt32(6);
                                instance.<Type>k__BackingField = dataReader.GetString(7);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.Product")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(Product)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:40:03.778 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:03.780 +02:00 [DBG] Created DbConnection. (1ms).
2025-03-22 21:40:03.781 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.782 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.783 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:03.784 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:40:03.787 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:40:03.788 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
ORDER BY [p].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-22 21:40:03.797 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
ORDER BY [p].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-22 21:40:03.805 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.822 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.823 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.824 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.825 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.825 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.826 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.827 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.828 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.829 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:03.830 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.831 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 31ms reading results.
2025-03-22 21:40:03.832 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.834 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 21:40:03.838 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .Where(x => True)
    .Count()'
2025-03-22 21:40:03.852 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Products AS p, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:40:03.870 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.872 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.873 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:03.874 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:40:03.875 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:03.876 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-03-22 21:40:03.882 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-03-22 21:40:03.885 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.886 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:40:03.887 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.888 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:40:03.907 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:03.912 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:03.912 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:03.914 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:03.915 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:03.916 +02:00 [INF] Executing OkObjectResult, writing value of type 'API.RequestHelpers.Pagination`1[[Core.Entities.Product, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-22 21:40:03.919 +02:00 [INF] Executed action API.Controllers.ProductsController.GetProducts (API) in 363.8131ms
2025-03-22 21:40:03.924 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:03.925 +02:00 [INF] HTTP GET /api/products responded 200 in 443.2921 ms
2025-03-22 21:40:03.926 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:03.928 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:03.929 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 21:40:03.932 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - 200 null application/json; charset=utf-8 533.4314ms
2025-03-22 21:40:05.021 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/admin/orders?pageIndex=1&pageSize=10 - null null
2025-03-22 21:40:05.023 +02:00 [DBG] 2 candidate(s) found for the request path '/api/admin/orders'
2025-03-22 21:40:05.026 +02:00 [DBG] Endpoint 'API.Controllers.AdminController.GetOrders (API)' with route pattern 'api/Admin/orders' is valid for the request path '/api/admin/orders'
2025-03-22 21:40:05.027 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/admin/orders'
2025-03-22 21:40:05.029 +02:00 [DBG] Request matched endpoint 'API.Controllers.AdminController.GetOrders (API)'
2025-03-22 21:40:05.030 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:05.031 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:05.032 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:05.035 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:05.036 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:05.038 +02:00 [DBG] Authorization was successful.
2025-03-22 21:40:05.040 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:05.041 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:05.042 +02:00 [INF] Executing endpoint 'API.Controllers.AdminController.GetOrders (API)'
2025-03-22 21:40:05.046 +02:00 [INF] Route matched with {action = "GetOrders", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[API.DTOs.OrderDto]]] GetOrders(Core.Specifications.OrderSpecParams) on controller API.Controllers.AdminController (API).
2025-03-22 21:40:05.049 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:05.050 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:05.052 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:05.053 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:05.055 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:05.056 +02:00 [DBG] Executing controller factory for controller API.Controllers.AdminController (API)
2025-03-22 21:40:05.063 +02:00 [DBG] Executed controller factory for controller API.Controllers.AdminController (API)
2025-03-22 21:40:05.065 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.OrderSpecParams' ...
2025-03-22 21:40:05.066 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.OrderSpecParams' using the name '' in request data ...
2025-03-22 21:40:05.067 +02:00 [DBG] Attempting to bind property 'Core.Specifications.OrderSpecParams.Status' of type 'System.String' using the name 'Status' in request data ...
2025-03-22 21:40:05.071 +02:00 [DBG] Could not find a value in the request with name 'Status' for binding property 'Core.Specifications.OrderSpecParams.Status' of type 'System.String'.
2025-03-22 21:40:05.073 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.OrderSpecParams.Status' of type 'System.String'.
2025-03-22 21:40:05.074 +02:00 [DBG] Attempting to bind property 'Core.Specifications.OrderSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 21:40:05.076 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.OrderSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 21:40:05.077 +02:00 [DBG] Attempting to bind property 'Core.Specifications.OrderSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 21:40:05.079 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.OrderSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 21:40:05.081 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.OrderSpecParams'.
2025-03-22 21:40:05.082 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.OrderSpecParams'.
2025-03-22 21:40:05.083 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.OrderSpecParams' ...
2025-03-22 21:40:05.085 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.OrderSpecParams'.
2025-03-22 21:40:05.089 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:05.093 +02:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => True)
    .OrderByDescending(x => (object)x.OrderDate)
    .Skip(__p_0)
    .Take(__p_1)
    .Include("OrderItems")
    .Include("DeliveryMethod")'
2025-03-22 21:40:05.096 +02:00 [DBG] Including navigation: 'Order.PaymentSummary'.
2025-03-22 21:40:05.098 +02:00 [DBG] Including navigation: 'Order.ShippingAddress'.
2025-03-22 21:40:05.099 +02:00 [DBG] Including navigation: 'Order.OrderItems'.
2025-03-22 21:40:05.100 +02:00 [DBG] Including navigation: 'Order.DeliveryMethod'.
2025-03-22 21:40:05.102 +02:00 [DBG] Including navigation: 'OrderItem.ItemOrdered'.
2025-03-22 21:40:05.142 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<Order>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.BuyerEmail (string) Required, 1], [Property: Order.DeliveryMethodId (no field, int) Shadow Required FK Index, 2], [Property: Order.Discount (decimal) Required, 3], [Property: Order.OrderDate (DateTime) Required, 4], [Property: Order.PaymentIntentId (string) Required, 5], [Property: Order.Status (OrderStatus) Required, 6], [Property: Order.Subtotal (decimal) Required, 7] }
            1 -> Dictionary<IProperty, int> { [Property: PaymentSummary.OrderId (no field, int) Shadow Required PK FK AfterSave:Throw, 0], [Property: PaymentSummary.Brand (string) Required, 8], [Property: PaymentSummary.ExpMonth (int) Required, 9], [Property: PaymentSummary.ExpYear (int) Required, 10], [Property: PaymentSummary.Last4 (int) Required, 11] }
            2 -> Dictionary<IProperty, int> { [Property: ShippingAddress.OrderId (no field, int) Shadow Required PK FK AfterSave:Throw, 0], [Property: ShippingAddress.City (string) Required, 12], [Property: ShippingAddress.Country (string) Required, 13], [Property: ShippingAddress.Line1 (string) Required, 14], [Property: ShippingAddress.Line2 (string), 15], [Property: ShippingAddress.Name (string) Required, 16], [Property: ShippingAddress.PostalCode (string) Required, 17], [Property: ShippingAddress.State (string) Required, 18] }
            3 -> 0
            4 -> 19
            5 -> Dictionary<IProperty, int> { [Property: OrderItem.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 20], [Property: OrderItem.OrderId (no field, int?) Shadow FK Index, 21], [Property: OrderItem.Price (decimal) Required, 22], [Property: OrderItem.Quantity (int) Required, 23] }
            6 -> Dictionary<IProperty, int> { [Property: ProductItemOrdered.OrderItemId (no field, int) Shadow Required PK FK AfterSave:Throw, 20], [Property: ProductItemOrdered.PictureUrl (string) Required, 24], [Property: ProductItemOrdered.ProductId (int) Required, 25], [Property: ProductItemOrdered.ProductName (string) Required, 26] }
            7 -> 20
            8 -> Dictionary<IProperty, int> { [Property: DeliveryMethod.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: DeliveryMethod.DeliveryTime (string) Required, 27], [Property: DeliveryMethod.Description (string) Required, 28], [Property: DeliveryMethod.Price (decimal) Required, 29], [Property: DeliveryMethod.ShortName (string) Required, 30] }
        SELECT o0.Id, o0.BuyerEmail, o0.DeliveryMethodId, o0.Discount, o0.OrderDate, o0.PaymentIntentId, o0.Status, o0.Subtotal, o0.PaymentSummary_Brand, o0.PaymentSummary_ExpMonth, o0.PaymentSummary_ExpYear, o0.PaymentSummary_Last4, o0.ShippingAddress_City, o0.ShippingAddress_Country, o0.ShippingAddress_Line1, o0.ShippingAddress_Line2, o0.ShippingAddress_Name, o0.ShippingAddress_PostalCode, o0.ShippingAddress_State, d.Id, o1.Id, o1.OrderId, o1.Price, o1.Quantity, o1.ItemOrdered_PictureUrl, o1.ItemOrdered_ProductId, o1.ItemOrdered_ProductName, d.DeliveryTime, d.Description, d.Price, d.ShortName
        FROM 
        (
            SELECT o.Id, o.BuyerEmail, o.DeliveryMethodId, o.Discount, o.OrderDate, o.PaymentIntentId, o.Status, o.Subtotal, o.PaymentSummary_Brand, o.PaymentSummary_ExpMonth, o.PaymentSummary_ExpYear, o.PaymentSummary_Last4, o.ShippingAddress_City, o.ShippingAddress_Country, o.ShippingAddress_Line1, o.ShippingAddress_Line2, o.ShippingAddress_Name, o.ShippingAddress_PostalCode, o.ShippingAddress_State
            FROM Orders AS o
            ORDER BY o.OrderDate DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS o0
        INNER JOIN DeliveryMethods AS d ON o0.DeliveryMethodId == d.Id
        LEFT JOIN OrderItems AS o1 ON o0.Id == o1.OrderId
        ORDER BY o0.OrderDate DESC, o0.Id ASC, d.Id ASC) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: Order.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Order.BuyerEmail (string) Required, 1], [Property: Order.DeliveryMethodId (no field, int) Shadow Required FK Index, 2], [Property: Order.Discount (decimal) Required, 3], [Property: Order.OrderDate (DateTime) Required, 4], [Property: Order.PaymentIntentId (string) Required, 5], [Property: Order.Status (OrderStatus) Required, 6], [Property: Order.Subtotal (decimal) Required, 7] }
            1 -> Dictionary<IProperty, int> { [Property: PaymentSummary.OrderId (no field, int) Shadow Required PK FK AfterSave:Throw, 0], [Property: PaymentSummary.Brand (string) Required, 8], [Property: PaymentSummary.ExpMonth (int) Required, 9], [Property: PaymentSummary.ExpYear (int) Required, 10], [Property: PaymentSummary.Last4 (int) Required, 11] }
            2 -> Dictionary<IProperty, int> { [Property: ShippingAddress.OrderId (no field, int) Shadow Required PK FK AfterSave:Throw, 0], [Property: ShippingAddress.City (string) Required, 12], [Property: ShippingAddress.Country (string) Required, 13], [Property: ShippingAddress.Line1 (string) Required, 14], [Property: ShippingAddress.Line2 (string), 15], [Property: ShippingAddress.Name (string) Required, 16], [Property: ShippingAddress.PostalCode (string) Required, 17], [Property: ShippingAddress.State (string) Required, 18] }
            3 -> 0
            4 -> 19
            5 -> Dictionary<IProperty, int> { [Property: OrderItem.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 20], [Property: OrderItem.OrderId (no field, int?) Shadow FK Index, 21], [Property: OrderItem.Price (decimal) Required, 22], [Property: OrderItem.Quantity (int) Required, 23] }
            6 -> Dictionary<IProperty, int> { [Property: ProductItemOrdered.OrderItemId (no field, int) Shadow Required PK FK AfterSave:Throw, 20], [Property: ProductItemOrdered.PictureUrl (string) Required, 24], [Property: ProductItemOrdered.ProductId (int) Required, 25], [Property: ProductItemOrdered.ProductName (string) Required, 26] }
            7 -> 20
            8 -> Dictionary<IProperty, int> { [Property: DeliveryMethod.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 19], [Property: DeliveryMethod.DeliveryTime (string) Required, 27], [Property: DeliveryMethod.Description (string) Required, 28], [Property: DeliveryMethod.Price (decimal) Required, 29], [Property: DeliveryMethod.ShortName (string) Required, 30] }
        SELECT o0.Id, o0.BuyerEmail, o0.DeliveryMethodId, o0.Discount, o0.OrderDate, o0.PaymentIntentId, o0.Status, o0.Subtotal, o0.PaymentSummary_Brand, o0.PaymentSummary_ExpMonth, o0.PaymentSummary_ExpYear, o0.PaymentSummary_Last4, o0.ShippingAddress_City, o0.ShippingAddress_Country, o0.ShippingAddress_Line1, o0.ShippingAddress_Line2, o0.ShippingAddress_Name, o0.ShippingAddress_PostalCode, o0.ShippingAddress_State, d.Id, o1.Id, o1.OrderId, o1.Price, o1.Quantity, o1.ItemOrdered_PictureUrl, o1.ItemOrdered_ProductId, o1.ItemOrdered_ProductName, d.DeliveryTime, d.Description, d.Price, d.ShortName
        FROM 
        (
            SELECT o.Id, o.BuyerEmail, o.DeliveryMethodId, o.Discount, o.OrderDate, o.PaymentIntentId, o.Status, o.Subtotal, o.PaymentSummary_Brand, o.PaymentSummary_ExpMonth, o.PaymentSummary_ExpYear, o.PaymentSummary_Last4, o.ShippingAddress_City, o.ShippingAddress_Country, o.ShippingAddress_Line1, o.ShippingAddress_Line2, o.ShippingAddress_Name, o.ShippingAddress_PostalCode, o.ShippingAddress_State
            FROM Orders AS o
            ORDER BY o.OrderDate DESC
            OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
        ) AS o0
        INNER JOIN DeliveryMethods AS d ON o0.DeliveryMethodId == d.Id
        LEFT JOIN OrderItems AS o1 ON o0.Id == o1.OrderId
        ORDER BY o0.OrderDate DESC, o0.Id ASC, d.Id ASC, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        resultContext.Values == null ? 
        {
            Order entity;
            PaymentSummary entity;
            ShippingAddress entity;
            DeliveryMethod entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Order instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Order);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Order.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Order)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Order | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Order | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int>(dataReader.GetInt32(2));
                                return 
                                {
                                    Order instance;
                                    instance = new Order();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<BuyerEmail>k__BackingField = dataReader.GetString(1);
                                    instance.<Discount>k__BackingField = dataReader.GetDecimal(3);
                                    instance.<OrderDate>k__BackingField = Invoke(((ValueConverter<DateTime, DateTime>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Order.OrderDate (DateTime) Required | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindProperty("OrderDate")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetDateTime(4));
                                    instance.<PaymentIntentId>k__BackingField = dataReader.GetString(5);
                                    instance.<Status>k__BackingField = Invoke(((ValueConverter<OrderStatus, string>)((IReadOnlyProperty)[LIFTABLE Constant: Property: Order.Status (OrderStatus) Required | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindProperty("Status")]).GetTypeMapping().Converter).ConvertFromProviderTyped, dataReader.GetString(6));
                                    instance.<Subtotal>k__BackingField = dataReader.GetDecimal(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Order | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Order)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                PaymentSummary instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(PaymentSummary);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: PaymentSummary.OrderId PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.PaymentSummary").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (PaymentSummary)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: PaymentSummary Owned | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.PaymentSummary")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: PaymentSummary Owned | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.PaymentSummary")]: 
                            {
                                shadowSnapshot2 = (ISnapshot)new Snapshot<int>(dataReader.GetInt32(0));
                                return 
                                {
                                    PaymentSummary instance;
                                    instance = new PaymentSummary();
                                    instance.<Brand>k__BackingField = dataReader.GetString(8);
                                    instance.<ExpMonth>k__BackingField = dataReader.GetInt32(9);
                                    instance.<ExpYear>k__BackingField = dataReader.GetInt32(10);
                                    instance.<Last4>k__BackingField = dataReader.GetInt32(11);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: PaymentSummary Owned | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.PaymentSummary")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(PaymentSummary)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            entity = 
            {
                MaterializationContext materializationContext3;
                IEntityType entityType3;
                ShippingAddress instance3;
                InternalEntityEntry entry3;
                bool hasNullKey3;
                materializationContext3 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance3 = default(ShippingAddress);
                entry3 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: ShippingAddress.OrderId PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ShippingAddress").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey3);
                !(hasNullKey3) ? entry3 != default(InternalEntityEntry) ? 
                {
                    entityType3 = entry3.EntityType;
                    return instance3 = (ShippingAddress)entry3.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot3;
                    shadowSnapshot3 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType3 = [LIFTABLE Constant: EntityType: ShippingAddress Owned | Resolver: namelessParameter{8} => namelessParameter{8}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ShippingAddress")];
                    instance3 = switch (entityType3)
                    {
                        case [LIFTABLE Constant: EntityType: ShippingAddress Owned | Resolver: namelessParameter{9} => namelessParameter{9}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ShippingAddress")]: 
                            {
                                shadowSnapshot3 = (ISnapshot)new Snapshot<int>(dataReader.GetInt32(0));
                                return 
                                {
                                    ShippingAddress instance;
                                    instance = new ShippingAddress();
                                    instance.<City>k__BackingField = dataReader.GetString(12);
                                    instance.<Country>k__BackingField = dataReader.GetString(13);
                                    instance.<Line1>k__BackingField = dataReader.GetString(14);
                                    instance.<Line2>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<Name>k__BackingField = dataReader.GetString(16);
                                    instance.<PostalCode>k__BackingField = dataReader.GetString(17);
                                    instance.<State>k__BackingField = dataReader.GetString(18);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext3.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: ShippingAddress Owned | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ShippingAddress")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(ShippingAddress)
                    }
                    ;
                    entry3 = entityType3 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType3, 
                        entity: instance3, 
                        snapshot: shadowSnapshot3);
                    return instance3;
                } : default(void);
                return instance3;
            };
            entity = 
            {
                MaterializationContext materializationContext6;
                IEntityType entityType6;
                DeliveryMethod instance6;
                InternalEntityEntry entry6;
                bool hasNullKey6;
                materializationContext6 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance6 = default(DeliveryMethod);
                entry6 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: DeliveryMethod.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(19) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey6);
                !(hasNullKey6) ? entry6 != default(InternalEntityEntry) ? 
                {
                    entityType6 = entry6.EntityType;
                    return instance6 = (DeliveryMethod)entry6.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot6;
                    shadowSnapshot6 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType6 = [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{11} => namelessParameter{11}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")];
                    instance6 = switch (entityType6)
                    {
                        case [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{12} => namelessParameter{12}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")]: 
                            {
                                return 
                                {
                                    DeliveryMethod instance;
                                    instance = new DeliveryMethod();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(19);
                                    instance.<DeliveryTime>k__BackingField = dataReader.GetString(27);
                                    instance.<Description>k__BackingField = dataReader.GetString(28);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(29);
                                    instance.<ShortName>k__BackingField = dataReader.GetString(30);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext6.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{13} => namelessParameter{13}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(DeliveryMethod)
                    }
                    ;
                    entry6 = entityType6 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType6, 
                        entity: instance6, 
                        snapshot: shadowSnapshot6);
                    return instance6;
                } : default(void);
                return instance6;
            };
            resultContext.Values = new object[]
            { 
                entity, 
                entity, 
                entity, 
                entity 
            };
            ShaperProcessingExpressionVisitor.IncludeReference<Order, Order, PaymentSummary>(
                queryContext: queryContext, 
                entity: (Order)(resultContext.Values[0]), 
                relatedEntity: (PaymentSummary)(resultContext.Values[1]), 
                navigation: [LIFTABLE Constant: Navigation: Order.PaymentSummary (PaymentSummary) ToDependent PaymentSummary | Resolver: namelessParameter{14} => namelessParameter{14}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindNavigation("PaymentSummary")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{15}, namelessParameter{16}) => 
                {
                    return namelessParameter{15}.<PaymentSummary>k__BackingField = namelessParameter{16};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Order, Order, ShippingAddress>(
                queryContext: queryContext, 
                entity: (Order)(resultContext.Values[0]), 
                relatedEntity: (ShippingAddress)(resultContext.Values[2]), 
                navigation: [LIFTABLE Constant: Navigation: Order.ShippingAddress (ShippingAddress) ToDependent ShippingAddress | Resolver: namelessParameter{17} => namelessParameter{17}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindNavigation("ShippingAddress")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{18}, namelessParameter{19}) => 
                {
                    return namelessParameter{18}.<ShippingAddress>k__BackingField = namelessParameter{19};
                }, 
                trackingQuery: True);
            ShaperProcessingExpressionVisitor.InitializeIncludeCollection<Order, Order>(
                collectionId: 0, 
                queryContext: queryContext, 
                dbDataReader: dataReader, 
                resultCoordinator: resultCoordinator, 
                entity: (Order)(resultContext.Values[0]), 
                parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(19) 
                }], 
                outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
                { 
                    (object)(int?)dataReader.GetInt32(0), 
                    (object)(int?)dataReader.GetInt32(19) 
                }], 
                navigation: [LIFTABLE Constant: Navigation: Order.OrderItems (List<OrderItem>) Collection ToDependent OrderItem | Resolver: namelessParameter{20} => namelessParameter{20}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindNavigation("OrderItems")], 
                clrCollectionAccessor: [LIFTABLE Constant: ClrICollectionAccessor<Order, List<OrderItem>, OrderItem> | Resolver: namelessParameter{21} => namelessParameter{21}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindNavigation("OrderItems").GetCollectionAccessor()], 
                trackingQuery: True, 
                setLoaded: True);
            ShaperProcessingExpressionVisitor.IncludeReference<Order, Order, DeliveryMethod>(
                queryContext: queryContext, 
                entity: (Order)(resultContext.Values[0]), 
                relatedEntity: (DeliveryMethod)(resultContext.Values[3]), 
                navigation: [LIFTABLE Constant: Navigation: Order.DeliveryMethod (DeliveryMethod) ToPrincipal DeliveryMethod | Resolver: namelessParameter{22} => namelessParameter{22}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindNavigation("DeliveryMethod")], 
                inverseNavigation: default(INavigation), 
                fixup: (namelessParameter{23}, namelessParameter{24}) => 
                {
                    return namelessParameter{23}.<DeliveryMethod>k__BackingField = namelessParameter{24};
                }, 
                trackingQuery: True);
        } : default(void);
        ShaperProcessingExpressionVisitor.PopulateIncludeCollection<Order, OrderItem>(
            collectionId: 0, 
            queryContext: queryContext, 
            dbDataReader: dataReader, 
            resultCoordinator: resultCoordinator, 
            parentIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(19) 
            }], 
            outerIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]
            { 
                (object)(int?)dataReader.GetInt32(0), 
                (object)(int?)dataReader.GetInt32(19) 
            }], 
            selfIdentifier: [LIFTABLE Constant: Func<QueryContext, DbDataReader, object[]> | Resolver: _ => (queryContext, dataReader) => new object[]{ (object)dataReader.IsDBNull(20) ? default(int?) : (int?)dataReader.GetInt32(20) }], 
            parentIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            outerIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool>, Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]
            { 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right, 
                (left, right) => left == null ? right == null : right != null && (int)left == (int)right 
            }], 
            selfIdentifierValueComparers: [LIFTABLE Constant: Func<object, object, bool>[] { Func<object, object, bool> } | Resolver: _ => new Func<object, object, bool>[]{ (left, right) => left == null ? right == null : right != null && (int)left == (int)right }], 
            innerShaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
            {
                OrderItem entity;
                ProductItemOrdered entity;
                entity = 
                {
                    MaterializationContext materializationContext4;
                    IEntityType entityType4;
                    OrderItem instance4;
                    InternalEntityEntry entry4;
                    bool hasNullKey4;
                    materializationContext4 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance4 = default(OrderItem);
                    entry4 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: OrderItem.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.OrderItem").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(20) ? default(object) : (object)dataReader.GetInt32(20) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey4);
                    !(hasNullKey4) ? entry4 != default(InternalEntityEntry) ? 
                    {
                        entityType4 = entry4.EntityType;
                        return instance4 = (OrderItem)entry4.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot4;
                        shadowSnapshot4 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType4 = [LIFTABLE Constant: EntityType: OrderItem | Resolver: namelessParameter{25} => namelessParameter{25}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.OrderItem")];
                        instance4 = switch (entityType4)
                        {
                            case [LIFTABLE Constant: EntityType: OrderItem | Resolver: namelessParameter{26} => namelessParameter{26}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.OrderItem")]: 
                                {
                                    shadowSnapshot4 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(21) ? default(int?) : (int?)dataReader.GetInt32(21));
                                    return 
                                    {
                                        OrderItem instance;
                                        instance = new OrderItem();
                                        instance.<Id>k__BackingField = dataReader.IsDBNull(20) ? default(int) : dataReader.GetInt32(20);
                                        instance.<Price>k__BackingField = dataReader.IsDBNull(22) ? default(decimal) : dataReader.GetDecimal(22);
                                        instance.<Quantity>k__BackingField = dataReader.IsDBNull(23) ? default(int) : dataReader.GetInt32(23);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext4.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: OrderItem | Resolver: namelessParameter{27} => namelessParameter{27}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.OrderItem")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(OrderItem)
                        }
                        ;
                        entry4 = entityType4 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType4, 
                            entity: instance4, 
                            snapshot: shadowSnapshot4);
                        return instance4;
                    } : default(void);
                    return instance4;
                };
                entity = 
                {
                    MaterializationContext materializationContext5;
                    IEntityType entityType5;
                    ProductItemOrdered instance5;
                    InternalEntityEntry entry5;
                    bool hasNullKey5;
                    materializationContext5 = new MaterializationContext(
                        [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                        queryContext.Context
                    );
                    instance5 = default(ProductItemOrdered);
                    entry5 = queryContext.TryGetEntry(
                        key: [LIFTABLE Constant: Key: ProductItemOrdered.OrderItemId PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ProductItemOrdered").FindPrimaryKey()], 
                        keyValues: new object[]{ dataReader.IsDBNull(20) ? default(object) : (object)dataReader.GetInt32(20) }, 
                        throwOnNullKey: False, 
                        hasNullKey: hasNullKey5);
                    !(hasNullKey5) ? entry5 != default(InternalEntityEntry) ? 
                    {
                        entityType5 = entry5.EntityType;
                        return instance5 = (ProductItemOrdered)entry5.Entity;
                    } : 
                    {
                        ISnapshot shadowSnapshot5;
                        shadowSnapshot5 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                        entityType5 = [LIFTABLE Constant: EntityType: ProductItemOrdered Owned | Resolver: namelessParameter{28} => namelessParameter{28}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ProductItemOrdered")];
                        instance5 = switch (entityType5)
                        {
                            case [LIFTABLE Constant: EntityType: ProductItemOrdered Owned | Resolver: namelessParameter{29} => namelessParameter{29}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ProductItemOrdered")]: 
                                {
                                    shadowSnapshot5 = (ISnapshot)new Snapshot<int>(dataReader.IsDBNull(20) ? default(int) : dataReader.GetInt32(20));
                                    return 
                                    {
                                        ProductItemOrdered instance;
                                        instance = new ProductItemOrdered();
                                        instance.<PictureUrl>k__BackingField = dataReader.IsDBNull(24) ? default(string) : dataReader.GetString(24);
                                        instance.<ProductId>k__BackingField = dataReader.IsDBNull(25) ? default(int) : dataReader.GetInt32(25);
                                        instance.<ProductName>k__BackingField = dataReader.IsDBNull(26) ? default(string) : dataReader.GetString(26);
                                        (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                            context: materializationContext5.Context, 
                                            entity: instance, 
                                            queryTrackingBehavior: TrackAll, 
                                            structuralType: [LIFTABLE Constant: EntityType: ProductItemOrdered Owned | Resolver: namelessParameter{30} => namelessParameter{30}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.ProductItemOrdered")]) : default(void);
                                        return instance;
                                    }}
                            default: 
                                default(ProductItemOrdered)
                        }
                        ;
                        entry5 = entityType5 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                            entityType: entityType5, 
                            entity: instance5, 
                            snapshot: shadowSnapshot5);
                        return instance5;
                    } : default(void);
                    return instance5;
                };
                ShaperProcessingExpressionVisitor.IncludeReference<OrderItem, OrderItem, ProductItemOrdered>(
                    queryContext: queryContext, 
                    entity: entity, 
                    relatedEntity: entity, 
                    navigation: [LIFTABLE Constant: Navigation: OrderItem.ItemOrdered (ProductItemOrdered) ToDependent ProductItemOrdered | Resolver: namelessParameter{31} => namelessParameter{31}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.OrderItem").FindNavigation("ItemOrdered")], 
                    inverseNavigation: default(INavigation), 
                    fixup: (namelessParameter{32}, namelessParameter{33}) => 
                    {
                        return namelessParameter{32}.<ItemOrdered>k__BackingField = namelessParameter{33};
                    }, 
                    trackingQuery: True);
                return entity;
            }, 
            inverseNavigation: default(INavigationBase), 
            fixup: (namelessParameter{34}, namelessParameter{35}) => 
            {
                return [LIFTABLE Constant: ClrICollectionAccessor<Order, List<OrderItem>, OrderItem> | Resolver: namelessParameter{36} => namelessParameter{36}.Dependencies.Model.FindEntityType("Core.Entities.OrderAggregate.Order").FindNavigation("OrderItems").GetCollectionAccessor()].Add(
                    entity: namelessParameter{34}, 
                    value: namelessParameter{35}, 
                    forMaterialization: True);
            }, 
            trackingQuery: True);
        return IsTrue(resultCoordinator.ResultReady)
         ? (Order)(resultContext.Values[0]) : default(Order);
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:40:05.184 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:05.189 +02:00 [DBG] Created DbConnection. (5ms).
2025-03-22 21:40:05.191 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.193 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.196 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:05.198 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:40:05.199 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:40:05.199 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[BuyerEmail], [o0].[DeliveryMethodId], [o0].[Discount], [o0].[OrderDate], [o0].[PaymentIntentId], [o0].[Status], [o0].[Subtotal], [o0].[PaymentSummary_Brand], [o0].[PaymentSummary_ExpMonth], [o0].[PaymentSummary_ExpYear], [o0].[PaymentSummary_Last4], [o0].[ShippingAddress_City], [o0].[ShippingAddress_Country], [o0].[ShippingAddress_Line1], [o0].[ShippingAddress_Line2], [o0].[ShippingAddress_Name], [o0].[ShippingAddress_PostalCode], [o0].[ShippingAddress_State], [d].[Id], [o1].[Id], [o1].[OrderId], [o1].[Price], [o1].[Quantity], [o1].[ItemOrdered_PictureUrl], [o1].[ItemOrdered_ProductId], [o1].[ItemOrdered_ProductName], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM (
    SELECT [o].[Id], [o].[BuyerEmail], [o].[DeliveryMethodId], [o].[Discount], [o].[OrderDate], [o].[PaymentIntentId], [o].[Status], [o].[Subtotal], [o].[PaymentSummary_Brand], [o].[PaymentSummary_ExpMonth], [o].[PaymentSummary_ExpYear], [o].[PaymentSummary_Last4], [o].[ShippingAddress_City], [o].[ShippingAddress_Country], [o].[ShippingAddress_Line1], [o].[ShippingAddress_Line2], [o].[ShippingAddress_Name], [o].[ShippingAddress_PostalCode], [o].[ShippingAddress_State]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
INNER JOIN [DeliveryMethods] AS [d] ON [o0].[DeliveryMethodId] = [d].[Id]
LEFT JOIN [OrderItems] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [d].[Id]
2025-03-22 21:40:05.208 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [o0].[Id], [o0].[BuyerEmail], [o0].[DeliveryMethodId], [o0].[Discount], [o0].[OrderDate], [o0].[PaymentIntentId], [o0].[Status], [o0].[Subtotal], [o0].[PaymentSummary_Brand], [o0].[PaymentSummary_ExpMonth], [o0].[PaymentSummary_ExpYear], [o0].[PaymentSummary_Last4], [o0].[ShippingAddress_City], [o0].[ShippingAddress_Country], [o0].[ShippingAddress_Line1], [o0].[ShippingAddress_Line2], [o0].[ShippingAddress_Name], [o0].[ShippingAddress_PostalCode], [o0].[ShippingAddress_State], [d].[Id], [o1].[Id], [o1].[OrderId], [o1].[Price], [o1].[Quantity], [o1].[ItemOrdered_PictureUrl], [o1].[ItemOrdered_ProductId], [o1].[ItemOrdered_ProductName], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM (
    SELECT [o].[Id], [o].[BuyerEmail], [o].[DeliveryMethodId], [o].[Discount], [o].[OrderDate], [o].[PaymentIntentId], [o].[Status], [o].[Subtotal], [o].[PaymentSummary_Brand], [o].[PaymentSummary_ExpMonth], [o].[PaymentSummary_ExpYear], [o].[PaymentSummary_Last4], [o].[ShippingAddress_City], [o].[ShippingAddress_Country], [o].[ShippingAddress_Line1], [o].[ShippingAddress_Line2], [o].[ShippingAddress_Name], [o].[ShippingAddress_PostalCode], [o].[ShippingAddress_State]
    FROM [Orders] AS [o]
    ORDER BY [o].[OrderDate] DESC
    OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
) AS [o0]
INNER JOIN [DeliveryMethods] AS [d] ON [o0].[DeliveryMethodId] = [d].[Id]
LEFT JOIN [OrderItems] AS [o1] ON [o0].[Id] = [o1].[OrderId]
ORDER BY [o0].[OrderDate] DESC, [o0].[Id], [d].[Id]
2025-03-22 21:40:05.225 +02:00 [DBG] Context 'StoreContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.247 +02:00 [DBG] The navigation 'Order.PaymentSummary' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.249 +02:00 [DBG] Context 'StoreContext' started tracking 'PaymentSummary' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.256 +02:00 [DBG] The navigation 'Order.ShippingAddress' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.258 +02:00 [DBG] Context 'StoreContext' started tracking 'ShippingAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.270 +02:00 [DBG] The navigation 'Order.DeliveryMethod' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.272 +02:00 [DBG] Context 'StoreContext' started tracking 'DeliveryMethod' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.286 +02:00 [DBG] Context 'StoreContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.295 +02:00 [DBG] The navigation 'OrderItem.ItemOrdered' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.296 +02:00 [DBG] Context 'StoreContext' started tracking 'ProductItemOrdered' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:05.302 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.303 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 88ms reading results.
2025-03-22 21:40:05.304 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.304 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:40:05.306 +02:00 [DBG] Compiling query expression: 
'DbSet<Order>()
    .Where(x => True)
    .Count()'
2025-03-22 21:40:05.310 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleAsync<int>(
    asyncEnumerable: SingleQueryingEnumerable.Create<int>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Orders AS o) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> 0
            SELECT COUNT(*)
            FROM Orders AS o, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            int? value1;
            value1 = dataReader.IsDBNull(0) ? default(int?) : (int?)dataReader.GetInt32(0);
            return (int)value1;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:40:05.313 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.314 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.314 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:05.316 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:05.318 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:40:05.321 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
2025-03-22 21:40:05.325 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Orders] AS [o]
2025-03-22 21:40:05.326 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.328 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:40:05.329 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.329 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:40:05.332 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:05.334 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:05.335 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:05.335 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:05.336 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:05.337 +02:00 [INF] Executing OkObjectResult, writing value of type 'API.RequestHelpers.Pagination`1[[API.DTOs.OrderDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-22 21:40:05.342 +02:00 [INF] Executed action API.Controllers.AdminController.GetOrders (API) in 286.6358ms
2025-03-22 21:40:05.343 +02:00 [INF] Executed endpoint 'API.Controllers.AdminController.GetOrders (API)'
2025-03-22 21:40:05.344 +02:00 [INF] HTTP GET /api/admin/orders responded 200 in 314.2268 ms
2025-03-22 21:40:05.345 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:05.346 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:05.347 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:40:05.348 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/admin/orders?pageIndex=1&pageSize=10 - 200 null application/json; charset=utf-8 327.4153ms
2025-03-22 21:40:16.727 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/account/logout - null null
2025-03-22 21:40:16.731 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 21:40:16.737 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 21:40:16.743 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 21:40:16.745 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:16.748 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:16.749 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:16.749 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:16.750 +02:00 [INF] HTTP OPTIONS /api/account/logout responded 204 in 1.5917 ms
2025-03-22 21:40:16.754 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/account/logout - 204 null null 26.4913ms
2025-03-22 21:40:16.756 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/account/logout - application/json 2
2025-03-22 21:40:16.761 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 21:40:16.763 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 21:40:16.768 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 21:40:16.772 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:40:16.773 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:16.774 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:16.775 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:16.778 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:16.784 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:16.787 +02:00 [DBG] Authorization was successful.
2025-03-22 21:40:16.789 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:16.790 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:16.791 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:40:16.794 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout() on controller API.Controllers.AccountController (API).
2025-03-22 21:40:16.797 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:16.799 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:16.800 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:16.802 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:16.804 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:16.806 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:40:16.806 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:40:16.807 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-03-22 21:40:16.808 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-03-22 21:40:16.808 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-03-22 21:40:16.810 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-22 21:40:16.811 +02:00 [INF] Executed action API.Controllers.AccountController.Logout (API) in 5.5535ms
2025-03-22 21:40:16.812 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 21:40:16.812 +02:00 [INF] HTTP POST /api/account/logout responded 204 in 39.2531 ms
2025-03-22 21:40:16.814 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/account/logout - 204 null null 57.9792ms
2025-03-22 21:40:16.815 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:0000000D": started reading request body.
2025-03-22 21:40:16.816 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:0000000D": done reading request body.
2025-03-22 21:40:17.318 +02:00 [DBG] Waiting for the application to finish sending data.
2025-03-22 21:40:17.319 +02:00 [DBG] OnConnectedAsync ending.
2025-03-22 21:40:17.321 +02:00 [DBG] Socket closed.
2025-03-22 21:40:17.332 +02:00 [DBG] Removing connection Io7QwRLulDhUKTPjGGVnPg from the list of connections.
2025-03-22 21:40:17.333 +02:00 [INF] Executed endpoint '/hub/notifications'
2025-03-22 21:40:17.334 +02:00 [INF] HTTP CONNECT /hub/notifications responded 200 in 13665.6380 ms
2025-03-22 21:40:17.343 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=Io7QwRLulDhUKTPjGGVnPg - 200 null null 13722.8959ms
2025-03-22 21:40:17.346 +02:00 [INF] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000009": the application completed without reading the entire request body.
2025-03-22 21:40:18.669 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - null null
2025-03-22 21:40:18.672 +02:00 [DBG] 3 candidate(s) found for the request path '/api/products'
2025-03-22 21:40:18.674 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.CreateProduct (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:40:18.676 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetProducts (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:40:18.677 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products'
2025-03-22 21:40:18.679 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:18.680 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:18.681 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:18.683 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:18.684 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 21:40:18.685 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 21:40:18.686 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:18.688 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:18.689 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:18.691 +02:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Product]]] GetProducts(Core.Specifications.ProductSpecParams) on controller API.Controllers.ProductsController (API).
2025-03-22 21:40:18.695 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:18.697 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:18.698 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:40:18.701 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:18.705 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:18.707 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:40:18.711 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:40:18.713 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:40:18.715 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' using the name '' in request data ...
2025-03-22 21:40:18.717 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Brands' in request data ...
2025-03-22 21:40:18.721 +02:00 [DBG] Could not find a value in the request with name 'Brands' for binding property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:18.726 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:18.730 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Types' in request data ...
2025-03-22 21:40:18.733 +02:00 [DBG] Could not find a value in the request with name 'Types' for binding property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:18.737 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:18.739 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String' using the name 'Sort' in request data ...
2025-03-22 21:40:18.742 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String'.
2025-03-22 21:40:18.746 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String' using the name 'Search' in request data ...
2025-03-22 21:40:18.750 +02:00 [DBG] Could not find a value in the request with name 'Search' for binding property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:40:18.754 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:40:18.756 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 21:40:18.758 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 21:40:18.759 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 21:40:18.762 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 21:40:18.764 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:18.766 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:18.768 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:40:18.770 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:18.772 +02:00 [DBG] Request was short circuited at action filter 'API.RequestHelpers.CacheAttribute'.
2025-03-22 21:40:18.774 +02:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-03-22 21:40:18.775 +02:00 [INF] Executed action API.Controllers.ProductsController.GetProducts (API) in 67.9045ms
2025-03-22 21:40:18.777 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:18.778 +02:00 [INF] HTTP GET /api/products responded 200 in 97.5721 ms
2025-03-22 21:40:18.781 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - 200 2998 application/json 111.8465ms
2025-03-22 21:40:21.089 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/cart - null null
2025-03-22 21:40:21.091 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:21.094 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:21.098 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:21.099 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:21.101 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:21.104 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:21.106 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:21.107 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:21.112 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:21.114 +02:00 [INF] HTTP OPTIONS /api/cart responded 204 in 7.8517 ms
2025-03-22 21:40:21.117 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/cart - 204 null null 28.1198ms
2025-03-22 21:40:21.119 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/cart - application/json 441
2025-03-22 21:40:21.134 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:21.139 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:21.144 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:21.148 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:21.153 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:21.160 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:21.162 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:21.164 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:21.169 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:21.170 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 21:40:21.172 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 21:40:21.173 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:21.175 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:21.183 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:21.192 +02:00 [INF] Route matched with {action = "UpdateCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] UpdateCart(Core.Entities.ShoppingCart) on controller API.Controllers.CartController (API).
2025-03-22 21:40:21.194 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:21.195 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:21.196 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:21.198 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:21.198 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:21.200 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:21.201 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:21.202 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:21.203 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' using the name '' in request data ...
2025-03-22 21:40:21.205 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:40:21.213 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000011": started reading request body.
2025-03-22 21:40:21.216 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000011": done reading request body.
2025-03-22 21:40:21.224 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Core.Entities.ShoppingCart'
2025-03-22 21:40:21.227 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:21.229 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:21.231 +02:00 [DBG] Attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:21.240 +02:00 [DBG] Done attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:21.249 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:21.253 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:21.255 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:21.257 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:21.258 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:21.260 +02:00 [INF] Executing ObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:21.261 +02:00 [INF] Executed action API.Controllers.CartController.UpdateCart (API) in 61.1825ms
2025-03-22 21:40:21.266 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:21.268 +02:00 [INF] HTTP POST /api/cart responded 200 in 106.0714 ms
2025-03-22 21:40:21.270 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/cart - 200 null application/json; charset=utf-8 151.0819ms
2025-03-22 21:40:33.324 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/cart - null null
2025-03-22 21:40:33.329 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:33.330 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:33.334 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:33.336 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:33.339 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:33.340 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:33.341 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:33.342 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:33.344 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:33.346 +02:00 [INF] HTTP OPTIONS /api/cart responded 204 in 4.9957 ms
2025-03-22 21:40:33.348 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/cart - 204 null null 24.1366ms
2025-03-22 21:40:33.350 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/cart - application/json 285
2025-03-22 21:40:33.353 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:33.354 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:33.355 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:33.357 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:33.358 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:33.359 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:33.360 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:33.361 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:33.362 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:33.363 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 21:40:33.364 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 21:40:33.365 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:33.366 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:33.367 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:33.368 +02:00 [INF] Route matched with {action = "UpdateCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] UpdateCart(Core.Entities.ShoppingCart) on controller API.Controllers.CartController (API).
2025-03-22 21:40:33.369 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:33.370 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:33.372 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:33.374 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:33.375 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:33.376 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:33.378 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:33.379 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:33.380 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' using the name '' in request data ...
2025-03-22 21:40:33.382 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:40:33.385 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000013": started reading request body.
2025-03-22 21:40:33.386 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000013": done reading request body.
2025-03-22 21:40:33.387 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Core.Entities.ShoppingCart'
2025-03-22 21:40:33.388 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:33.389 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:33.391 +02:00 [DBG] Attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:33.392 +02:00 [DBG] Done attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:33.396 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:33.401 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:33.402 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:33.404 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:33.405 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:33.407 +02:00 [INF] Executing ObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:33.409 +02:00 [INF] Executed action API.Controllers.CartController.UpdateCart (API) in 32.7251ms
2025-03-22 21:40:33.410 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:33.411 +02:00 [INF] HTTP POST /api/cart responded 200 in 50.9878 ms
2025-03-22 21:40:33.414 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/cart - 200 null application/json; charset=utf-8 64.2306ms
2025-03-22 21:40:34.136 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/cart?id=4KkALOsXkFSQYsjmcde5k - null null
2025-03-22 21:40:34.138 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:34.139 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:34.140 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:34.140 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:34.143 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:34.145 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:34.148 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:34.154 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:34.156 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:34.157 +02:00 [INF] HTTP OPTIONS /api/cart responded 204 in 8.7912 ms
2025-03-22 21:40:34.160 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/cart?id=4KkALOsXkFSQYsjmcde5k - 204 null null 23.8291ms
2025-03-22 21:40:34.161 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/cart?id=4KkALOsXkFSQYsjmcde5k - null null
2025-03-22 21:40:34.166 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:34.169 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:34.172 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:34.173 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:34.174 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:34.177 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.DeleteCart (API)'
2025-03-22 21:40:34.178 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:34.180 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:34.181 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:34.182 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 21:40:34.184 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 21:40:34.185 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:34.185 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:34.186 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.DeleteCart (API)'
2025-03-22 21:40:34.189 +02:00 [INF] Route matched with {action = "DeleteCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCart(System.String) on controller API.Controllers.CartController (API).
2025-03-22 21:40:34.193 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:34.194 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:34.195 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:34.199 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:34.199 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:34.205 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:34.206 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:34.210 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-03-22 21:40:34.211 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-03-22 21:40:34.214 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-03-22 21:40:34.215 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-03-22 21:40:34.215 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-03-22 21:40:34.217 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-03-22 21:40:34.227 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-22 21:40:34.229 +02:00 [INF] Executed action API.Controllers.CartController.DeleteCart (API) in 23.2878ms
2025-03-22 21:40:34.231 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.DeleteCart (API)'
2025-03-22 21:40:34.232 +02:00 [INF] HTTP DELETE /api/cart responded 200 in 53.6876 ms
2025-03-22 21:40:34.235 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/cart?id=4KkALOsXkFSQYsjmcde5k - 200 0 null 73.4765ms
2025-03-22 21:40:41.640 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - null null
2025-03-22 21:40:41.646 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:40:41.647 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:40:41.647 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:40:41.649 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:41.650 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:41.650 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:41.651 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:41.651 +02:00 [INF] HTTP OPTIONS /api/login responded 204 in 1.5626 ms
2025-03-22 21:40:41.652 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/login?useCookies=true - 204 null null 11.819ms
2025-03-22 21:40:41.653 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/login?useCookies=true - application/json 46
2025-03-22 21:40:41.660 +02:00 [DBG] 2 candidate(s) found for the request path '/api/login'
2025-03-22 21:40:41.662 +02:00 [DBG] Endpoint 'HTTP: POST api/login' with route pattern 'api/login' is valid for the request path '/api/login'
2025-03-22 21:40:41.663 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/login'
2025-03-22 21:40:41.667 +02:00 [DBG] Request matched endpoint 'HTTP: POST api/login'
2025-03-22 21:40:41.668 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:41.669 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:41.672 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:41.677 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 21:40:41.679 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 21:40:41.682 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:41.684 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:41.686 +02:00 [INF] Executing endpoint 'HTTP: POST api/login'
2025-03-22 21:40:41.691 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000017": started reading request body.
2025-03-22 21:40:41.693 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000017": done reading request body.
2025-03-22 21:40:41.697 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:41.702 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:41.703 +02:00 [DBG] Created DbConnection. (0ms).
2025-03-22 21:40:41.704 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.708 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.710 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:41.711 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:41.712 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:40:41.713 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:40:41.719 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:40:41.724 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:41.726 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.727 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:40:41.730 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.731 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:40:41.804 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.810 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.811 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:41.813 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:41.816 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-03-22 21:40:41.817 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:40:41.829 +02:00 [INF] Executed DbCommand (12ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 21:40:41.832 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.835 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:40:41.839 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.842 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 21:40:41.846 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.848 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.861 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:41.865 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:40:41.868 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-03-22 21:40:41.869 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:40:41.875 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 21:40:41.878 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.880 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:40:41.881 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.883 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 21:40:41.887 +02:00 [INF] AuthenticationScheme: Identity.Application signed in.
2025-03-22 21:40:41.889 +02:00 [INF] Executed endpoint 'HTTP: POST api/login'
2025-03-22 21:40:41.891 +02:00 [INF] HTTP POST /api/login responded 200 in 222.8191 ms
2025-03-22 21:40:41.904 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:41.905 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:41.906 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 21:40:41.910 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/login?useCookies=true - 200 0 null 256.5269ms
2025-03-22 21:40:42.411 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null null
2025-03-22 21:40:42.411 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/account/user-info - null null
2025-03-22 21:40:42.425 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/user-info'
2025-03-22 21:40:42.422 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:42.420 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - null null
2025-03-22 21:40:42.432 +02:00 [DBG] 3 candidate(s) found for the request path '/api/products'
2025-03-22 21:40:42.433 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.CreateProduct (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:40:42.428 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:42.439 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:42.427 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.GetUserInfo (API)' with route pattern 'api/Account/user-info' is valid for the request path '/api/account/user-info'
2025-03-22 21:40:42.436 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetProducts (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:40:42.445 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products'
2025-03-22 21:40:42.446 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:42.447 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:42.447 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:42.441 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:42.448 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:42.442 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/user-info'
2025-03-22 21:40:42.452 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:40:42.453 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:42.448 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:42.452 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:42.454 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:42.455 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:42.457 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:42.459 +02:00 [INF] HTTP OPTIONS /hub/notifications/negotiate responded 204 in 10.4901 ms
2025-03-22 21:40:42.456 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:42.457 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:42.461 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 204 null null 49.5915ms
2025-03-22 21:40:42.461 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.463 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:42.465 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - null 0
2025-03-22 21:40:42.468 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:42.469 +02:00 [DBG] Endpoint '/hub/notifications/negotiate' with route pattern '/hub/notifications/negotiate' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:42.472 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications/negotiate'
2025-03-22 21:40:42.467 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:42.475 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.477 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.478 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:40:42.474 +02:00 [DBG] Request matched endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:42.466 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.479 +02:00 [INF] Route matched with {action = "GetUserInfo", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetUserInfo() on controller API.Controllers.AccountController (API).
2025-03-22 21:40:42.482 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:42.481 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:42.480 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:42.486 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:42.487 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:42.484 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:42.485 +02:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Product]]] GetProducts(Core.Specifications.ProductSpecParams) on controller API.Controllers.ProductsController (API).
2025-03-22 21:40:42.492 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:42.493 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:42.488 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:42.496 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:42.496 +02:00 [DBG] Authorization was successful.
2025-03-22 21:40:42.490 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:42.501 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:42.503 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:42.494 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:40:42.546 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:42.547 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:42.498 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.580 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.581 +02:00 [INF] Executing endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:42.582 +02:00 [DBG] New connection UypXaGCvXpRG4qfFf0_mCw created.
2025-03-22 21:40:42.583 +02:00 [DBG] Sending negotiation response.
2025-03-22 21:40:42.543 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:40:42.588 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:40:42.590 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:42.579 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:40:42.637 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:40:42.638 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:40:42.639 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' using the name '' in request data ...
2025-03-22 21:40:42.635 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:42.659 +02:00 [DBG] Created DbConnection. (23ms).
2025-03-22 21:40:42.660 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:42.586 +02:00 [INF] Executed endpoint '/hub/notifications/negotiate'
2025-03-22 21:40:42.675 +02:00 [INF] HTTP POST /hub/notifications/negotiate responded 200 in 195.3028 ms
2025-03-22 21:40:42.677 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/hub/notifications/negotiate?negotiateVersion=1 - 200 316 application/json 211.9635ms
2025-03-22 21:40:42.658 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Brands' in request data ...
2025-03-22 21:40:42.681 +02:00 [INF] Request starting HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=GXXoeh4ud59PVAFularg5A - null null
2025-03-22 21:40:42.686 +02:00 [DBG] 2 candidate(s) found for the request path '/hub/notifications'
2025-03-22 21:40:42.682 +02:00 [DBG] Could not find a value in the request with name 'Brands' for binding property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:42.690 +02:00 [DBG] Endpoint '/hub/notifications' with route pattern '/hub/notifications' is valid for the request path '/hub/notifications'
2025-03-22 21:40:42.675 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:42.694 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:42.696 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:40:42.697 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:40:42.693 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/hub/notifications'
2025-03-22 21:40:42.700 +02:00 [DBG] Request matched endpoint '/hub/notifications'
2025-03-22 21:40:42.701 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:42.701 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:42.698 +02:00 [DBG] Executing DbCommand [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:40:42.690 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:42.708 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Types' in request data ...
2025-03-22 21:40:42.711 +02:00 [DBG] Could not find a value in the request with name 'Types' for binding property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:42.712 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:40:42.702 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:42.715 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:42.716 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:42.716 +02:00 [DBG] Authorization was successful.
2025-03-22 21:40:42.718 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.718 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:42.718 +02:00 [INF] Executing endpoint '/hub/notifications'
2025-03-22 21:40:42.713 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:40:42.721 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:42.722 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:42.723 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:40:42.724 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:42.714 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String' using the name 'Sort' in request data ...
2025-03-22 21:40:42.727 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String'.
2025-03-22 21:40:42.728 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String' using the name 'Search' in request data ...
2025-03-22 21:40:42.729 +02:00 [DBG] Could not find a value in the request with name 'Search' for binding property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:40:42.731 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:40:42.719 +02:00 [DBG] Establishing new connection.
2025-03-22 21:40:42.732 +02:00 [DBG] Socket opened using Sub-Protocol: 'null'.
2025-03-22 21:40:42.733 +02:00 [DBG] OnConnectedAsync started.
2025-03-22 21:40:42.726 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 21:40:42.735 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:42.738 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:42.738 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:42.739 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:42.739 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:42.740 +02:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType0`5[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[API.DTOs.AddressDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-03-22 21:40:42.732 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 21:40:42.744 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 21:40:42.746 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 21:40:42.743 +02:00 [DBG] Found protocol implementation for requested protocol: json.
2025-03-22 21:40:42.752 +02:00 [DBG] Completed connection handshake. Using HubProtocol 'json'.
2025-03-22 21:40:42.751 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 21:40:42.754 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:42.755 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:42.756 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:40:42.756 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:40:42.746 +02:00 [INF] Executed action API.Controllers.AccountController.GetUserInfo (API) in 203.6192ms
2025-03-22 21:40:42.762 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.GetUserInfo (API)'
2025-03-22 21:40:42.763 +02:00 [INF] HTTP GET /api/account/user-info responded 200 in 310.0147 ms
2025-03-22 21:40:42.764 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:42.764 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:42.766 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:40:42.766 +02:00 [DBG] Request was short circuited at action filter 'API.RequestHelpers.CacheAttribute'.
2025-03-22 21:40:42.768 +02:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-03-22 21:40:42.769 +02:00 [INF] Executed action API.Controllers.ProductsController.GetProducts (API) in 189.8483ms
2025-03-22 21:40:42.770 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:40:42.770 +02:00 [INF] HTTP GET /api/products responded 200 in 323.7440 ms
2025-03-22 21:40:42.771 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - 200 2998 application/json 351.7454ms
2025-03-22 21:40:42.768 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/account/user-info - 200 null application/json; charset=utf-8 356.2058ms
2025-03-22 21:40:44.606 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/cart - null null
2025-03-22 21:40:44.608 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:44.609 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:44.610 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:44.611 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:44.616 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:44.617 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:44.617 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:44.618 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:44.618 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:44.619 +02:00 [INF] HTTP OPTIONS /api/cart responded 204 in 1.5555 ms
2025-03-22 21:40:44.625 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/cart - 204 null null 19.4313ms
2025-03-22 21:40:44.627 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/cart - application/json 198
2025-03-22 21:40:44.632 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:44.633 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:44.636 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:44.638 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:44.642 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:44.647 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:44.648 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:44.649 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:44.650 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:44.655 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:44.658 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:44.660 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:44.663 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:44.664 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:44.665 +02:00 [INF] Route matched with {action = "UpdateCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] UpdateCart(Core.Entities.ShoppingCart) on controller API.Controllers.CartController (API).
2025-03-22 21:40:44.667 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:44.668 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:44.670 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:44.672 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:44.673 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:44.674 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:44.675 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:44.676 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:44.677 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' using the name '' in request data ...
2025-03-22 21:40:44.679 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:40:44.680 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000021": started reading request body.
2025-03-22 21:40:44.681 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000021": done reading request body.
2025-03-22 21:40:44.681 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Core.Entities.ShoppingCart'
2025-03-22 21:40:44.682 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:44.683 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:44.684 +02:00 [DBG] Attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:44.685 +02:00 [DBG] Done attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:44.688 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:44.690 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:44.691 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:44.691 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:44.691 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:44.692 +02:00 [INF] Executing ObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:44.693 +02:00 [INF] Executed action API.Controllers.CartController.UpdateCart (API) in 19.4616ms
2025-03-22 21:40:44.695 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:44.697 +02:00 [INF] HTTP POST /api/cart responded 200 in 48.8508 ms
2025-03-22 21:40:44.698 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/cart - 200 null application/json; charset=utf-8 70.9368ms
2025-03-22 21:40:47.477 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/payments/delivery-methods - null null
2025-03-22 21:40:47.478 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - null null
2025-03-22 21:40:47.485 +02:00 [DBG] 3 candidate(s) found for the request path '/api/payments/delivery-methods'
2025-03-22 21:40:47.490 +02:00 [DBG] Endpoint 'API.Controllers.PaymentsController.GetDeliveryMethods (API)' with route pattern 'api/Payments/delivery-methods' is valid for the request path '/api/payments/delivery-methods'
2025-03-22 21:40:47.489 +02:00 [DBG] 2 candidate(s) found for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:40:47.498 +02:00 [DBG] Endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)' with route pattern 'api/Payments/{cartId}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:40:47.500 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:40:47.497 +02:00 [DBG] Endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)' with route pattern 'api/Payments/{cartId}' is valid for the request path '/api/payments/delivery-methods'
2025-03-22 21:40:47.502 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:40:47.505 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/payments/delivery-methods'
2025-03-22 21:40:47.507 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:47.508 +02:00 [DBG] Request matched endpoint 'API.Controllers.PaymentsController.GetDeliveryMethods (API)'
2025-03-22 21:40:47.509 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:47.510 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:47.511 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:40:47.513 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:47.514 +02:00 [INF] HTTP OPTIONS /api/payments/kWl9XZVQpSRhlKWAs9KcL responded 204 in 6.8980 ms
2025-03-22 21:40:47.514 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:47.517 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - application/json 2
2025-03-22 21:40:47.516 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - 204 null null 38.4546ms
2025-03-22 21:40:47.518 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:47.519 +02:00 [DBG] 2 candidate(s) found for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:40:47.523 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:47.525 +02:00 [DBG] Endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)' with route pattern 'api/Payments/{cartId}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:40:47.526 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:47.528 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:47.528 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:40:47.529 +02:00 [INF] Executing endpoint 'API.Controllers.PaymentsController.GetDeliveryMethods (API)'
2025-03-22 21:40:47.531 +02:00 [DBG] Request matched endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)'
2025-03-22 21:40:47.533 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:47.534 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:47.534 +02:00 [INF] Route matched with {action = "GetDeliveryMethods", controller = "Payments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.DeliveryMethod]]] GetDeliveryMethods() on controller API.Controllers.PaymentsController (API).
2025-03-22 21:40:47.535 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:47.537 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:47.538 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:47.539 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:47.540 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:47.542 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:47.543 +02:00 [DBG] Authorization was successful.
2025-03-22 21:40:47.545 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:47.545 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:47.547 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:47.547 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:47.549 +02:00 [DBG] Executing controller factory for controller API.Controllers.PaymentsController (API)
2025-03-22 21:40:47.549 +02:00 [INF] Executing endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)'
2025-03-22 21:40:47.551 +02:00 [DBG] Executed controller factory for controller API.Controllers.PaymentsController (API)
2025-03-22 21:40:47.555 +02:00 [INF] Route matched with {action = "CreateOrUpdatePaymentIntent", controller = "Payments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] CreateOrUpdatePaymentIntent(System.String) on controller API.Controllers.PaymentsController (API).
2025-03-22 21:40:47.555 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:47.557 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:47.559 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()'
2025-03-22 21:40:47.560 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:47.562 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:47.564 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:47.564 +02:00 [DBG] Generated query execution expression: 
'queryContext => SingleQueryingEnumerable.Create<DeliveryMethod>(
    relationalQueryContext: (RelationalQueryContext)queryContext, 
    relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeliveryMethod.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeliveryMethod.DeliveryTime (string) Required, 1], [Property: DeliveryMethod.Description (string) Required, 2], [Property: DeliveryMethod.Price (decimal) Required, 3], [Property: DeliveryMethod.ShortName (string) Required, 4] }
        SELECT d.Id, d.DeliveryTime, d.Description, d.Price, d.ShortName
        FROM DeliveryMethods AS d) | Resolver: c => new RelationalCommandCache(
        c.Dependencies.MemoryCache, 
        c.RelationalDependencies.QuerySqlGeneratorFactory, 
        c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
        Projection Mapping:
            EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeliveryMethod.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeliveryMethod.DeliveryTime (string) Required, 1], [Property: DeliveryMethod.Description (string) Required, 2], [Property: DeliveryMethod.Price (decimal) Required, 3], [Property: DeliveryMethod.ShortName (string) Required, 4] }
        SELECT d.Id, d.DeliveryTime, d.Description, d.Price, d.ShortName
        FROM DeliveryMethods AS d, 
        False, 
        new HashSet<string>(
            new string[]{ }, 
            StringComparer.Ordinal
        )
    )].GetRelationalCommandTemplate(parameters), 
    readerColumns: null, 
    shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
    {
        DeliveryMethod entity;
        entity = 
        {
            MaterializationContext materializationContext1;
            IEntityType entityType1;
            DeliveryMethod instance1;
            InternalEntityEntry entry1;
            bool hasNullKey1;
            materializationContext1 = new MaterializationContext(
                [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                queryContext.Context
            );
            instance1 = default(DeliveryMethod);
            entry1 = queryContext.TryGetEntry(
                key: [LIFTABLE Constant: Key: DeliveryMethod.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod").FindPrimaryKey()], 
                keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                throwOnNullKey: True, 
                hasNullKey: hasNullKey1);
            !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
            {
                entityType1 = entry1.EntityType;
                return instance1 = (DeliveryMethod)entry1.Entity;
            } : 
            {
                ISnapshot shadowSnapshot1;
                shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                entityType1 = [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")];
                instance1 = switch (entityType1)
                {
                    case [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")]: 
                        {
                            return 
                            {
                                DeliveryMethod instance;
                                instance = new DeliveryMethod();
                                instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                instance.<DeliveryTime>k__BackingField = dataReader.GetString(1);
                                instance.<Description>k__BackingField = dataReader.GetString(2);
                                instance.<Price>k__BackingField = dataReader.GetDecimal(3);
                                instance.<ShortName>k__BackingField = dataReader.GetString(4);
                                (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                    context: materializationContext1.Context, 
                                    entity: instance, 
                                    queryTrackingBehavior: TrackAll, 
                                    structuralType: [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")]) : default(void);
                                return instance;
                            }}
                    default: 
                        default(DeliveryMethod)
                }
                ;
                entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                    entityType: entityType1, 
                    entity: instance1, 
                    snapshot: shadowSnapshot1);
                return instance1;
            } : default(void);
            return instance1;
        };
        return entity;
    }, 
    contextType: Infrastructure.Data.StoreContext, 
    standAloneStateManager: False, 
    detailedErrorsEnabled: False, 
    threadSafetyChecksEnabled: True)'
2025-03-22 21:40:47.566 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:47.570 +02:00 [DBG] Executing controller factory for controller API.Controllers.PaymentsController (API)
2025-03-22 21:40:47.570 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:47.572 +02:00 [DBG] Executed controller factory for controller API.Controllers.PaymentsController (API)
2025-03-22 21:40:47.572 +02:00 [DBG] Created DbConnection. (1ms).
2025-03-22 21:40:47.573 +02:00 [DBG] Attempting to bind parameter 'cartId' of type 'System.String' ...
2025-03-22 21:40:47.574 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.576 +02:00 [DBG] Attempting to bind parameter 'cartId' of type 'System.String' using the name 'cartId' in request data ...
2025-03-22 21:40:47.577 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.578 +02:00 [DBG] Done attempting to bind parameter 'cartId' of type 'System.String'.
2025-03-22 21:40:47.579 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:47.580 +02:00 [DBG] Done attempting to bind parameter 'cartId' of type 'System.String'.
2025-03-22 21:40:47.581 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:40:47.583 +02:00 [DBG] Attempting to validate the bound parameter 'cartId' of type 'System.String' ...
2025-03-22 21:40:47.584 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-03-22 21:40:47.585 +02:00 [DBG] Done attempting to validate the bound parameter 'cartId' of type 'System.String'.
2025-03-22 21:40:47.586 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM [DeliveryMethods] AS [d]
2025-03-22 21:40:47.591 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM [DeliveryMethods] AS [d]
2025-03-22 21:40:47.594 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:40:47.595 +02:00 [DBG] Context 'StoreContext' started tracking 'DeliveryMethod' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:47.599 +02:00 [DBG] Context 'StoreContext' started tracking 'DeliveryMethod' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:47.605 +02:00 [DBG] Compiling query expression: 
'DbSet<Product>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-03-22 21:40:47.605 +02:00 [DBG] Context 'StoreContext' started tracking 'DeliveryMethod' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:47.608 +02:00 [DBG] Context 'StoreContext' started tracking 'DeliveryMethod' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:47.609 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.610 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Product>(
    asyncEnumerable: SingleQueryingEnumerable.Create<Product>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Brand (string) Required, 1], [Property: Product.Description (string) Required, 2], [Property: Product.Name (string) Required, 3], [Property: Product.PictureUrl (string) Required, 4], [Property: Product.Price (decimal) Required, 5], [Property: Product.QuantityInStock (int) Required, 6], [Property: Product.Type (string) Required, 7] }
            SELECT TOP(1) p.Id, p.Brand, p.Description, p.Name, p.PictureUrl, p.Price, p.QuantityInStock, p.Type
            FROM Products AS p
            WHERE p.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: Product.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: Product.Brand (string) Required, 1], [Property: Product.Description (string) Required, 2], [Property: Product.Name (string) Required, 3], [Property: Product.PictureUrl (string) Required, 4], [Property: Product.Price (decimal) Required, 5], [Property: Product.QuantityInStock (int) Required, 6], [Property: Product.Type (string) Required, 7] }
            SELECT TOP(1) p.Id, p.Brand, p.Description, p.Name, p.PictureUrl, p.Price, p.QuantityInStock, p.Type
            FROM Products AS p
            WHERE p.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            Product entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                Product instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(Product);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Product.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.Product").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (Product)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.Product")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.Product")]: 
                            {
                                return 
                                {
                                    Product instance;
                                    instance = new Product();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<Brand>k__BackingField = dataReader.GetString(1);
                                    instance.<Description>k__BackingField = dataReader.GetString(2);
                                    instance.<Name>k__BackingField = dataReader.GetString(3);
                                    instance.<PictureUrl>k__BackingField = dataReader.GetString(4);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(5);
                                    instance.<QuantityInStock>k__BackingField = dataReader.GetInt32(6);
                                    instance.<Type>k__BackingField = dataReader.GetString(7);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Product | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.Product")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Product)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:40:47.611 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 15ms reading results.
2025-03-22 21:40:47.620 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:40:47.621 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.622 +02:00 [DBG] Created DbConnection. (2ms).
2025-03-22 21:40:47.625 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (4ms).
2025-03-22 21:40:47.628 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.629 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:47.631 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.635 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:40:47.637 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:40:47.634 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:47.642 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:47.641 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-03-22 21:40:47.645 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-03-22 21:40:47.643 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:47.655 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:47.653 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-03-22 21:40:47.658 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Core.Entities.DeliveryMethod, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-22 21:40:47.666 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:40:47.669 +02:00 [INF] Executed action API.Controllers.PaymentsController.GetDeliveryMethods (API) in 120.8859ms
2025-03-22 21:40:47.670 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.674 +02:00 [INF] Executed endpoint 'API.Controllers.PaymentsController.GetDeliveryMethods (API)'
2025-03-22 21:40:47.676 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 10ms reading results.
2025-03-22 21:40:47.677 +02:00 [INF] HTTP GET /api/payments/delivery-methods responded 200 in 167.1696 ms
2025-03-22 21:40:47.679 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.683 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:47.685 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (6ms).
2025-03-22 21:40:47.686 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:47.692 +02:00 [DBG] Disposed connection to database '' on server '' (5ms).
2025-03-22 21:40:47.695 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/payments/delivery-methods - 200 null application/json; charset=utf-8 217.1667ms
2025-03-22 21:40:48.518 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:48.523 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:48.524 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:48.525 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:48.526 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:48.527 +02:00 [INF] Executing OkObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:48.529 +02:00 [INF] Executed action API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API) in 958.4283ms
2025-03-22 21:40:48.530 +02:00 [INF] Executed endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)'
2025-03-22 21:40:48.531 +02:00 [INF] HTTP POST /api/payments/kWl9XZVQpSRhlKWAs9KcL responded 200 in 998.1270 ms
2025-03-22 21:40:48.533 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:40:48.534 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:40:48.535 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:40:48.536 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - 200 null application/json; charset=utf-8 1019.0022ms
2025-03-22 21:40:48.539 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000025": started reading request body.
2025-03-22 21:40:48.540 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000025": done reading request body.
2025-03-22 21:40:49.038 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/cart - application/json 362
2025-03-22 21:40:49.044 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:40:49.046 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:49.047 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:49.048 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:40:49.049 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:40:49.052 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:49.053 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:40:49.054 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:40:49.056 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:40:49.060 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:40:49.063 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:40:49.064 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:49.066 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:40:49.068 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:49.069 +02:00 [INF] Route matched with {action = "UpdateCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] UpdateCart(Core.Entities.ShoppingCart) on controller API.Controllers.CartController (API).
2025-03-22 21:40:49.071 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:40:49.074 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:40:49.077 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:40:49.078 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:40:49.080 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:40:49.084 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:49.085 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:40:49.085 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:49.094 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' using the name '' in request data ...
2025-03-22 21:40:49.099 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:40:49.101 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000027": started reading request body.
2025-03-22 21:40:49.103 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000027": done reading request body.
2025-03-22 21:40:49.104 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Core.Entities.ShoppingCart'
2025-03-22 21:40:49.111 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:49.112 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:49.113 +02:00 [DBG] Attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:40:49.114 +02:00 [DBG] Done attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:49.118 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:40:49.119 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:40:49.119 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:40:49.120 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:40:49.121 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:40:49.122 +02:00 [INF] Executing ObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:40:49.123 +02:00 [INF] Executed action API.Controllers.CartController.UpdateCart (API) in 39.2059ms
2025-03-22 21:40:49.125 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:40:49.127 +02:00 [INF] HTTP POST /api/cart responded 200 in 74.6761 ms
2025-03-22 21:40:49.130 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/cart - 200 null application/json; charset=utf-8 91.7572ms
2025-03-22 21:41:24.069 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/account/address - null null
2025-03-22 21:41:24.075 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/address'
2025-03-22 21:41:24.084 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.CreateOrUpdateAddress (API)' with route pattern 'api/Account/address' is valid for the request path '/api/account/address'
2025-03-22 21:41:24.088 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/address'
2025-03-22 21:41:24.089 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:41:24.091 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:41:24.092 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:41:24.093 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:41:24.094 +02:00 [INF] HTTP OPTIONS /api/account/address responded 204 in 3.3609 ms
2025-03-22 21:41:24.096 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/account/address - 204 null null 26.8874ms
2025-03-22 21:41:24.098 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/account/address - application/json 163
2025-03-22 21:41:24.101 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/address'
2025-03-22 21:41:24.102 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.CreateOrUpdateAddress (API)' with route pattern 'api/Account/address' is valid for the request path '/api/account/address'
2025-03-22 21:41:24.104 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/address'
2025-03-22 21:41:24.105 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.CreateOrUpdateAddress (API)'
2025-03-22 21:41:24.106 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:41:24.107 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:41:24.108 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:41:24.109 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:41:24.110 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:41:24.111 +02:00 [DBG] Authorization was successful.
2025-03-22 21:41:24.112 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:41:24.113 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:41:24.113 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.CreateOrUpdateAddress (API)'
2025-03-22 21:41:24.117 +02:00 [INF] Route matched with {action = "CreateOrUpdateAddress", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.Address]] CreateOrUpdateAddress(API.DTOs.AddressDto) on controller API.Controllers.AccountController (API).
2025-03-22 21:41:24.119 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:41:24.120 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:41:24.121 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:41:24.123 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:41:24.125 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:41:24.126 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:41:24.127 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 21:41:24.128 +02:00 [DBG] Attempting to bind parameter 'addressDto' of type 'API.DTOs.AddressDto' ...
2025-03-22 21:41:24.129 +02:00 [DBG] Attempting to bind parameter 'addressDto' of type 'API.DTOs.AddressDto' using the name '' in request data ...
2025-03-22 21:41:24.131 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:41:24.133 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000029": started reading request body.
2025-03-22 21:41:24.134 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000029": done reading request body.
2025-03-22 21:41:24.136 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'API.DTOs.AddressDto'
2025-03-22 21:41:24.137 +02:00 [DBG] Done attempting to bind parameter 'addressDto' of type 'API.DTOs.AddressDto'.
2025-03-22 21:41:24.138 +02:00 [DBG] Done attempting to bind parameter 'addressDto' of type 'API.DTOs.AddressDto'.
2025-03-22 21:41:24.139 +02:00 [DBG] Attempting to validate the bound parameter 'addressDto' of type 'API.DTOs.AddressDto' ...
2025-03-22 21:41:24.141 +02:00 [DBG] Done attempting to validate the bound parameter 'addressDto' of type 'API.DTOs.AddressDto'.
2025-03-22 21:41:24.143 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:41:24.146 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:41:24.147 +02:00 [DBG] Created DbConnection. (0ms).
2025-03-22 21:41:24.147 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.149 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.150 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:41:24.151 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:41:24.152 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:41:24.154 +02:00 [DBG] Executing DbCommand [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:41:24.157 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__GetEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a0].[Id], [a0].[City], [a0].[Country], [a0].[Line1], [a0].[Line2], [a0].[PostalCode], [a0].[State]
FROM [AspNetUsers] AS [a]
LEFT JOIN [Addresses] AS [a0] ON [a].[AddressId] = [a0].[Id]
WHERE [a].[Email] = @__GetEmail_0
2025-03-22 21:41:24.159 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:24.160 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.162 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:41:24.163 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.164 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:41:24.172 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.175 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.178 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:41:24.179 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:41:24.180 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:41:24.182 +02:00 [DBG] Executing DbCommand [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:41:24.189 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2025-03-22 21:41:24.194 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.195 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 2ms reading results.
2025-03-22 21:41:24.196 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.197 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:41:24.213 +02:00 [DBG] An entity of type 'AppUser' tracked by 'StoreContext' changed state from '"Unchanged"' to '"Modified"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:24.218 +02:00 [DBG] SaveChanges starting for 'StoreContext'.
2025-03-22 21:41:24.222 +02:00 [DBG] DetectChanges starting for 'StoreContext'.
2025-03-22 21:41:24.227 +02:00 [DBG] The navigation 'AppUser.Address' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:24.239 +02:00 [DBG] 'StoreContext' generated a temporary value for the property 'Address.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:24.254 +02:00 [DBG] The foreign key property 'AppUser.AddressId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:41:24.257 +02:00 [DBG] Context 'StoreContext' started tracking 'Address' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:24.259 +02:00 [DBG] DetectChanges completed for 'StoreContext'.
2025-03-22 21:41:24.325 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.326 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.327 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 21:41:24.331 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 21:41:24.333 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:41:24.335 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:41:24.335 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:41:24.337 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [Country], [Line1], [Line2], [PostalCode], [State])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-22 21:41:24.342 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (Size = 4000), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Addresses] ([City], [Country], [Line1], [Line2], [PostalCode], [State])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-03-22 21:41:24.348 +02:00 [DBG] The foreign key property 'Address.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:41:24.353 +02:00 [DBG] The foreign key property 'AppUser.AddressId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:41:24.359 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.361 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 17ms reading results.
2025-03-22 21:41:24.375 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:41:24.378 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-03-22 21:41:24.381 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (6ms).
2025-03-22 21:41:24.384 +02:00 [DBG] Executing DbCommand [Parameters=[@p23='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p24='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 256), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p6, [AddressId] = @p7, [ConcurrencyStamp] = @p8, [Email] = @p9, [EmailConfirmed] = @p10, [FirstName] = @p11, [LastName] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2025-03-22 21:41:24.395 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@p23='?' (Size = 450), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 4000), @p24='?' (Size = 4000), @p9='?' (Size = 256), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (DbType = DateTimeOffset), @p15='?' (Size = 256), @p16='?' (Size = 256), @p17='?' (Size = 4000), @p18='?' (Size = 4000), @p19='?' (DbType = Boolean), @p20='?' (Size = 4000), @p21='?' (DbType = Boolean), @p22='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p6, [AddressId] = @p7, [ConcurrencyStamp] = @p8, [Email] = @p9, [EmailConfirmed] = @p10, [FirstName] = @p11, [LastName] = @p12, [LockoutEnabled] = @p13, [LockoutEnd] = @p14, [NormalizedEmail] = @p15, [NormalizedUserName] = @p16, [PasswordHash] = @p17, [PhoneNumber] = @p18, [PhoneNumberConfirmed] = @p19, [SecurityStamp] = @p20, [TwoFactorEnabled] = @p21, [UserName] = @p22
OUTPUT 1
WHERE [Id] = @p23 AND [ConcurrencyStamp] = @p24;
2025-03-22 21:41:24.403 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.405 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:41:24.409 +02:00 [DBG] Committing transaction.
2025-03-22 21:41:24.415 +02:00 [DBG] Committed transaction.
2025-03-22 21:41:24.417 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.420 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (2ms).
2025-03-22 21:41:24.421 +02:00 [DBG] Disposing transaction.
2025-03-22 21:41:24.426 +02:00 [DBG] An entity of type 'Address' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:24.429 +02:00 [DBG] An entity of type 'AppUser' tracked by 'StoreContext' changed state from '"Modified"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:24.433 +02:00 [DBG] SaveChanges completed for 'StoreContext' with 2 entities written to the database.
2025-03-22 21:41:24.435 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:41:24.440 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:41:24.442 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:41:24.443 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:41:24.446 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:41:24.448 +02:00 [INF] Executing OkObjectResult, writing value of type 'API.DTOs.AddressDto'.
2025-03-22 21:41:24.451 +02:00 [INF] Executed action API.Controllers.AccountController.CreateOrUpdateAddress (API) in 324.661ms
2025-03-22 21:41:24.453 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.CreateOrUpdateAddress (API)'
2025-03-22 21:41:24.454 +02:00 [INF] HTTP POST /api/account/address responded 200 in 348.5885 ms
2025-03-22 21:41:24.457 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:41:24.459 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:24.461 +02:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-03-22 21:41:24.463 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/account/address - 200 null application/json; charset=utf-8 365.613ms
2025-03-22 21:41:25.774 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/cart - null null
2025-03-22 21:41:25.780 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:41:25.785 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:41:25.790 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:41:25.793 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:41:25.798 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:41:25.799 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:41:25.801 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:41:25.804 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:41:25.805 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:41:25.807 +02:00 [INF] HTTP OPTIONS /api/cart responded 204 in 5.9286 ms
2025-03-22 21:41:25.810 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/cart - 204 null null 36.7389ms
2025-03-22 21:41:25.812 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/cart - application/json 359
2025-03-22 21:41:25.817 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:41:25.820 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:41:25.824 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:41:25.826 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:41:25.829 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:41:25.831 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:41:25.834 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:41:25.838 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:41:25.840 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:41:25.842 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:41:25.846 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:41:25.849 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:41:25.850 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:41:25.851 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:41:25.854 +02:00 [INF] Route matched with {action = "UpdateCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] UpdateCart(Core.Entities.ShoppingCart) on controller API.Controllers.CartController (API).
2025-03-22 21:41:25.862 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:41:25.867 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:41:25.871 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:41:25.880 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:41:25.891 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:41:25.897 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:41:25.904 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:41:25.908 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:41:25.909 +02:00 [DBG] Attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart' using the name '' in request data ...
2025-03-22 21:41:25.911 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:41:25.913 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:0000002B": started reading request body.
2025-03-22 21:41:25.914 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:0000002B": done reading request body.
2025-03-22 21:41:25.916 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'Core.Entities.ShoppingCart'
2025-03-22 21:41:25.918 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:41:25.924 +02:00 [DBG] Done attempting to bind parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:41:25.926 +02:00 [DBG] Attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart' ...
2025-03-22 21:41:25.928 +02:00 [DBG] Done attempting to validate the bound parameter 'cart' of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:41:25.935 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:41:25.941 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:41:25.942 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:41:25.942 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:41:25.945 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:41:25.946 +02:00 [INF] Executing ObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:41:25.948 +02:00 [INF] Executed action API.Controllers.CartController.UpdateCart (API) in 50.9267ms
2025-03-22 21:41:25.949 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.UpdateCart (API)'
2025-03-22 21:41:25.950 +02:00 [INF] HTTP POST /api/cart responded 200 in 116.4071 ms
2025-03-22 21:41:25.952 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/cart - 200 null application/json; charset=utf-8 140.7292ms
2025-03-22 21:41:31.319 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - null null
2025-03-22 21:41:31.343 +02:00 [DBG] 2 candidate(s) found for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:41:31.354 +02:00 [DBG] Endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)' with route pattern 'api/Payments/{cartId}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:41:31.358 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:41:31.367 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:41:31.369 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:41:31.372 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:41:31.373 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:41:31.374 +02:00 [INF] HTTP OPTIONS /api/payments/kWl9XZVQpSRhlKWAs9KcL responded 204 in 5.1524 ms
2025-03-22 21:41:31.381 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - 204 null null 61.8578ms
2025-03-22 21:41:31.383 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - application/json 2
2025-03-22 21:41:31.391 +02:00 [DBG] 2 candidate(s) found for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:41:31.392 +02:00 [DBG] Endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)' with route pattern 'api/Payments/{cartId}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:41:31.394 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/payments/kWl9XZVQpSRhlKWAs9KcL'
2025-03-22 21:41:31.399 +02:00 [DBG] Request matched endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)'
2025-03-22 21:41:31.400 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:41:31.401 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:41:31.403 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:41:31.406 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:41:31.410 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:41:31.417 +02:00 [DBG] Authorization was successful.
2025-03-22 21:41:31.418 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:41:31.419 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:41:31.420 +02:00 [INF] Executing endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)'
2025-03-22 21:41:31.422 +02:00 [INF] Route matched with {action = "CreateOrUpdatePaymentIntent", controller = "Payments"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.ShoppingCart]] CreateOrUpdatePaymentIntent(System.String) on controller API.Controllers.PaymentsController (API).
2025-03-22 21:41:31.423 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:41:31.425 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:41:31.426 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:41:31.428 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:41:31.430 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:41:31.431 +02:00 [DBG] Executing controller factory for controller API.Controllers.PaymentsController (API)
2025-03-22 21:41:31.433 +02:00 [DBG] Executed controller factory for controller API.Controllers.PaymentsController (API)
2025-03-22 21:41:31.436 +02:00 [DBG] Attempting to bind parameter 'cartId' of type 'System.String' ...
2025-03-22 21:41:31.439 +02:00 [DBG] Attempting to bind parameter 'cartId' of type 'System.String' using the name 'cartId' in request data ...
2025-03-22 21:41:31.442 +02:00 [DBG] Done attempting to bind parameter 'cartId' of type 'System.String'.
2025-03-22 21:41:31.443 +02:00 [DBG] Done attempting to bind parameter 'cartId' of type 'System.String'.
2025-03-22 21:41:31.444 +02:00 [DBG] Attempting to validate the bound parameter 'cartId' of type 'System.String' ...
2025-03-22 21:41:31.445 +02:00 [DBG] Done attempting to validate the bound parameter 'cartId' of type 'System.String'.
2025-03-22 21:41:31.447 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:41:31.450 +02:00 [DBG] Compiling query expression: 
'DbSet<DeliveryMethod>()
    .FirstOrDefault(e => EF.Property<int>(e, "Id") == __p_0)'
2025-03-22 21:41:31.453 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<DeliveryMethod>(
    asyncEnumerable: SingleQueryingEnumerable.Create<DeliveryMethod>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeliveryMethod.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeliveryMethod.DeliveryTime (string) Required, 1], [Property: DeliveryMethod.Description (string) Required, 2], [Property: DeliveryMethod.Price (decimal) Required, 3], [Property: DeliveryMethod.ShortName (string) Required, 4] }
            SELECT TOP(1) d.Id, d.DeliveryTime, d.Description, d.Price, d.ShortName
            FROM DeliveryMethods AS d
            WHERE d.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: DeliveryMethod.Id (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: DeliveryMethod.DeliveryTime (string) Required, 1], [Property: DeliveryMethod.Description (string) Required, 2], [Property: DeliveryMethod.Price (decimal) Required, 3], [Property: DeliveryMethod.ShortName (string) Required, 4] }
            SELECT TOP(1) d.Id, d.DeliveryTime, d.Description, d.Price, d.ShortName
            FROM DeliveryMethods AS d
            WHERE d.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            DeliveryMethod entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                DeliveryMethod instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(DeliveryMethod);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: DeliveryMethod.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (DeliveryMethod)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")]: 
                            {
                                return 
                                {
                                    DeliveryMethod instance;
                                    instance = new DeliveryMethod();
                                    instance.<Id>k__BackingField = dataReader.GetInt32(0);
                                    instance.<DeliveryTime>k__BackingField = dataReader.GetString(1);
                                    instance.<Description>k__BackingField = dataReader.GetString(2);
                                    instance.<Price>k__BackingField = dataReader.GetDecimal(3);
                                    instance.<ShortName>k__BackingField = dataReader.GetString(4);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: DeliveryMethod | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.DeliveryMethod")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(DeliveryMethod)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 21:41:31.456 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:41:31.457 +02:00 [DBG] Created DbConnection. (1ms).
2025-03-22 21:41:31.460 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.463 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.465 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:41:31.466 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:41:31.467 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:41:31.468 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM [DeliveryMethods] AS [d]
WHERE [d].[Id] = @__p_0
2025-03-22 21:41:31.474 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM [DeliveryMethods] AS [d]
WHERE [d].[Id] = @__p_0
2025-03-22 21:41:31.478 +02:00 [DBG] Context 'StoreContext' started tracking 'DeliveryMethod' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:31.479 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.479 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:41:31.480 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.481 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:41:31.484 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.485 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.486 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:41:31.487 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:41:31.487 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:41:31.488 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-03-22 21:41:31.492 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-03-22 21:41:31.493 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:41:31.494 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.495 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 21:41:31.496 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.496 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:41:31.885 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:41:31.888 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:41:31.889 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:41:31.891 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:41:31.892 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:41:31.892 +02:00 [INF] Executing OkObjectResult, writing value of type 'Core.Entities.ShoppingCart'.
2025-03-22 21:41:31.893 +02:00 [INF] Executed action API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API) in 461.8992ms
2025-03-22 21:41:31.895 +02:00 [INF] Executed endpoint 'API.Controllers.PaymentsController.CreateOrUpdatePaymentIntent (API)'
2025-03-22 21:41:31.895 +02:00 [INF] HTTP POST /api/payments/kWl9XZVQpSRhlKWAs9KcL responded 200 in 495.7358 ms
2025-03-22 21:41:31.896 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:41:31.897 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:41:31.898 +02:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-03-22 21:41:31.899 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/payments/kWl9XZVQpSRhlKWAs9KcL - 200 null application/json; charset=utf-8 516.455ms
2025-03-22 21:41:31.900 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:0000002D": started reading request body.
2025-03-22 21:41:31.901 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:0000002D": done reading request body.
2025-03-22 21:42:07.371 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/coupons/GIMME10 - null null
2025-03-22 21:42:07.378 +02:00 [DBG] 2 candidate(s) found for the request path '/api/coupons/GIMME10'
2025-03-22 21:42:07.379 +02:00 [DBG] Endpoint 'API.Controllers.CouponsController.ValidateCoupon (API)' with route pattern 'api/Coupons/{code}' is valid for the request path '/api/coupons/GIMME10'
2025-03-22 21:42:07.389 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/coupons/GIMME10'
2025-03-22 21:42:07.390 +02:00 [DBG] Request matched endpoint 'API.Controllers.CouponsController.ValidateCoupon (API)'
2025-03-22 21:42:07.391 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:42:07.391 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:42:07.392 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:42:07.394 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:42:07.395 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:42:07.395 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:42:07.396 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:42:07.396 +02:00 [INF] Executing endpoint 'API.Controllers.CouponsController.ValidateCoupon (API)'
2025-03-22 21:42:07.408 +02:00 [INF] Route matched with {action = "ValidateCoupon", controller = "Coupons"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.AppCoupon]] ValidateCoupon(System.String) on controller API.Controllers.CouponsController (API).
2025-03-22 21:42:07.409 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:42:07.412 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:42:07.413 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:42:07.415 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:42:07.416 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:42:07.417 +02:00 [DBG] Executing controller factory for controller API.Controllers.CouponsController (API)
2025-03-22 21:42:07.418 +02:00 [DBG] Executed controller factory for controller API.Controllers.CouponsController (API)
2025-03-22 21:42:07.420 +02:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' ...
2025-03-22 21:42:07.421 +02:00 [DBG] Attempting to bind parameter 'code' of type 'System.String' using the name 'code' in request data ...
2025-03-22 21:42:07.422 +02:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2025-03-22 21:42:07.423 +02:00 [DBG] Done attempting to bind parameter 'code' of type 'System.String'.
2025-03-22 21:42:07.424 +02:00 [DBG] Attempting to validate the bound parameter 'code' of type 'System.String' ...
2025-03-22 21:42:07.424 +02:00 [DBG] Done attempting to validate the bound parameter 'code' of type 'System.String'.
2025-03-22 21:42:07.745 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:42:07.749 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:42:07.752 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:42:07.752 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:42:07.752 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2025-03-22 21:42:07.754 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2025-03-22 21:42:07.756 +02:00 [INF] Executed action API.Controllers.CouponsController.ValidateCoupon (API) in 339.1001ms
2025-03-22 21:42:07.757 +02:00 [INF] Executed endpoint 'API.Controllers.CouponsController.ValidateCoupon (API)'
2025-03-22 21:42:07.758 +02:00 [INF] HTTP GET /api/coupons/GIMME10 responded 400 in 366.9625 ms
2025-03-22 21:42:07.761 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/coupons/GIMME10 - 400 null text/plain; charset=utf-8 389.4602ms
2025-03-22 21:42:10.267 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/orders - null null
2025-03-22 21:42:10.272 +02:00 [DBG] 3 candidate(s) found for the request path '/api/orders'
2025-03-22 21:42:10.274 +02:00 [DBG] Endpoint 'API.Controllers.OrdersController.CreateOrder (API)' with route pattern 'api/Orders' is valid for the request path '/api/orders'
2025-03-22 21:42:10.279 +02:00 [DBG] Endpoint 'API.Controllers.OrdersController.GetOrdersForUser (API)' with route pattern 'api/Orders' is valid for the request path '/api/orders'
2025-03-22 21:42:10.279 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/orders'
2025-03-22 21:42:10.281 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:42:10.284 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:42:10.286 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:42:10.287 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:42:10.288 +02:00 [INF] HTTP OPTIONS /api/orders responded 204 in 4.7858 ms
2025-03-22 21:42:10.291 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/orders - 204 null null 23.6899ms
2025-03-22 21:42:10.293 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/orders - application/json 325
2025-03-22 21:42:10.299 +02:00 [DBG] 3 candidate(s) found for the request path '/api/orders'
2025-03-22 21:42:10.301 +02:00 [DBG] Endpoint 'API.Controllers.OrdersController.CreateOrder (API)' with route pattern 'api/Orders' is valid for the request path '/api/orders'
2025-03-22 21:42:10.303 +02:00 [DBG] Endpoint 'API.Controllers.OrdersController.GetOrdersForUser (API)' with route pattern 'api/Orders' is valid for the request path '/api/orders'
2025-03-22 21:42:10.304 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/orders'
2025-03-22 21:42:10.306 +02:00 [DBG] Request matched endpoint 'API.Controllers.OrdersController.CreateOrder (API)'
2025-03-22 21:42:10.309 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:42:10.311 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:42:10.312 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:42:10.314 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:42:10.316 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:42:10.317 +02:00 [DBG] Authorization was successful.
2025-03-22 21:42:10.319 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:42:10.320 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:42:10.322 +02:00 [INF] Executing endpoint 'API.Controllers.OrdersController.CreateOrder (API)'
2025-03-22 21:42:10.330 +02:00 [INF] Route matched with {action = "CreateOrder", controller = "Orders"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Core.Entities.OrderAggregate.Order]] CreateOrder(API.DTOs.CreateOrderDto) on controller API.Controllers.OrdersController (API).
2025-03-22 21:42:10.332 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:42:10.333 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:42:10.335 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:42:10.337 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:42:10.338 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:42:10.339 +02:00 [DBG] Executing controller factory for controller API.Controllers.OrdersController (API)
2025-03-22 21:42:10.340 +02:00 [DBG] Executed controller factory for controller API.Controllers.OrdersController (API)
2025-03-22 21:42:10.341 +02:00 [DBG] Attempting to bind parameter 'orderDto' of type 'API.DTOs.CreateOrderDto' ...
2025-03-22 21:42:10.342 +02:00 [DBG] Attempting to bind parameter 'orderDto' of type 'API.DTOs.CreateOrderDto' using the name '' in request data ...
2025-03-22 21:42:10.342 +02:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-03-22 21:42:10.346 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000031": started reading request body.
2025-03-22 21:42:10.347 +02:00 [DBG] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:00000031": done reading request body.
2025-03-22 21:42:10.350 +02:00 [DBG] JSON input formatter succeeded, deserializing to type 'API.DTOs.CreateOrderDto'
2025-03-22 21:42:10.352 +02:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'API.DTOs.CreateOrderDto'.
2025-03-22 21:42:10.353 +02:00 [DBG] Done attempting to bind parameter 'orderDto' of type 'API.DTOs.CreateOrderDto'.
2025-03-22 21:42:10.353 +02:00 [DBG] Attempting to validate the bound parameter 'orderDto' of type 'API.DTOs.CreateOrderDto' ...
2025-03-22 21:42:10.355 +02:00 [DBG] Done attempting to validate the bound parameter 'orderDto' of type 'API.DTOs.CreateOrderDto'.
2025-03-22 21:42:10.359 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 21:42:10.361 +02:00 [DBG] Creating DbConnection.
2025-03-22 21:42:10.362 +02:00 [DBG] Created DbConnection. (0ms).
2025-03-22 21:42:10.362 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.363 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.363 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:42:10.364 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:42:10.365 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:42:10.367 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-03-22 21:42:10.375 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
WHERE [p].[Id] = @__p_0
2025-03-22 21:42:10.380 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.381 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.383 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 3ms reading results.
2025-03-22 21:42:10.387 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.388 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:42:10.390 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.391 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.391 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:42:10.393 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:42:10.394 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2025-03-22 21:42:10.395 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM [DeliveryMethods] AS [d]
WHERE [d].[Id] = @__p_0
2025-03-22 21:42:10.398 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[DeliveryTime], [d].[Description], [d].[Price], [d].[ShortName]
FROM [DeliveryMethods] AS [d]
WHERE [d].[Id] = @__p_0
2025-03-22 21:42:10.400 +02:00 [DBG] Context 'StoreContext' started tracking 'DeliveryMethod' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.406 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.409 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 8ms reading results.
2025-03-22 21:42:10.411 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.413 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 21:42:10.424 +02:00 [DBG] 'StoreContext' generated a temporary value for the property 'Order.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.426 +02:00 [DBG] Context 'StoreContext' started tracking 'Order' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.429 +02:00 [DBG] 'StoreContext' generated a temporary value for the property 'OrderItem.Id'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.432 +02:00 [DBG] Context 'StoreContext' started tracking 'OrderItem' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.433 +02:00 [DBG] Context 'StoreContext' started tracking 'ProductItemOrdered' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.435 +02:00 [DBG] Context 'StoreContext' started tracking 'PaymentSummary' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.438 +02:00 [DBG] Context 'StoreContext' started tracking 'ShippingAddress' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.440 +02:00 [DBG] SaveChanges starting for 'StoreContext'.
2025-03-22 21:42:10.440 +02:00 [DBG] DetectChanges starting for 'StoreContext'.
2025-03-22 21:42:10.463 +02:00 [DBG] DetectChanges completed for 'StoreContext'.
2025-03-22 21:42:10.474 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.475 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.476 +02:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2025-03-22 21:42:10.478 +02:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2025-03-22 21:42:10.479 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:42:10.480 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:42:10.484 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-03-22 21:42:10.485 +02:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([BuyerEmail], [DeliveryMethodId], [Discount], [OrderDate], [PaymentIntentId], [Status], [Subtotal], [PaymentSummary_Brand], [PaymentSummary_ExpMonth], [PaymentSummary_ExpYear], [PaymentSummary_Last4], [ShippingAddress_City], [ShippingAddress_Country], [ShippingAddress_Line1], [ShippingAddress_Line2], [ShippingAddress_Name], [ShippingAddress_PostalCode], [ShippingAddress_State])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-03-22 21:42:10.506 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (DbType = Int32), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (Size = 4000), @p8='?' (DbType = Int32), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (Size = 4000), @p14='?' (Size = 4000), @p15='?' (Size = 4000), @p16='?' (Size = 4000), @p17='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([BuyerEmail], [DeliveryMethodId], [Discount], [OrderDate], [PaymentIntentId], [Status], [Subtotal], [PaymentSummary_Brand], [PaymentSummary_ExpMonth], [PaymentSummary_ExpYear], [PaymentSummary_Last4], [ShippingAddress_City], [ShippingAddress_Country], [ShippingAddress_Line1], [ShippingAddress_Line2], [ShippingAddress_Name], [ShippingAddress_PostalCode], [ShippingAddress_State])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2025-03-22 21:42:10.508 +02:00 [DBG] The foreign key property 'Order.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:42:10.511 +02:00 [DBG] The foreign key property 'OrderItem.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:42:10.515 +02:00 [DBG] The foreign key property 'PaymentSummary.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:42:10.516 +02:00 [DBG] The foreign key property 'ShippingAddress.OrderId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:42:10.516 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.519 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 11ms reading results.
2025-03-22 21:42:10.520 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 21:42:10.521 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 21:42:10.521 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 21:42:10.524 +02:00 [DBG] Executing DbCommand [Parameters=[@p18='?' (DbType = Int32), @p19='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [Quantity], [ItemOrdered_PictureUrl], [ItemOrdered_ProductId], [ItemOrdered_ProductName])
OUTPUT INSERTED.[Id]
VALUES (@p18, @p19, @p20, @p21, @p22, @p23);
2025-03-22 21:42:10.527 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p18='?' (DbType = Int32), @p19='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p20='?' (DbType = Int32), @p21='?' (Size = 4000), @p22='?' (DbType = Int32), @p23='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [OrderItems] ([OrderId], [Price], [Quantity], [ItemOrdered_PictureUrl], [ItemOrdered_ProductId], [ItemOrdered_ProductName])
OUTPUT INSERTED.[Id]
VALUES (@p18, @p19, @p20, @p21, @p22, @p23);
2025-03-22 21:42:10.529 +02:00 [DBG] The foreign key property 'OrderItem.Id' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:42:10.531 +02:00 [DBG] The foreign key property 'ProductItemOrdered.OrderItemId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2025-03-22 21:42:10.532 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.533 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 4ms reading results.
2025-03-22 21:42:10.536 +02:00 [DBG] Committing transaction.
2025-03-22 21:42:10.540 +02:00 [DBG] Committed transaction.
2025-03-22 21:42:10.540 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.541 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 21:42:10.542 +02:00 [DBG] Disposing transaction.
2025-03-22 21:42:10.544 +02:00 [DBG] An entity of type 'Order' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.546 +02:00 [DBG] An entity of type 'OrderItem' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.546 +02:00 [DBG] An entity of type 'ProductItemOrdered' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.548 +02:00 [DBG] An entity of type 'PaymentSummary' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.549 +02:00 [DBG] An entity of type 'ShippingAddress' tracked by 'StoreContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 21:42:10.549 +02:00 [DBG] SaveChanges completed for 'StoreContext' with 2 entities written to the database.
2025-03-22 21:42:10.550 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 21:42:10.552 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 21:42:10.552 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 21:42:10.553 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 21:42:10.553 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 21:42:10.554 +02:00 [INF] Executing ObjectResult, writing value of type 'Core.Entities.OrderAggregate.Order'.
2025-03-22 21:42:10.559 +02:00 [INF] Executed action API.Controllers.OrdersController.CreateOrder (API) in 219.4123ms
2025-03-22 21:42:10.560 +02:00 [INF] Executed endpoint 'API.Controllers.OrdersController.CreateOrder (API)'
2025-03-22 21:42:10.560 +02:00 [INF] HTTP POST /api/orders responded 200 in 251.4327 ms
2025-03-22 21:42:10.561 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 21:42:10.564 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 21:42:10.565 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 21:42:10.566 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/orders - 200 null application/json; charset=utf-8 273.3335ms
2025-03-22 21:42:11.066 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/cart?id=kWl9XZVQpSRhlKWAs9KcL - null null
2025-03-22 21:42:11.077 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:42:11.079 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:42:11.082 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:42:11.085 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:42:11.087 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:42:11.090 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 21:42:11.096 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:42:11.100 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:42:11.113 +02:00 [DBG] The request is a preflight request.
2025-03-22 21:42:11.116 +02:00 [INF] HTTP OPTIONS /api/cart responded 204 in 19.2669 ms
2025-03-22 21:42:11.141 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:5001/api/cart?id=kWl9XZVQpSRhlKWAs9KcL - null null
2025-03-22 21:42:11.147 +02:00 [DBG] 4 candidate(s) found for the request path '/api/cart'
2025-03-22 21:42:11.140 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/cart?id=kWl9XZVQpSRhlKWAs9KcL - 204 null null 74.1862ms
2025-03-22 21:42:11.148 +02:00 [DBG] Endpoint 'API.Controllers.CartController.DeleteCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:42:11.149 +02:00 [DBG] Endpoint 'API.Controllers.CartController.UpdateCart (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:42:11.150 +02:00 [DBG] Endpoint 'API.Controllers.CartController.GetCartById (API)' with route pattern 'api/Cart' is valid for the request path '/api/cart'
2025-03-22 21:42:11.151 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/cart'
2025-03-22 21:42:11.153 +02:00 [DBG] Request matched endpoint 'API.Controllers.CartController.DeleteCart (API)'
2025-03-22 21:42:11.153 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:42:11.154 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:42:11.155 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:42:11.156 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:42:11.157 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:42:11.158 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:42:11.160 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:42:11.162 +02:00 [INF] Executing endpoint 'API.Controllers.CartController.DeleteCart (API)'
2025-03-22 21:42:11.163 +02:00 [INF] Route matched with {action = "DeleteCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] DeleteCart(System.String) on controller API.Controllers.CartController (API).
2025-03-22 21:42:11.165 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:42:11.166 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:42:11.167 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 21:42:11.170 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:42:11.171 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:42:11.173 +02:00 [DBG] Executing controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:42:11.174 +02:00 [DBG] Executed controller factory for controller API.Controllers.CartController (API)
2025-03-22 21:42:11.175 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' ...
2025-03-22 21:42:11.177 +02:00 [DBG] Attempting to bind parameter 'id' of type 'System.String' using the name 'id' in request data ...
2025-03-22 21:42:11.179 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-03-22 21:42:11.180 +02:00 [DBG] Done attempting to bind parameter 'id' of type 'System.String'.
2025-03-22 21:42:11.181 +02:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.String' ...
2025-03-22 21:42:11.182 +02:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.String'.
2025-03-22 21:42:11.185 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-03-22 21:42:11.186 +02:00 [INF] Executed action API.Controllers.CartController.DeleteCart (API) in 13.6667ms
2025-03-22 21:42:11.187 +02:00 [INF] Executed endpoint 'API.Controllers.CartController.DeleteCart (API)'
2025-03-22 21:42:11.188 +02:00 [INF] HTTP DELETE /api/cart responded 200 in 34.8871 ms
2025-03-22 21:42:11.190 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:5001/api/cart?id=kWl9XZVQpSRhlKWAs9KcL - 200 0 null 48.614ms
2025-03-22 21:44:23.675 +02:00 [DBG] Connection id "0HNB9EOEPQMHL" is closing.
2025-03-22 21:44:23.677 +02:00 [DBG] Connection id "0HNB9EOEPQMHL" is closed. The last processed stream ID was 29.
2025-03-22 21:44:23.678 +02:00 [DBG] Connection id "0HNB9EOEPQMHL" received FIN.
2025-03-22 21:44:23.678 +02:00 [DBG] The connection queue processing loop for 0HNB9EOEPQMHL completed.
2025-03-22 21:44:23.679 +02:00 [DBG] Connection id "0HNB9EOEPQMHL" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 21:44:23.685 +02:00 [DBG] Connection id "0HNB9EOEPQMHL" stopped.
2025-03-22 21:45:49.775 +02:00 [DBG] Connection id "0HNB9EOEPQMHN" accepted.
2025-03-22 21:45:49.777 +02:00 [DBG] Connection id "0HNB9EOEPQMHN" started.
2025-03-22 21:45:49.780 +02:00 [DBG] Connection 0HNB9EOEPQMHN established using the following protocol: "Tls13"
2025-03-22 21:45:49.781 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - null null
2025-03-22 21:45:49.792 +02:00 [DBG] 3 candidate(s) found for the request path '/api/products'
2025-03-22 21:45:49.795 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.CreateProduct (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:45:49.797 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetProducts (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 21:45:49.798 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products'
2025-03-22 21:45:49.804 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:45:49.805 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 21:45:49.808 +02:00 [INF] CORS policy execution successful.
2025-03-22 21:45:49.809 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 21:45:49.815 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 21:45:49.821 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 21:45:49.832 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:45:49.833 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 21:45:49.834 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:45:49.834 +02:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Product]]] GetProducts(Core.Specifications.ProductSpecParams) on controller API.Controllers.ProductsController (API).
2025-03-22 21:45:49.836 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 21:45:49.841 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 21:45:49.842 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 21:45:49.843 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 21:45:49.844 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 21:45:49.845 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:45:49.846 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 21:45:49.847 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:45:49.848 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' using the name '' in request data ...
2025-03-22 21:45:49.849 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Brands' in request data ...
2025-03-22 21:45:49.851 +02:00 [DBG] Could not find a value in the request with name 'Brands' for binding property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:45:49.852 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:45:49.853 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Types' in request data ...
2025-03-22 21:45:49.855 +02:00 [DBG] Could not find a value in the request with name 'Types' for binding property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:45:49.856 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 21:45:49.858 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String' using the name 'Sort' in request data ...
2025-03-22 21:45:49.859 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String'.
2025-03-22 21:45:49.859 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String' using the name 'Search' in request data ...
2025-03-22 21:45:49.863 +02:00 [DBG] Could not find a value in the request with name 'Search' for binding property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:45:49.864 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 21:45:49.867 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 21:45:49.871 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 21:45:49.873 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 21:45:49.877 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 21:45:49.881 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:45:49.883 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:45:49.885 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 21:45:49.888 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 21:45:49.894 +02:00 [DBG] Request was short circuited at action filter 'API.RequestHelpers.CacheAttribute'.
2025-03-22 21:45:49.897 +02:00 [INF] Executing ContentResult with HTTP Response ContentType of application/json
2025-03-22 21:45:49.898 +02:00 [INF] Executed action API.Controllers.ProductsController.GetProducts (API) in 53.5197ms
2025-03-22 21:45:49.902 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 21:45:49.905 +02:00 [INF] HTTP GET /api/products responded 200 in 99.8259 ms
2025-03-22 21:45:49.908 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - 200 2998 application/json 126.8511ms
2025-03-22 21:48:02.128 +02:00 [DBG] Connection id "0HNB9EOEPQMHN" is closing.
2025-03-22 21:48:02.131 +02:00 [DBG] Connection id "0HNB9EOEPQMHN" is closed. The last processed stream ID was 1.
2025-03-22 21:48:02.133 +02:00 [DBG] Connection id "0HNB9EOEPQMHN" received FIN.
2025-03-22 21:48:02.134 +02:00 [DBG] The connection queue processing loop for 0HNB9EOEPQMHN completed.
2025-03-22 21:48:02.138 +02:00 [DBG] Connection id "0HNB9EOEPQMHN" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 21:48:02.141 +02:00 [DBG] Connection id "0HNB9EOEPQMHN" stopped.
2025-03-22 22:20:48.608 +02:00 [DBG] Connection id "0HNB9EOEPQMHO" accepted.
2025-03-22 22:20:48.609 +02:00 [DBG] Connection id "0HNB9EOEPQMHO" started.
2025-03-22 22:20:48.612 +02:00 [DBG] Connection 0HNB9EOEPQMHO established using the following protocol: "Tls13"
2025-03-22 22:20:48.617 +02:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:5001/api/account/logout - null null
2025-03-22 22:20:48.626 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 22:20:48.630 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 22:20:48.633 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 22:20:48.635 +02:00 [DBG] Request matched endpoint 'API.Controllers.FallbackController.Index (API)'
2025-03-22 22:20:48.638 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 22:20:48.640 +02:00 [INF] CORS policy execution successful.
2025-03-22 22:20:48.640 +02:00 [DBG] The request is a preflight request.
2025-03-22 22:20:48.641 +02:00 [INF] HTTP OPTIONS /api/account/logout responded 204 in 3.1811 ms
2025-03-22 22:20:48.644 +02:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:5001/api/account/logout - 204 null null 27.0216ms
2025-03-22 22:20:48.648 +02:00 [DBG] Connection id "0HNB9EOEPQMHP" accepted.
2025-03-22 22:20:48.649 +02:00 [DBG] Connection id "0HNB9EOEPQMHP" started.
2025-03-22 22:20:48.652 +02:00 [DBG] Connection 0HNB9EOEPQMHP established using the following protocol: "Tls13"
2025-03-22 22:20:48.653 +02:00 [INF] Request starting HTTP/2 POST https://localhost:5001/api/account/logout - application/json 2
2025-03-22 22:20:48.654 +02:00 [DBG] 2 candidate(s) found for the request path '/api/account/logout'
2025-03-22 22:20:48.655 +02:00 [DBG] Endpoint 'API.Controllers.AccountController.Logout (API)' with route pattern 'api/Account/logout' is valid for the request path '/api/account/logout'
2025-03-22 22:20:48.656 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/account/logout'
2025-03-22 22:20:48.657 +02:00 [DBG] Request matched endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 22:20:48.657 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 22:20:48.658 +02:00 [INF] CORS policy execution successful.
2025-03-22 22:20:48.658 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 22:20:48.661 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 22:20:48.663 +02:00 [DBG] Compiling query expression: 
'DbSet<AppUser>()
    .FirstOrDefault(e => EF.Property<string>(e, "Id") == __p_0)'
2025-03-22 22:20:48.666 +02:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<AppUser>(
    asyncEnumerable: SingleQueryingEnumerable.Create<AppUser>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__p_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Projection Mapping:
                EmptyProjectionMember -> Dictionary<IProperty, int> { [Property: AppUser.Id (string) Required PK AfterSave:Throw, 0], [Property: AppUser.AccessFailedCount (int) Required, 1], [Property: AppUser.AddressId (no field, int?) Shadow FK Index, 2], [Property: AppUser.ConcurrencyStamp (string) Concurrency, 3], [Property: AppUser.Email (string) MaxLength(256), 4], [Property: AppUser.EmailConfirmed (bool) Required, 5], [Property: AppUser.FirstName (string), 6], [Property: AppUser.LastName (string), 7], [Property: AppUser.LockoutEnabled (bool) Required, 8], [Property: AppUser.LockoutEnd (DateTimeOffset?), 9], [Property: AppUser.NormalizedEmail (string) Index MaxLength(256), 10], [Property: AppUser.NormalizedUserName (string) Index MaxLength(256), 11], [Property: AppUser.PasswordHash (string), 12], [Property: AppUser.PhoneNumber (string), 13], [Property: AppUser.PhoneNumberConfirmed (bool) Required, 14], [Property: AppUser.SecurityStamp (string), 15], [Property: AppUser.TwoFactorEnabled (bool) Required, 16], [Property: AppUser.UserName (string) MaxLength(256), 17] }
            SELECT TOP(1) a.Id, a.AccessFailedCount, a.AddressId, a.ConcurrencyStamp, a.Email, a.EmailConfirmed, a.FirstName, a.LastName, a.LockoutEnabled, a.LockoutEnd, a.NormalizedEmail, a.NormalizedUserName, a.PasswordHash, a.PhoneNumber, a.PhoneNumberConfirmed, a.SecurityStamp, a.TwoFactorEnabled, a.UserName
            FROM AspNetUsers AS a
            WHERE a.Id == @__p_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            AppUser entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                AppUser instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(AppUser);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: AppUser.Id PK | Resolver: c => c.Dependencies.Model.FindEntityType("Core.Entities.AppUser").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetString(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (AppUser)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]: 
                            {
                                shadowSnapshot1 = (ISnapshot)new Snapshot<int?>(dataReader.IsDBNull(2) ? default(int?) : (int?)dataReader.GetInt32(2));
                                return 
                                {
                                    AppUser instance;
                                    instance = new AppUser();
                                    instance.<Id>k__BackingField = dataReader.GetString(0);
                                    instance.<AccessFailedCount>k__BackingField = dataReader.GetInt32(1);
                                    instance.<ConcurrencyStamp>k__BackingField = dataReader.IsDBNull(3) ? default(string) : dataReader.GetString(3);
                                    instance.<Email>k__BackingField = dataReader.IsDBNull(4) ? default(string) : dataReader.GetString(4);
                                    instance.<EmailConfirmed>k__BackingField = dataReader.GetBoolean(5);
                                    instance.<FirstName>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<LastName>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<LockoutEnabled>k__BackingField = dataReader.GetBoolean(8);
                                    instance.<LockoutEnd>k__BackingField = dataReader.IsDBNull(9) ? default(DateTimeOffset?) : (DateTimeOffset?)dataReader.GetFieldValue<DateTimeOffset>(9);
                                    instance.<NormalizedEmail>k__BackingField = dataReader.IsDBNull(10) ? default(string) : dataReader.GetString(10);
                                    instance.<NormalizedUserName>k__BackingField = dataReader.IsDBNull(11) ? default(string) : dataReader.GetString(11);
                                    instance.<PasswordHash>k__BackingField = dataReader.IsDBNull(12) ? default(string) : dataReader.GetString(12);
                                    instance.<PhoneNumber>k__BackingField = dataReader.IsDBNull(13) ? default(string) : dataReader.GetString(13);
                                    instance.<PhoneNumberConfirmed>k__BackingField = dataReader.GetBoolean(14);
                                    instance.<SecurityStamp>k__BackingField = dataReader.IsDBNull(15) ? default(string) : dataReader.GetString(15);
                                    instance.<TwoFactorEnabled>k__BackingField = dataReader.GetBoolean(16);
                                    instance.<UserName>k__BackingField = dataReader.IsDBNull(17) ? default(string) : dataReader.GetString(17);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: AppUser | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("Core.Entities.AppUser")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(AppUser)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            return entity;
        }, 
        contextType: Infrastructure.Data.StoreContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-03-22 22:20:48.691 +02:00 [DBG] Creating DbConnection.
2025-03-22 22:20:48.694 +02:00 [DBG] Created DbConnection. (3ms).
2025-03-22 22:20:48.696 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.709 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.712 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 22:20:48.715 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-03-22 22:20:48.716 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-03-22 22:20:48.718 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-03-22 22:20:48.731 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[AddressId], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__p_0
2025-03-22 22:20:48.733 +02:00 [DBG] Context 'StoreContext' started tracking 'AppUser' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:48.734 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.735 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 22:20:48.735 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.736 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 22:20:48.738 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.739 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.739 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 22:20:48.740 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 22:20:48.740 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 22:20:48.741 +02:00 [DBG] Executing DbCommand [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 22:20:48.744 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__user_Id_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a].[Id], [a].[ClaimType], [a].[ClaimValue], [a].[UserId]
FROM [AspNetUserClaims] AS [a]
WHERE [a].[UserId] = @__user_Id_0
2025-03-22 22:20:48.745 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.746 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 22:20:48.747 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.748 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 22:20:48.748 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.749 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.750 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 22:20:48.750 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2025-03-22 22:20:48.751 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2025-03-22 22:20:48.752 +02:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 22:20:48.754 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2025-03-22 22:20:48.755 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.756 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 0ms reading results.
2025-03-22 22:20:48.756 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.757 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (0ms).
2025-03-22 22:20:48.758 +02:00 [DBG] AuthenticationScheme: Identity.Application was successfully authenticated.
2025-03-22 22:20:48.759 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was successfully authenticated.
2025-03-22 22:20:48.760 +02:00 [DBG] Authorization was successful.
2025-03-22 22:20:48.760 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 22:20:48.761 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 22:20:48.761 +02:00 [INF] Executing endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 22:20:48.762 +02:00 [INF] Route matched with {action = "Logout", controller = "Account"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Logout() on controller API.Controllers.AccountController (API).
2025-03-22 22:20:48.763 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 22:20:48.764 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 22:20:48.764 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-03-22 22:20:48.765 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 22:20:48.766 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 22:20:48.766 +02:00 [DBG] Executing controller factory for controller API.Controllers.AccountController (API)
2025-03-22 22:20:48.767 +02:00 [DBG] Executed controller factory for controller API.Controllers.AccountController (API)
2025-03-22 22:20:48.768 +02:00 [INF] AuthenticationScheme: Identity.Application signed out.
2025-03-22 22:20:48.768 +02:00 [INF] AuthenticationScheme: Identity.External signed out.
2025-03-22 22:20:48.769 +02:00 [INF] AuthenticationScheme: Identity.TwoFactorUserId signed out.
2025-03-22 22:20:48.770 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-03-22 22:20:48.770 +02:00 [INF] Executed action API.Controllers.AccountController.Logout (API) in 3.5531ms
2025-03-22 22:20:48.771 +02:00 [INF] Executed endpoint 'API.Controllers.AccountController.Logout (API)'
2025-03-22 22:20:48.771 +02:00 [INF] HTTP POST /api/account/logout responded 204 in 113.7373 ms
2025-03-22 22:20:48.772 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 22:20:48.773 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:48.773 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 22:20:48.774 +02:00 [INF] Request finished HTTP/2 POST https://localhost:5001/api/account/logout - 204 null null 121.1296ms
2025-03-22 22:20:48.775 +02:00 [DBG] Connection id "0HNB9EOEPQMHP", Request id "0HNB9EOEPQMHP:00000001": started reading request body.
2025-03-22 22:20:48.776 +02:00 [DBG] Connection id "0HNB9EOEPQMHP", Request id "0HNB9EOEPQMHP:00000001": done reading request body.
2025-03-22 22:20:49.277 +02:00 [DBG] Waiting for the application to finish sending data.
2025-03-22 22:20:49.279 +02:00 [DBG] OnConnectedAsync ending.
2025-03-22 22:20:49.280 +02:00 [DBG] Socket closed.
2025-03-22 22:20:49.282 +02:00 [DBG] Removing connection GXXoeh4ud59PVAFularg5A from the list of connections.
2025-03-22 22:20:49.284 +02:00 [INF] Executed endpoint '/hub/notifications'
2025-03-22 22:20:49.286 +02:00 [INF] HTTP CONNECT /hub/notifications responded 200 in 2406585.2065 ms
2025-03-22 22:20:49.290 +02:00 [INF] Request finished HTTP/2 CONNECT https://localhost:5001/hub/notifications?id=GXXoeh4ud59PVAFularg5A - 200 null null 2406608.9145ms
2025-03-22 22:20:49.290 +02:00 [DBG] Connection id "0HNB9EOEPQMHM" received FIN.
2025-03-22 22:20:49.301 +02:00 [DBG] Connection id "0HNB9EOEPQMHM" is closed. The last processed stream ID was 51.
2025-03-22 22:20:49.300 +02:00 [INF] Connection id "0HNB9EOEPQMHM", Request id "0HNB9EOEPQMHM:0000001F": the application completed without reading the entire request body.
2025-03-22 22:20:49.307 +02:00 [DBG] Connection id "0HNB9EOEPQMHM" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-03-22 22:20:49.311 +02:00 [DBG] The connection queue processing loop for 0HNB9EOEPQMHM completed.
2025-03-22 22:20:49.312 +02:00 [DBG] Connection id "0HNB9EOEPQMHM" stopped.
2025-03-22 22:20:52.234 +02:00 [INF] Request starting HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - null null
2025-03-22 22:20:52.240 +02:00 [DBG] 3 candidate(s) found for the request path '/api/products'
2025-03-22 22:20:52.243 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.CreateProduct (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 22:20:52.246 +02:00 [DBG] Endpoint 'API.Controllers.ProductsController.GetProducts (API)' with route pattern 'api/Products' is valid for the request path '/api/products'
2025-03-22 22:20:52.250 +02:00 [DBG] Endpoint 'Fallback {*path:nonfile}' with route pattern '{*path:nonfile}' is valid for the request path '/api/products'
2025-03-22 22:20:52.252 +02:00 [DBG] Request matched endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 22:20:52.253 +02:00 [DBG] The request has an origin header: 'https://localhost:4200'.
2025-03-22 22:20:52.254 +02:00 [INF] CORS policy execution successful.
2025-03-22 22:20:52.256 +02:00 [DBG] AuthenticationScheme: Identity.Bearer was not authenticated.
2025-03-22 22:20:52.257 +02:00 [DBG] AuthenticationScheme: Identity.Application was not authenticated.
2025-03-22 22:20:52.258 +02:00 [DBG] AuthenticationScheme: Identity.BearerAndApplication was not authenticated.
2025-03-22 22:20:52.260 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 22:20:52.261 +02:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-03-22 22:20:52.262 +02:00 [INF] Executing endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 22:20:52.264 +02:00 [INF] Route matched with {action = "GetProducts", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IReadOnlyList`1[Core.Entities.Product]]] GetProducts(Core.Specifications.ProductSpecParams) on controller API.Controllers.ProductsController (API).
2025-03-22 22:20:52.267 +02:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-03-22 22:20:52.270 +02:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-03-22 22:20:52.274 +02:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)","API.RequestHelpers.CacheAttribute"]
2025-03-22 22:20:52.278 +02:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-03-22 22:20:52.282 +02:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-03-22 22:20:52.287 +02:00 [DBG] Executing controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 22:20:52.290 +02:00 [DBG] Executed controller factory for controller API.Controllers.ProductsController (API)
2025-03-22 22:20:52.292 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 22:20:52.294 +02:00 [DBG] Attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' using the name '' in request data ...
2025-03-22 22:20:52.296 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Brands' in request data ...
2025-03-22 22:20:52.298 +02:00 [DBG] Could not find a value in the request with name 'Brands' for binding property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 22:20:52.300 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Brands' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 22:20:52.300 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]' using the name 'Types' in request data ...
2025-03-22 22:20:52.307 +02:00 [DBG] Could not find a value in the request with name 'Types' for binding property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 22:20:52.309 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Types' of type 'System.Collections.Generic.List`1[System.String]'.
2025-03-22 22:20:52.315 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String' using the name 'Sort' in request data ...
2025-03-22 22:20:52.317 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Sort' of type 'System.String'.
2025-03-22 22:20:52.321 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String' using the name 'Search' in request data ...
2025-03-22 22:20:52.327 +02:00 [DBG] Could not find a value in the request with name 'Search' for binding property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 22:20:52.329 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.Search' of type 'System.String'.
2025-03-22 22:20:52.330 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32' using the name 'PageIndex' in request data ...
2025-03-22 22:20:52.332 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageIndex' of type 'System.Int32'.
2025-03-22 22:20:52.333 +02:00 [DBG] Attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2025-03-22 22:20:52.334 +02:00 [DBG] Done attempting to bind property 'Core.Specifications.ProductSpecParams.PageSize' of type 'System.Int32'.
2025-03-22 22:20:52.335 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 22:20:52.336 +02:00 [DBG] Done attempting to bind parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 22:20:52.337 +02:00 [DBG] Attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams' ...
2025-03-22 22:20:52.340 +02:00 [DBG] Done attempting to validate the bound parameter 'specParams' of type 'Core.Specifications.ProductSpecParams'.
2025-03-22 22:20:52.342 +02:00 [DBG] Entity Framework Core 9.0.2 initialized 'StoreContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.2' with options: EngineType=SqlServer 
2025-03-22 22:20:52.344 +02:00 [DBG] Creating DbConnection.
2025-03-22 22:20:52.344 +02:00 [DBG] Created DbConnection. (0ms).
2025-03-22 22:20:52.345 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.345 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.346 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 22:20:52.349 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2025-03-22 22:20:52.353 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2025-03-22 22:20:52.356 +02:00 [DBG] Executing DbCommand [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
ORDER BY [p].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-22 22:20:52.362 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Brand], [p].[Description], [p].[Name], [p].[PictureUrl], [p].[Price], [p].[QuantityInStock], [p].[Type]
FROM [Products] AS [p]
ORDER BY [p].[Name]
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2025-03-22 22:20:52.363 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.364 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.365 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.366 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.368 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.369 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.370 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.373 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.376 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.382 +02:00 [DBG] Context 'StoreContext' started tracking 'Product' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-03-22 22:20:52.388 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.392 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 28ms reading results.
2025-03-22 22:20:52.394 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.396 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 22:20:52.398 +02:00 [DBG] Opening connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.402 +02:00 [DBG] Opened connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.403 +02:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-03-22 22:20:52.404 +02:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-03-22 22:20:52.407 +02:00 [DBG] Initialized DbCommand for 'ExecuteReader' (4ms).
2025-03-22 22:20:52.409 +02:00 [DBG] Executing DbCommand [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-03-22 22:20:52.413 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2025-03-22 22:20:52.418 +02:00 [DBG] Closing data reader to 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.420 +02:00 [DBG] A data reader for 'skinet' on server 'localhost,1433' is being disposed after spending 1ms reading results.
2025-03-22 22:20:52.421 +02:00 [DBG] Closing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.423 +02:00 [DBG] Closed connection to database 'skinet' on server 'localhost,1433' (1ms).
2025-03-22 22:20:52.428 +02:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-03-22 22:20:52.429 +02:00 [DBG] No information found on request to perform content negotiation.
2025-03-22 22:20:52.429 +02:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-03-22 22:20:52.430 +02:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-03-22 22:20:52.431 +02:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-03-22 22:20:52.432 +02:00 [INF] Executing OkObjectResult, writing value of type 'API.RequestHelpers.Pagination`1[[Core.Entities.Product, Core, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-03-22 22:20:52.433 +02:00 [INF] Executed action API.Controllers.ProductsController.GetProducts (API) in 146.3503ms
2025-03-22 22:20:52.435 +02:00 [INF] Executed endpoint 'API.Controllers.ProductsController.GetProducts (API)'
2025-03-22 22:20:52.435 +02:00 [INF] HTTP GET /api/products responded 200 in 182.0002 ms
2025-03-22 22:20:52.437 +02:00 [DBG] 'StoreContext' disposed.
2025-03-22 22:20:52.437 +02:00 [DBG] Disposing connection to database 'skinet' on server 'localhost,1433'.
2025-03-22 22:20:52.438 +02:00 [DBG] Disposed connection to database '' on server '' (0ms).
2025-03-22 22:20:52.439 +02:00 [INF] Request finished HTTP/2 GET https://localhost:5001/api/products?sort=name&pageSize=10&pageIndex=1 - 200 null application/json; charset=utf-8 205.0145ms
